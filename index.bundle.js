!function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)i=l[d],o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([684,1]),n()}({345:function(e,t,n){var r=n(599);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},350:function(e,t,n){var r=n(624);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},598:function(e,t,n){var r={"./af":218,"./af.js":218,"./ar":219,"./ar-dz":220,"./ar-dz.js":220,"./ar-kw":221,"./ar-kw.js":221,"./ar-ly":222,"./ar-ly.js":222,"./ar-ma":223,"./ar-ma.js":223,"./ar-sa":224,"./ar-sa.js":224,"./ar-tn":225,"./ar-tn.js":225,"./ar.js":219,"./az":226,"./az.js":226,"./be":227,"./be.js":227,"./bg":228,"./bg.js":228,"./bm":229,"./bm.js":229,"./bn":230,"./bn.js":230,"./bo":231,"./bo.js":231,"./br":232,"./br.js":232,"./bs":233,"./bs.js":233,"./ca":234,"./ca.js":234,"./cs":235,"./cs.js":235,"./cv":236,"./cv.js":236,"./cy":237,"./cy.js":237,"./da":238,"./da.js":238,"./de":239,"./de-at":240,"./de-at.js":240,"./de-ch":241,"./de-ch.js":241,"./de.js":239,"./dv":242,"./dv.js":242,"./el":243,"./el.js":243,"./en-SG":244,"./en-SG.js":244,"./en-au":245,"./en-au.js":245,"./en-ca":246,"./en-ca.js":246,"./en-gb":247,"./en-gb.js":247,"./en-ie":248,"./en-ie.js":248,"./en-il":249,"./en-il.js":249,"./en-nz":250,"./en-nz.js":250,"./eo":251,"./eo.js":251,"./es":252,"./es-do":253,"./es-do.js":253,"./es-us":254,"./es-us.js":254,"./es.js":252,"./et":255,"./et.js":255,"./eu":256,"./eu.js":256,"./fa":257,"./fa.js":257,"./fi":258,"./fi.js":258,"./fo":259,"./fo.js":259,"./fr":260,"./fr-ca":261,"./fr-ca.js":261,"./fr-ch":262,"./fr-ch.js":262,"./fr.js":260,"./fy":263,"./fy.js":263,"./ga":264,"./ga.js":264,"./gd":265,"./gd.js":265,"./gl":266,"./gl.js":266,"./gom-latn":267,"./gom-latn.js":267,"./gu":268,"./gu.js":268,"./he":269,"./he.js":269,"./hi":270,"./hi.js":270,"./hr":271,"./hr.js":271,"./hu":272,"./hu.js":272,"./hy-am":273,"./hy-am.js":273,"./id":274,"./id.js":274,"./is":275,"./is.js":275,"./it":276,"./it-ch":277,"./it-ch.js":277,"./it.js":276,"./ja":278,"./ja.js":278,"./jv":279,"./jv.js":279,"./ka":280,"./ka.js":280,"./kk":281,"./kk.js":281,"./km":282,"./km.js":282,"./kn":283,"./kn.js":283,"./ko":284,"./ko.js":284,"./ku":285,"./ku.js":285,"./ky":286,"./ky.js":286,"./lb":287,"./lb.js":287,"./lo":288,"./lo.js":288,"./lt":289,"./lt.js":289,"./lv":290,"./lv.js":290,"./me":291,"./me.js":291,"./mi":292,"./mi.js":292,"./mk":293,"./mk.js":293,"./ml":294,"./ml.js":294,"./mn":295,"./mn.js":295,"./mr":296,"./mr.js":296,"./ms":297,"./ms-my":298,"./ms-my.js":298,"./ms.js":297,"./mt":299,"./mt.js":299,"./my":300,"./my.js":300,"./nb":301,"./nb.js":301,"./ne":302,"./ne.js":302,"./nl":303,"./nl-be":304,"./nl-be.js":304,"./nl.js":303,"./nn":305,"./nn.js":305,"./pa-in":306,"./pa-in.js":306,"./pl":307,"./pl.js":307,"./pt":308,"./pt-br":309,"./pt-br.js":309,"./pt.js":308,"./ro":310,"./ro.js":310,"./ru":311,"./ru.js":311,"./sd":312,"./sd.js":312,"./se":313,"./se.js":313,"./si":314,"./si.js":314,"./sk":315,"./sk.js":315,"./sl":316,"./sl.js":316,"./sq":317,"./sq.js":317,"./sr":318,"./sr-cyrl":319,"./sr-cyrl.js":319,"./sr.js":318,"./ss":320,"./ss.js":320,"./sv":321,"./sv.js":321,"./sw":322,"./sw.js":322,"./ta":323,"./ta.js":323,"./te":324,"./te.js":324,"./tet":325,"./tet.js":325,"./tg":326,"./tg.js":326,"./th":327,"./th.js":327,"./tl-ph":328,"./tl-ph.js":328,"./tlh":329,"./tlh.js":329,"./tr":330,"./tr.js":330,"./tzl":331,"./tzl.js":331,"./tzm":332,"./tzm-latn":333,"./tzm-latn.js":333,"./tzm.js":332,"./ug-cn":334,"./ug-cn.js":334,"./uk":335,"./uk.js":335,"./ur":336,"./ur.js":336,"./uz":337,"./uz-latn":338,"./uz-latn.js":338,"./uz.js":337,"./vi":339,"./vi.js":339,"./x-pseudo":340,"./x-pseudo.js":340,"./yo":341,"./yo.js":341,"./zh-cn":342,"./zh-cn.js":342,"./zh-hk":343,"./zh-hk.js":343,"./zh-tw":344,"./zh-tw.js":344};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=598},599:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".post-form {\r\n}\r\n\r\n.post-form .alert {\r\n    padding: 1rem;\r\n}\r\n\r\n.post-form .mood {\r\n    margin: 0 0 0.5rem 0;\r\n}\r\n\r\n.post-form .mood-toggle {\r\n    min-width: 8.5rem;\r\n}\r\n\r\n.post-form .mood i {\r\n    text-align: center;\r\n    width: 1rem;\r\n}\r\n\r\n\r\n.post-form .input {\r\n    width: 100%;\r\n    margin: 0 0 0.5rem 0;\r\n}\r\n.post-form .uploadFile {\r\n    width: 10;\r\n    height:10;\r\n}\r\n@media (min-width: 576px) {\r\n    .post-form .mood {\r\n        margin: 0 0.5rem 0 0;\r\n    }\r\n\r\n    .post-form .input {\r\n        margin: 0 0.5rem 0 0;\r\n    }\r\n}\r\n",""])},607:function(e,t,n){var r=n(608);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},608:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".post-item {\r\n    width: 100%\r\n}\r\n\r\n.post-item .post {\r\n    width: 100%\r\n}\r\n\r\n.post-item .mood {\r\n    text-align: center;\r\n    font-size: 2rem;\r\n    width: 3rem;\r\n}\r\n\r\n.post-item .wrap {\r\n    width: 100%;\r\n    padding-left: 0.75rem;\r\n}\r\n\r\n.post-item .ts {\r\n    color: #bcbcbc;\r\n    font-size: 0.875rem;\r\n    margin-bottom: 0.25rem;\r\n}\r\n\r\n.post-item .text {\r\n    padding-left: inherit;\r\n    border-left: inset;\r\n}\r\n\r\n.post-item .vote {\r\n    color: #bcbcbc;\r\n    padding-top: 0.5rem;\r\n}\r\n\r\n.post-item .vote .vote-plus i {\r\n    color: #bcdff1;\r\n    padding-left: 0.5rem;\r\n}\r\n.post-item .fileBtn {\r\n    float: right;\r\n}\r\n.tooltip-inner {\r\n    max-width: none !important;\r\n}\r\n\r\n.tooltip-inner i.vote-tooltip {\r\n    font-size: 1.5rem;\r\n    width: 2.25rem;\r\n    line-height: 1.75;\r\n}\r\n\r\n.tooltip-inner i.vote-tooltip:hover {\r\n    color: #31b0d5\r\n}\r\n",""])},622:function(e,t,n){var r=n(623);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},623:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".post-list {\r\n}\r\n\r\n.post-list .empty {\r\n    height: 8rem;\r\n    border-color: rgba(255, 255, 255, 0);\r\n    background-color: transparent;\r\n}\r\n\r\n.post-list .empty-text {\r\n    text-align: center;\r\n    color: rgba(255, 255, 255, 0.7);\r\n}\r\n.list-group-item {\r\n    background-color: #f5f5f5;\r\n}",""])},624:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,"",""])},634:function(e,t,n){var r=n(635);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},635:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".today {\r\n    padding: 5rem 1rem 1rem 1rem;\r\n}\r\n\r\n.today .weather {\r\n    width: 100%;\r\n    max-width: 24rem;\r\n    margin: 0 auto;\r\n}\r\n\r\n.today .posts {\r\n    width: 100%;\r\n    max-width: 50rem;\r\n    margin: 0 auto;\r\n}\r\n\r\n.today .posts .loading {\r\n    position: fixed;\r\n    bottom: 1rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    z-index: 999;\r\n}\r\n",""])},636:function(e,t,n){var r=n(637);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},637:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".card-container{\r\n    display: inline-flex;\r\n}\r\n.card {\r\n    width: 193px;\r\n};\r\n\r\n.centerImg {\r\n    height: 160;\r\n    padding-top: '56.25%'; \r\n    margin-left: auto;\r\n    margin-right:auto;\r\n};\r\n\r\n.expandOpen {\r\n    transform: 'rotate(180deg)';\r\n  };\r\n\r\n.avatar {\r\n    background-color: red;\r\n  };\r\n\r\n.icon{\r\n    float:right;\r\n}\r\n.p_wrap{\r\n    white-space: pre-line\r\n}\r\nimg {\r\n    width:150px;\r\n}",""])},638:function(e,t,n){var r=n(639);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},639:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".profile-list {\r\n    display:inline-flex;\r\n}\r\n\r\n.profile-list .empty {\r\n    height: 8rem;\r\n    border-color: rgba(255, 255, 255, 0);\r\n    background-color: transparent;\r\n}\r\n\r\n.profile-list .empty-text {\r\n    text-align: center;\r\n    color: rgba(255, 255, 255, 0.7);\r\n}\r\n.list-group-item {\r\n    background-color: #f5f5f5;\r\n}\r\n.addBtn {\r\n\r\n    display: grid;\r\n}",""])},678:function(e,t,n){var r=n(679);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},679:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".ImgAlbum {\r\n    object-fit: cover;\r\n    height: 500px;\r\n    width: 100%;\r\n    overflow: hidden;\r\n\r\n}\r\n.carousel {\r\n    align-items:center;\r\n\r\n}\r\n.image-gallery-slide{\r\n    width:100%;\r\n}\r\n.image-gallery-slide img {\r\n    width: 100%\r\n  }",""])},680:function(e,t,n){var r=n(681);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(58)(r,o);r.locals&&(e.exports=r.locals)},681:function(e,t,n){(e.exports=n(57)(!1)).push([e.i,".main {\r\n    height: 100%;\r\n}\r\n\r\n.main .footer {\r\n    text-align: center;\r\n    color: rgba(255, 255, 255, 0.7);\r\n    padding: 6rem 2rem 2rem 2rem;\r\n}\r\n\r\n.main .search {\r\n    position: relative;\r\n    width: 100%;\r\n    \r\n}\r\n.main .navbarBtn{\r\n    margin: 0px 10px 0px 10px;\r\n}\r\n.main .search input {\r\n    padding-right: 1.5rem;\r\n}\r\n\r\n.main .search i {\r\n    position: absolute;\r\n    top: 0.25rem;\r\n    right: 0.5rem;\r\n}\r\n\r\n.main .search i:hover {\r\n    color: #5bc0de;\r\n}\r\n.main .profileImg {\r\n    height: 3rem;\r\n    width: 3rem;\r\n    border-radius: 40;\r\n}\r\n.main .bg-faded{}\r\n@media (min-width: 576px) {\r\n    .main .search {\r\n        width: 10rem;\r\n    }\r\n}\r\n",""])},684:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(17),i=n.n(a),l=n(41),s=n(174),c=n(73),u=n(101),d=n(729),f=n(744),h=n(745),p=n(1),m=n.n(p),g=n(736),v=n(750),y=n(727),b=n(139),E=n.n(b),w=n(4),P=n.n(w),k=n(728);n(345);var x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var C=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handlePost=(r=regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.storage().ref(),r=o.state,a=r.inputValue,i=r.titleValue,s=r.filename,c=r.file,a&&i&&s&&c){e.next=5;break}return o.setState({inputDanger:!0}),e.abrupt("return");case 5:return e.prev=5,e.next=8,t.child("pdfs/"+s).put(c);case 8:if(!e.sent){e.next=13;break}console.log("Upload Success"),e.next=14;break;case 13:throw"Upload Failed";case 14:return e.next=16,t.child("pdfs/"+s).getDownloadURL();case 16:if(!(u=e.sent)){e.next=21;break}console.log("File available at",u),e.next=22;break;case 21:throw"Cannot get Url";case 22:o.props.onPost(i,a,s,u),o.setState({inputValue:"",titleValue:"",inputDanger:!1,filename:"",file:null}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),alert(e.t0);case 29:case"end":return e.stop()}},e,n,[[5,26]])}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),o.state={inputValue:"",inputDanger:!1,titleValue:"",filename:"",file:null},o.inputEl=null,o.handleInputChange=o.handleInputChange.bind(o),o.handleDropdownSelect=o.handleDropdownSelect.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.handlePost=o.handlePost.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),x(t,[{key:"render",value:function(){var e=this,t=this.state.inputDanger?"danger":"info";return o.a.createElement("div",{className:"post-form"},o.a.createElement(y.a,{color:t,className:"d-flex flex-column flex-sm-row justify-content-center ",style:{marginBottom:"0rem"}},o.a.createElement("div",{className:"mood align-self-start"},this.state.inputDanger&&!this.state.titleValue?"Title(請填寫)":"Title",o.a.createElement(k.a,{className:"input",type:"textarea",innerRef:function(t){e.inputEl=t},value:this.state.titleValue,onChange:this.handleTitleChange,placeholder:"title"}),this.state.inputDanger&&!this.state.inputValue?"Description(請填寫)":"Description",o.a.createElement(k.a,{className:"input",type:"textarea",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:"Brief Description"}),this.state.inputDanger&&!this.state.filename?"Choose your file(請選擇檔案)":"Choose your file",o.a.createElement(k.a,{className:"input",type:"file",name:"file",onChange:function(t){return e.onChange(t)}})),o.a.createElement(d.a,{className:"btn-post align-self-end",color:"info",onClick:this.handlePost},"Post")))}},{key:"onChange",value:function(e){this.setState({filename:e.target.files[0].name,file:e.target.files[0],inputDanger:!1})}},{key:"handleDropdownSelect",value:function(e){this.setState({mood:e})}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:"handleTitleChange",value:function(e){var t=e.target.value;this.setState({titleValue:t}),t&&this.setState({inputDanger:!1})}}]),t}();C.propTypes={onPost:m.a.func};var _=C,j=n(734),S=n(735),D=n(731),I=n(732),G=n(733),O=n(42),T=(n(607),n(688)),R=n(59),M=n.n(R),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var L=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.editPost=(r=regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.state,r=t.inputValue,a=t.titleValue,i=t.filename,s=t.file,console.log("postItem/filename: ",i),i!==o.props.filename){e.next=6;break}o.props.onEdit(o.props.docId,a,r,i,""),e.next=30;break;case 6:return c=l.storage().ref(),e.prev=7,e.next=10,c.child("pdfs/"+i).put(s);case 10:if(!e.sent){e.next=15;break}console.log("Upload Success"),e.next=16;break;case 15:throw"Upload Failed";case 16:return e.next=18,c.child("pdfs/"+i).getDownloadURL();case 18:if(!(u=e.sent)){e.next=23;break}console.log("File available at",u),e.next=24;break;case 23:throw"Cannot get Url";case 24:o.props.onEdit(o.props.docId,a,r,i,u),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(7),alert(e.t0);case 30:o.handleEditToggle();case 31:case"end":return e.stop()}},e,n,[[7,27]])}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});t(l)}("next")})}),o.state={modalDelete:!1,modalEdit:!1,inputValue:o.props.text,inputDanger:!1,titleValue:o.props.title,filename:o.props.filename,file:null},o.handleDeleteToggle=o.handleDeleteToggle.bind(o),o.deletePost=o.deletePost.bind(o),o.editPost=o.editPost.bind(o),o.handleEditToggle=o.handleEditToggle.bind(o),o.inputEl=null,o.handleInputChange=o.handleInputChange.bind(o),o.handleDropdownSelect=o.handleDropdownSelect.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),N(t,[{key:"render",value:function(){var e=this,t=this.props,n=(t.docId,t.text),r=t.title,a=t.ts,i=t.downloadurl,l=(t.filename,this.state.inputDanger?"has-danger":"");return o.a.createElement("div",{className:"post-item d-flex flex-column"},o.a.createElement("div",{className:"post d-flex"},o.a.createElement("div",{className:"wrap"},this.props.editMode&&o.a.createElement("div",null,o.a.createElement(d.a,{close:!0,onClick:this.handleDeleteToggle},o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.a,null))),o.a.createElement(d.a,{close:!0,onClick:this.handleEditToggle},o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.b,null)))),o.a.createElement(M.a,null,o.a.createElement("div",{className:"title"},o.a.createElement(T.a,{style:{textAlign:"left",fontWeight:"bold"},variant:"h5",gutterBottom:!0},r,":")),o.a.createElement("div",{className:"text",style:{whiteSpace:"pre-line",borderColor:"#dee2e6"}},o.a.createElement(T.a,{variant:"body1"},n)),o.a.createElement("div",{className:"ts"},P()(1e3*a).calendar(),o.a.createElement(d.a,{className:"fileBtn",onClick:function(){return console.log(i)},href:i,target:"_blank"},"Paper"))))),o.a.createElement(v.a,{isOpen:this.state.modalDelete,toggle:this.handleDeleteToggle},o.a.createElement(D.a,{toggle:this.handleDeleteToggle},"Delete"),o.a.createElement(I.a,null,"Do you really want to delete this post?"),o.a.createElement(G.a,null,o.a.createElement(d.a,{color:"danger",onClick:this.deletePost},"Yes")," ",o.a.createElement(d.a,{color:"primary",onClick:this.handleDeleteToggle},"No"))),o.a.createElement(v.a,{isOpen:this.state.modalEdit,toggle:this.handleEditToggle},o.a.createElement(D.a,{toggle:this.handleEditToggle},"Edit"),o.a.createElement(I.a,null,o.a.createElement("div",{className:"post-form"},o.a.createElement(y.a,{color:"info",className:"d-flex flex-column flex-sm-row justify-content-center "+l},o.a.createElement("div",{className:"mood align-self-start"},"Title:",o.a.createElement(k.a,{className:"input",type:"textarea",innerRef:function(t){e.inputEl=t},value:this.state.titleValue,onChange:this.handleTitleChange,placeholder:"title"}),"Brief description:",o.a.createElement(k.a,{className:"input",type:"textarea",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:"Brief Description"}),"Choose your file:",o.a.createElement(k.a,{className:"input",type:"file",name:"file",onChange:function(t){return e.onChange(t)}}))))),o.a.createElement(G.a,null,o.a.createElement(d.a,{color:"danger",onClick:this.editPost},"Yes")," ",o.a.createElement(d.a,{color:"primary",onClick:this.handleEditToggle},"No"))))}},{key:"handleDeleteToggle",value:function(){this.setState(function(e){return{modalDelete:!e.modalDelete}})}},{key:"handleEditToggle",value:function(){var e=this;this.setState(function(t){return{modalEdit:!t.modalEdit,inputValue:e.props.text,titleValue:e.props.title}})}},{key:"deletePost",value:function(){console.log("docId in PostItem: ",this.props.docId),this.props.onDeletePost(this.props.docId),this.handleDeleteToggle}},{key:"onChange",value:function(e){this.setState({filename:e.target.files[0].name,file:e.target.files[0]})}},{key:"handleDropdownSelect",value:function(e){this.setState({mood:e})}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:"handleTitleChange",value:function(e){var t=e.target.value;this.setState({titleValue:t}),t&&this.setState({inputDanger:!1})}}]),t}();L.propTypes={docId:m.a.string,text:m.a.string,title:m.a.string,ts:m.a.number,filename:m.a.string,downloadurl:m.a.string,onDeletePost:m.a.func,onEdit:m.a.func,editMode:m.a.bool};var U=L,A=(n(622),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var z=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleDeletePost=n.handleDeletePost.bind(n),n.handleEditPost=n.handleEditPost.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),B(t,[{key:"render",value:function(){var e=this,t=this.props.posts,n=o.a.createElement(j.a,{className:"empty d-flex justify-content-center align-items-center"},o.a.createElement("div",{className:"empty-text"},"No post here.",o.a.createElement("br",null),"Go add some posts."));return t.length&&(n=t.map(function(t){return o.a.createElement(j.a,{key:t.id,action:!0},o.a.createElement(U,A({},t,{onDeletePost:e.handleDeletePost,onEdit:e.handleEditPost,editMode:e.props.editMode})))})),o.a.createElement("div",{className:"post-list"},o.a.createElement(S.a,null,n))}},{key:"handleDeletePost",value:function(e){this.props.onDeletePost(e)}},{key:"handleEditPost",value:function(e,t,n,r,o){console.log("postList/filename: ",r),this.props.onEditPost(e,t,n,r,o)}}]),t}();z.propTypes={posts:m.a.array,filter:m.a.string,onDeletePost:m.a.func,onEditPost:m.a.func,editMode:m.a.bool};var V=z,F=n(737),q=n(749),W=(n(350),n(747)),H=n(70),Y=n.n(H),J=n(71),X=n.n(J),K=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={professorEdit:!1,name:n.props.name,content:n.props.content,file:null,imagePreviewUrl:""},n.toggleProfessorEdit=n.toggleProfessorEdit.bind(n),n.handleEditProfessor=n.handleEditProfessor.bind(n),n.handleContentChange=n.handleContentChange.bind(n),n.handleNameChange=n.handleNameChange.bind(n),n.onImageChange=n.onImageChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),K(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.content,a=t.professorEdit,i=t.imagePreviewUrl,l=o.a.createElement("div",null,o.a.createElement(M.a,null,o.a.createElement(g.a,{style:{padding:"0rem 0rem",whiteSpace:"pre-line",marginBottom:0,height:"150px"}},o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h6",gutterBottom:!0},this.props.name),o.a.createElement("hr",{className:"my-2"}),o.a.createElement("p",null,this.props.content,this.props.editMode&&o.a.createElement(d.a,{onClick:this.toggleProfessorEdit,style:{float:"right"},color:"primary",close:!0},o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.b,null)))))));return a&&(l=o.a.createElement("div",null,o.a.createElement(g.a,{style:{padding:"0rem 0rem"}},o.a.createElement("div",null,o.a.createElement(q.a,{style:{fontSize:"1.5em"},onChange:this.handleNameChange,defaultValue:n,fullWidth:!0,inputProps:{"aria-label":"naked"}}),o.a.createElement("hr",{className:"my-2"}),o.a.createElement(q.a,{style:{fontSize:"1em"},className:"lead",multiline:!0,fullWidth:!0,defaultValue:r,onChange:this.handleContentChange,inputProps:{"aria-label":"naked"}}),o.a.createElement(W.a,{style:{float:"right"},onClick:this.handleEditProfessor},o.a.createElement(Y.a,null)),o.a.createElement(W.a,{style:{float:"right"},onClick:this.toggleProfessorEdit},o.a.createElement(X.a,null)))))),o.a.createElement("div",null,o.a.createElement(F.a,null,o.a.createElement(F.a,{left:!0},this.props.editMode&&i&&a?o.a.createElement(F.a,{style:{height:"150px"},object:!0,src:i,alt:"Generic placeholder image"}):o.a.createElement(F.a,{style:{height:"150px",borderRadius:"100%"},object:!0,src:this.props.src,alt:"Generic placeholder image"})),o.a.createElement(F.a,{body:!0},l)),this.props.editMode&&a&&o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(k.a,{style:{maxWidth:"11%"},className:"input",type:"file",name:"file",onChange:function(t){return e.onImageChange(t)}})))}},{key:"toggleProfessorEdit",value:function(){var e=this;this.setState(function(t){return{professorEdit:!t.professorEdit,name:e.props.name,content:e.props.content,imagePreviewUrl:"",file:null}})}},{key:"handleEditProfessor",value:function(){var e=this.props,t=e.name,n=e.content;this.state.name!==t||this.state.content!==n||""!==this.state.imagePreviewUrl?(this.props.onEdit(this.props.docId,this.state.name,this.state.content,this.state.file),this.toggleProfessorEdit()):this.toggleProfessorEdit()}},{key:"handleContentChange",value:function(e){this.setState({content:e.target.value})}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"onImageChange",value:function(e){var t=this;e.preventDefault();var n=e.target.files[0];if(n){var r=new FileReader;r.onloadend=function(){t.setState({file:n,imagePreviewUrl:r.result})},r.readAsDataURL(n)}}}]),t}();Q.propTypes={name:m.a.string,content:m.a.string,docId:m.a.string,onEdit:m.a.func,editMode:m.a.bool,src:m.a.string};var Z=Q,$=n(110),ee=(n(633),n(634),n(636),n(8),n(738)),te=n(741),ne=n(739),re=n(740),oe=n(367),ae=n.n(oe),ie=n(746),le=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function se(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}var ce=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleNameChange=function(e){return function(e){r.setState({name:e.target.value})}},r.handleContentChange=function(e){return function(e){r.setState({content:e.target.value})}},r.handleEdit=se(regeneratorRuntime.mark(function e(){var t,o,a,i,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state,o=t.name,a=t.content,i=t.filename,s=t.file,c=r.props.docId,e.prev=2,u="",!i){e.next=22;break}return d=l.storage().ref(),e.next=8,d.child("profiles/"+i).put(s);case 8:if(!e.sent){e.next=13;break}console.log("Upload Success"),e.next=14;break;case 13:throw"Upload Failed";case 14:return e.next=16,d.child("profiles/"+i).getDownloadURL();case 16:if(!(u=e.sent)){e.next=21;break}console.log("File available at",u),e.next=22;break;case 21:throw"Cannot get Url";case 22:if(o!==r.props.name||a!==r.props.content||u!==r.props.src){e.next=27;break}return e.next=25,r.editMode("normal");case 25:return console.log("nothing to change in this profile"),e.abrupt("return");case 27:r.props.onEdit(c,o,a,u),r.editMode("normal"),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(2),alert(e.t0);case 34:case"end":return e.stop()}},e,n,[[2,31]])})),r.handleDelete=se(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.docId,r.props.onDelete(t);case 2:case"end":return e.stop()}},e,n)})),r.state={expanded:!1,mode:"normal",name:r.props.name,content:r.props.content,file:null,imagePreviewUrl:""},r.handleExpandClick=r.handleExpandClick.bind(r),r.editMode=r.editMode.bind(r),r.handleNameChange=r.handleNameChange.bind(r),r.handleContentChange=r.handleContentChange.bind(r),r.handleEdit=r.handleEdit.bind(r),r.onImageChange=r.onImageChange.bind(r),r.handleDelete=r.handleDelete.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),le(t,[{key:"handleExpandClick",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.name,a=t.content,i=this.state.mode;if("normal"===i)return o.a.createElement(ee.a,{className:"card"},this.props.editMode&&o.a.createElement(d.a,{close:!0,onClick:this.handleDelete}),o.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.a.createElement("img",{height:"180",src:n})),o.a.createElement(ne.a,{disableSpacing:!0},r,o.a.createElement(W.a,{className:"icon",onClick:this.handleExpandClick,"aria-expanded":this.state.expanded,"aria-label":"Show more"},o.a.createElement(ae.a,null)),this.props.editMode&&o.a.createElement(d.a,{close:!0,onClick:function(){return e.editMode("edit")}},o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.b,null)))),o.a.createElement(re.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},o.a.createElement(te.a,null,o.a.createElement(M.a,null,o.a.createElement("div",{className:"p_wrap"},a)))));if("edit"===i){var l=this.state.imagePreviewUrl,s=o.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.a.createElement("img",{height:"180",src:n}));return l&&(s=o.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},o.a.createElement("img",{height:"180",src:l}))),o.a.createElement(ee.a,{className:"card"},o.a.createElement(d.a,{close:!0,onClick:this.handleDelete}),s,o.a.createElement(k.a,{className:"input",type:"file",name:"file",onChange:function(t){return e.onImageChange(t)}}),o.a.createElement(ne.a,{disableSpacing:!0},o.a.createElement(ie.a,{id:"filled-name",label:"Name",value:this.state.name,onChange:this.handleNameChange("name"),margin:"normal",variant:"filled"})),o.a.createElement(re.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},o.a.createElement(te.a,null,o.a.createElement(ie.a,{id:"filled-multiline-flexible",multiline:!0,label:"Introduction",value:this.state.content,onChange:this.handleContentChange("name"),margin:"normal",variant:"filled"}),o.a.createElement("div",{style:{float:"right"}},o.a.createElement(W.a,{className:"icon",onClick:function(){return e.editMode("normal")}},o.a.createElement(X.a,null)),o.a.createElement(W.a,{className:"icon",onClick:this.handleEdit},o.a.createElement(Y.a,null))))))}}},{key:"onImageChange",value:function(e){var t=this;e.preventDefault();var n=e.target.files[0];if(n){var r=new FileReader;r.onloadend=function(){t.setState({file:n,imagePreviewUrl:r.result,filename:n.name})},r.readAsDataURL(n)}}},{key:"editMode",value:function(e){this.setState(function(t){return{expanded:!t.expanded,mode:e}})}}]),t}();ce.propTypes={src:m.a.string,name:m.a.string,content:m.a.string,onEdit:m.a.func,docId:m.a.string,onDelete:m.a.func,editMode:m.a.bool};var ue=ce,de=(n(638),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),fe=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var he=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDeleteProfile=n.handleDeleteProfile.bind(n),n.handleEditProfile=n.handleEditProfile.bind(n),n.createProfile=n.createProfile.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),fe(t,[{key:"render",value:function(){var e=this,t=this.props.profiles,n=o.a.createElement("div",{className:"empty-text"},"No profile here.",o.a.createElement("br",null),"Go add some profiles.");return t.length&&(n=t.map(function(t){return o.a.createElement("div",{className:"profile-list",key:t.id},o.a.createElement(ue,de({},t,{key:t.id,onEdit:e.handleEditProfile,onDelete:e.handleDeleteProfile,editMode:e.props.editMode})))})),o.a.createElement("div",{style:{marginBottom:"5%"}},o.a.createElement("div",null,n,this.props.editMode&&o.a.createElement("div",{className:"addBtn"},o.a.createElement(d.a,{onClick:this.createProfile},"New Profile"))))}},{key:"createProfile",value:function(){console.log("profile-list: onCreate"),this.props.onCreateProfile()}},{key:"handleDeleteProfile",value:function(e){this.props.onDeleteProfile(e)}},{key:"handleEditProfile",value:function(e,t,n,r){this.props.onEditProfile(e,t,n,r)}}]),t}();he.propTypes={onEditProfile:m.a.func,profiles:m.a.array,onDeleteProfile:m.a.func,onCreateProfile:m.a.func,editMode:m.a.bool};var pe=he,me=n(689),ge=n(742),ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ye=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gridContent:n.props.gridContent,gridTitle:n.props.gridTitle,gridEdit:!1},n.handleGridContentChange=n.handleGridContentChange.bind(n),n.handleGridTitleChange=n.handleGridTitleChange.bind(n),n.toggleGridEdit=n.toggleGridEdit.bind(n),n.handleEditGrid=n.handleEditGrid.bind(n),n.handleDeleteGrid=n.handleDeleteGrid.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),ve(t,[{key:"render",value:function(){var e,t,n,r=this.state,a=r.gridTitle,i=r.gridEdit,l=r.gridContent;return i?o.a.createElement("div",{style:{flexGrow:1,display:"flex"}},o.a.createElement(ge.a,{container:!0},o.a.createElement(ge.a,{item:!0,xs:2},o.a.createElement(me.a,{style:{height:"100%"}},o.a.createElement(q.a,{style:{fontSize:"1em",textAlign:"center"},onChange:this.handleGridTitleChange,defaultValue:a,fullWidth:!0,inputProps:{"aria-label":"naked"}}))),o.a.createElement(ge.a,{item:!0,xs:10},o.a.createElement(me.a,{style:{textAlign:"left",height:"100%"}},o.a.createElement(q.a,{style:{fontSize:"1em"},className:"lead",multiline:!0,fullWidth:!0,defaultValue:l,onChange:this.handleGridContentChange,inputProps:{"aria-label":"naked"}}),o.a.createElement(W.a,{style:{float:"right"},onClick:this.handleEditGrid},o.a.createElement(Y.a,null)),o.a.createElement(W.a,{style:{float:"right"},onClick:this.toggleGridEdit},o.a.createElement(X.a,null)))))):o.a.createElement("div",{style:{flexGrow:1,display:"flex"}},o.a.createElement(M.a,null,o.a.createElement(ge.a,{container:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{item:!0,xs:2},o.a.createElement(me.a,{style:{textAlign:"center",height:"100%"}},a)),o.a.createElement(ge.a,{item:!0,xs:10},o.a.createElement(me.a,{style:{textAlign:"left",height:"100%"}},this.props.gridContent,this.props.editMode&&o.a.createElement(d.a,(e={close:!0,onClick:this.handleDeleteGrid,style:{float:"right"}},n=!0,(t="close")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.a,null))),this.props.editMode&&o.a.createElement(d.a,{onClick:this.toggleGridEdit,style:{float:"right"},close:!0},o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.b,null)))))))))}},{key:"handleGridContentChange",value:function(e){this.setState({gridContent:e.target.value})}},{key:"handleGridTitleChange",value:function(e){this.setState({gridTitle:e.target.value})}},{key:"toggleGridEdit",value:function(){this.setState(function(e){return{gridEdit:!e.gridEdit}})}},{key:"handleEditGrid",value:function(){var e=this.props,t=e.gridTitle,n=e.gridContent;this.state.gridTitle!==t||this.state.gridContent!==n?(this.props.onEdit(this.props.docId,this.state.gridTitle,this.state.gridContent),this.toggleGridEdit()):this.toggleGridEdit()}},{key:"handleDeleteGrid",value:function(){this.props.onDelete(this.props.docId)}}]),t}();ye.propTypes={gridTitle:m.a.string,gridContent:m.a.string,docId:m.a.string,onEditProfessorGrid:m.a.func,onCreateProfessorGrid:m.a.func,editMode:m.a.bool,onDelete:m.a.func};var be=ye,Ee=n(368),we=n.n(Ee),Pe=n(743),ke=n(748),xe=(n(678),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Ce=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={images:[],isSelectAll:!1},n.onSelectImage=n.onSelectImage.bind(n),n.toggleSelectAll=n.toggleSelectAll.bind(n),n.handleDeleteImages=n.handleDeleteImages.bind(n),n.handleUploadImages=n.handleUploadImages.bind(n),n.fileSelect=n.fileSelect.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),xe(t,[{key:"fileSelect",value:function(){document.getElementById("selectImage").click()}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},this.props.editMode&&o.a.createElement("div",null,o.a.createElement(Pe.a,{control:o.a.createElement(ke.a,{checked:this.state.isSelectAll,onChange:this.toggleSelectAll,value:"selectAll"}),label:"selectAll"}),o.a.createElement(d.a,{color:"info",onClick:this.fileSelect,style:{float:"right"}},"Upload"),o.a.createElement(d.a,{color:"danger",onClick:this.handleDeleteImages,style:{float:"right"}},"Delete selected images"),o.a.createElement("input",{id:"selectImage",hidden:!0,type:"file",multiple:!0,onChange:this.handleUploadImages,accept:"image/*"})),o.a.createElement(we.a,{images:this.state.images,onSelectImage:this.onSelectImage,enableImageSelection:!0,onClickImage:function(){},backdropClosesModal:!0}))}},{key:"allImagesSelected",value:function(e){return e.filter(function(e){return 1==e.isSelected}).length==e.length}},{key:"onSelectImage",value:function(e,t){var n=this.state.images.slice(),r=n[e];r.hasOwnProperty("isSelected")?r.isSelected=!r.isSelected:r.isSelected=!0,this.setState({images:n}),this.allImagesSelected(n)?this.setState({selectAllChecked:!0}):this.setState({selectAllChecked:!1})}},{key:"toggleSelectAll",value:function(e){var t=this.state.images;e.target.checked?t.map(function(e){e.isSelected=!0}):t.map(function(e){e.isSelected=!1}),this.setState({isSelectAll:e.target.checked,images:t})}},{key:"handleDeleteImages",value:function(){for(var e=this.state.images,t=[],n=0;n<e.length;n++)1==e[n].isSelected&&t.push(e[n].docId);if(0!==t.length){if(1===t.length){if(window.confirm("Are you sure you want to delete this image ?"))return void this.props.onDelete(t)}else if(window.confirm("Are you sure you want to delete these images ?"))return void this.props.onDelete(t)}else window.confirm("You didn't select any photos!")}},{key:"handleUploadImages",value:function(e){e.preventDefault();var t=e.target.files;t&&this.props.onCreate(t)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.gallery!==t.images?{images:e.gallery,selectedImages:[]}:null}}]),t}(),_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Se(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}("next")})}}var De=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o,a,i,l,s,c,u,d,f,h=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return h.handleintroTitleChange=function(e){h.setState({introTitle:e.target.value})},h.handleintroDescriptionChange=function(e){h.setState({introDescription:e.target.value})},h.handleintroDescription2Change=function(e){h.setState({introDescription2:e.target.value})},h.__listGallery=Se(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.state.db,e.next=3,t.collection("gallery").get();case 3:return r=e.sent,o=[],r.forEach(function(e){var t=_e({docId:e.id},e.data());o.push(t)}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,n)})),h.__listProfessorGrid=Se(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.state.db,e.next=3,t.collection("professorGrid").get();case 3:return r=e.sent,o=[],r.forEach(function(e){var t=_e({docId:e.id},e.data());o.push(t)}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,n)})),h.__listProfessor=Se(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.state.db,e.next=3,t.collection("professor").get();case 3:return r=e.sent,o=[],r.forEach(function(e){var t=_e({docId:e.id},e.data());o.push(t)}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,n)})),h.__listIntro=Se(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.state.db,e.next=3,t.collection("intros").get();case 3:return r=e.sent,o=[],r.forEach(function(e){o.push(e.data())}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,n)})),h.__listProfiles=Se(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.state.db,e.next=3,t.collection("profiles").get();case 3:return r=e.sent,o=[],r.forEach(function(e){if(e.exists){var t=_e({docId:e.id},e.data());o.push(t)}}),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,n)})),h.__listPosts=(r=Se(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.state.db,e.next=3,r.collection("posts").get();case 3:return o=e.sent,a=[],o.forEach(function(e){if(e.exists){var t=_e({docId:e.id},e.data());a.push(t)}}),console.log(a),a.length>0&&t&&(a=a.filter(function(e){return-1!==e.text.toLocaleLowerCase().indexOf(t.toLowerCase())})),e.abrupt("return",a);case 9:case"end":return e.stop()}},e,n)})),function(e){return r.apply(this,arguments)}),h.__createGallery=(o=Se(regeneratorRuntime.mark(function e(t){var r,o,a,i,l,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.state.db,1!==t.length){e.next=25;break}return o=$.storage().ref(),e.next=5,o.child("gallery/"+t[0].name).put(t[0]);case 5:if(!e.sent){e.next=10;break}console.log("Upload Success"),e.next=11;break;case 10:throw"Upload Failed";case 11:return e.next=13,o.child("gallery/"+t[0].name).getDownloadURL();case 13:if(!(a=e.sent)){e.next=18;break}console.log("File available at",a),e.next=19;break;case 18:throw"Cannot get Url";case 19:i=new Image,l=void 0,s=void 0,i.onload=function(){l=i.height,s=i.width;var e={src:a,thumbnail:a,thumbnailHeight:l,thumbnailWidth:s,caption:""};r.collection("/gallery").add(_e({},e)).then(function(t){return console.log("Document written with ID:",t.id),e}).catch(function(e){console.log("Error adding document",error)})},i.src=a,e.next=34;break;case 25:if(!(t.length>1)){e.next=34;break}c=$.storage().ref(),u=regeneratorRuntime.mark(function e(){var o,a,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("height",t[d]),e.next=3,c.child("gallery/"+t[d].name).put(t[d]);case 3:if(!e.sent){e.next=8;break}console.log("Upload Success",t[d].name),e.next=9;break;case 8:throw"Upload Failed";case 9:return e.next=11,c.child("gallery/"+t[d].name).getDownloadURL();case 11:if(!(o=e.sent)){e.next=16;break}console.log("File available at",o),e.next=17;break;case 16:throw"Cannot get Url";case 17:i=new Image,a=void 0,l=void 0,i.onload=function(){a=i.height,l=i.width;var e={src:o,thumbnail:o,thumbnailHeight:a,thumbnailWidth:l,caption:""};r.collection("/gallery").add(_e({},e)).then(function(t){return console.log("Document written with ID:",t.id),e}).catch(function(e){console.log("Error adding document",error)})},i.src=o;case 21:case"end":return e.stop()}},e,n)}),d=0;case 29:if(!(d<t.length)){e.next=34;break}return e.delegateYield(u(),"t0",31);case 31:d++,e.next=29;break;case 34:case"end":return e.stop()}},e,n)})),function(e){return o.apply(this,arguments)}),h.__deleteGallery=(a=Se(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("delete-Gallery, docId: ",t),r=h.state.db,o=regeneratorRuntime.mark(function e(o){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.collection("/gallery").doc(t[o]),e.next=3,a.delete().then(function(){console.log("delete",t[o])}).catch(function(e){console.error("Error deleteing Gallerys",e)});case 3:case"end":return e.stop()}},e,n)}),a=0;case 4:if(!(a<t.length)){e.next=9;break}return e.delegateYield(o(a),"t0",6);case 6:a++,e.next=4;break;case 9:case"end":return e.stop()}},e,n)})),function(e){return a.apply(this,arguments)}),h.__deleteProfessorGrid=(i=Se(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete-ProfessorGrid, docId: ",t),r=h.state.db,o=r.collection("/professorGrid").doc(t),e.next=5,o.delete().then(function(){console.log("delete")}).catch(function(e){console.error("Error deleteing ProfessorGrids",e)});case 5:case"end":return e.stop()}},e,n)})),function(e){return i.apply(this,arguments)}),h.__deleteProfile=(l=Se(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("delete-profile, docId: ",t),r=h.state.db,o=r.collection("/profiles").doc(t),e.next=5,o.delete().then(function(){console.log("delete")}).catch(function(e){console.error("Error deleteing Profiles",e)});case 5:case"end":return e.stop()}},e,n)})),function(e){return l.apply(this,arguments)}),h.__deletePost=(s=Se(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.state.db,o=r.collection("/posts").doc(t),e.next=4,o.delete().then(function(){console.log("delete")}).catch(function(e){console.error("Error deleteing posts",e)});case 4:case"end":return e.stop()}},e,n)})),function(e){return s.apply(this,arguments)}),h.__editProfessorGrid=(c=Se(regeneratorRuntime.mark(function e(t,r,o){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.state.db,e.next=3,a.collection("/professorGrid").doc(t);case 3:return i=e.sent,console.log(t),e.next=7,i.set({gridContent:o,gridTitle:r},{merge:!0});case 7:e.sent;case 8:case"end":return e.stop()}},e,n)})),function(e,t,n){return c.apply(this,arguments)}),h.__editProfessor=(u=Se(regeneratorRuntime.mark(function e(t,r,o,a){var i,l,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=h.state.db,!a){e.next=28;break}return l=$.storage().ref(),e.next=5,l.child("professor/"+a.name).put(a);case 5:if(!e.sent){e.next=10;break}console.log("Upload Success"),e.next=11;break;case 10:throw"Upload Failed";case 11:return e.next=13,l.child("professor/"+a.name).getDownloadURL();case 13:if(!(s=e.sent)){e.next=18;break}console.log("File available at",s),e.next=19;break;case 18:throw"Cannot get Url";case 19:return e.next=21,i.collection("/professor").doc(t);case 21:return c=e.sent,console.log(t),e.next=25,c.set({name:r,content:o,src:s},{merge:!0});case 25:e.sent,e.next=35;break;case 28:return e.next=30,i.collection("/professor").doc(t);case 30:return u=e.sent,console.log(t),e.next=34,u.set({name:r,content:o},{merge:!0});case 34:e.sent;case 35:case"end":return e.stop()}},e,n)})),function(e,t,n,r){return u.apply(this,arguments)}),h.__editProfile=(d=Se(regeneratorRuntime.mark(function e(t,r,o,a){var i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.state.db,e.next=3,i.collection("/profiles").doc(t);case 3:if(l=e.sent,console.log(t),void 0,""!==a){e.next=12;break}return e.next=9,l.set({name:r,content:o},{merge:!0});case 9:e.sent,e.next=15;break;case 12:return e.next=14,l.set({name:r,src:a,content:o},{merge:!0});case 14:e.sent;case 15:case"end":return e.stop()}},e,n)})),function(e,t,n,r){return d.apply(this,arguments)}),h.__editPost=(f=Se(regeneratorRuntime.mark(function e(t,r,o,a,i){var l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=h.state.db,e.next=3,l.collection("posts").doc(t);case 3:return s=e.sent,console.log("filename",a),e.next=7,s.set({title:r,text:o,filename:a,downloadurl:i},{merge:!0});case 7:e.sent;case 8:case"end":return e.stop()}},e,n)})),function(e,t,n,r,o){return f.apply(this,arguments)}),h.__editIntro=Se(regeneratorRuntime.mark(function e(){var t,r,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.state,r=t.db,o=t.introDescription,a=t.introDescription2,i=t.introTitle,e.next=3,r.collection("intros").doc("Mzol0ckwXGOeRFFCLXBq");case 3:return l=e.sent,e.next=6,l.set({introDescription:o,introDescription2:a,introTitle:i},{merge:!0});case 6:e.sent;case 7:case"end":return e.stop()}},e,n)})),h.state={masking:!1,postLoading:!1,profileLoading:!1,profiles:[],posts:[],db:$.firestore(),introTitle:"",introDescription:"",introDescription2:"",isIntroEdit:!1,professor:[],professorGrid:[],gallery:[]},h.handleCreatePost=h.handleCreatePost.bind(h),h._createPost=h._createPost.bind(h),h.handleDeletePost=h.handleDeletePost.bind(h),h.handleEditPost=h.handleEditPost.bind(h),h.modalToggle=h.modalToggle.bind(h),h.listProfiles=h.listProfiles.bind(h),h.handleEditProfile=h.handleEditProfile.bind(h),h.handleDeleteProfile=h.handleDeleteProfile.bind(h),h.handleCreateProfile=h.handleCreateProfile.bind(h),h.handleEditIntro=h.handleEditIntro.bind(h),h.toggleIntroEdit=h.toggleIntroEdit.bind(h),h.handleintroTitleChange=h.handleintroTitleChange.bind(h),h.handleintroDescriptionChange=h.handleintroDescriptionChange.bind(h),h.handleintroDescription2Change=h.handleintroDescription2Change.bind(h),h.handleEditProfessor=h.handleEditProfessor.bind(h),h.handleEditProfessorGrid=h.handleEditProfessorGrid.bind(h),h.handleCreateProfessorGrid=h.handleCreateProfessorGrid.bind(h),h.handleDeleteProfessorGrid=h.handleDeleteProfessorGrid.bind(h),h.handleCreateGallery=h.handleCreateGallery.bind(h),h.handleDeleteGallery=h.handleDeleteGallery.bind(h),h}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),je(t,[{key:"componentDidMount",value:function(){this.listProfiles(),this.listPosts(this.props.searchText),this.listIntro(),this.listProfessor(),this.listProfessorGrid(),this.listGallery()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,n=t.gallery,r=t.isIntroEdit,a=t.professorGrid,i=t.professor,l=t.posts,s=t.postLoading,c=t.profiles,u=t.profileLoading,f=t.introDescription,h=t.introDescription2,p=t.introTitle,m=o.a.createElement("div",null);a.length&&(m=a.map(function(t){return o.a.createElement(be,_e({},t,{key:t.id,editMode:e.props.editMode,onEdit:e.handleEditProfessorGrid,onDelete:e.handleDeleteProfessorGrid}))}));var b=o.a.createElement("div",null,o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h4",gutterBottom:!0},p),o.a.createElement(M.a,null,o.a.createElement(g.a,{style:{padding:"1rem 0rem",whiteSpace:"pre-line"}},o.a.createElement("p",{className:"lead"},f),o.a.createElement("hr",{className:"my-2"}),o.a.createElement("p",null,h,this.props.editMode&&o.a.createElement(d.a,{onClick:this.toggleIntroEdit,style:{float:"right"},color:"primary",close:!0},o.a.createElement("span",{"aria-hidden":!0},o.a.createElement(O.b,null)))))));return r&&(b=o.a.createElement("div",null,o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h4",gutterBottom:!0},o.a.createElement(q.a,{style:{fontSize:"1em"},onChange:this.handleintroTitleChange,defaultValue:p,fullWidth:!0,inputProps:{"aria-label":"naked"}})),o.a.createElement(g.a,{style:{padding:"1rem 0rem"}},o.a.createElement(q.a,{style:{fontSize:"1.3em"},className:"lead",multiline:!0,fullWidth:!0,defaultValue:f,onChange:this.handleintroDescriptionChange,inputProps:{"aria-label":"naked"}}),o.a.createElement("hr",{className:"my-2"}),o.a.createElement("div",null,o.a.createElement(q.a,{style:{fontSize:"1em"},className:"lead",multiline:!0,fullWidth:!0,defaultValue:h,onChange:this.handleintroDescription2Change,inputProps:{"aria-label":"naked"}}),o.a.createElement(W.a,{style:{float:"right"},onClick:this.handleEditIntro},o.a.createElement(Y.a,null)),o.a.createElement(W.a,{style:{float:"right"},onClick:this.toggleIntroEdit},o.a.createElement(X.a,null)))))),o.a.createElement("div",{className:"today"},o.a.createElement("div",{className:"posts"},o.a.createElement(v.a,{isOpen:this.props.modal,toggle:this.modalToggle},o.a.createElement(_,{onPost:this.handleCreatePost})),o.a.createElement("div",{id:"intros"},b),o.a.createElement("div",{id:"professor",style:{marginBottom:"2rem"}},o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h4",gutterBottom:!0},"About Professor:"),o.a.createElement(Z,_e({},i[0],{editMode:this.props.editMode,onEdit:this.handleEditProfessor})),m,this.props.editMode&&o.a.createElement("div",{style:{display:"grid"}},o.a.createElement(d.a,{onClick:this.handleCreateProfessorGrid},"Add Column"))),o.a.createElement("div",{id:"members"},o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h4",gutterBottom:!0},"Members:"),o.a.createElement(pe,{profiles:c,onEditProfile:this.handleEditProfile,onDeleteProfile:this.handleDeleteProfile,onCreateProfile:this.handleCreateProfile,editMode:this.props.editMode}),u&&o.a.createElement(y.a,{color:"warning",className:"loading"},"Loading...")),o.a.createElement("div",{id:"papers",style:{marginBottom:"5%"}},o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h4",gutterBottom:!0},"Papers:"),o.a.createElement(V,{posts:l,onDeletePost:this.handleDeletePost,onEditPost:this.handleEditPost,editMode:this.props.editMode}),s&&o.a.createElement(y.a,{color:"warning",className:"loading"},"Loading...")),o.a.createElement("div",{id:"gallery"},o.a.createElement(T.a,{style:{textAlign:"left"},variant:"h4",gutterBottom:!0},"Gallery:")),o.a.createElement(Ce,{gallery:n,onCreate:this.handleCreateGallery,onDelete:this.handleDeleteGallery,editMode:this.props.editMode})))}},{key:"toggleIntroEdit",value:function(){this.setState(function(e){return{isIntroEdit:!e.isIntroEdit}})}},{key:"modalToggle",value:function(){this.props.onPostChange()}},{key:"listGallery",value:function(){var e=this;console.log("list-Gallery"),this._listGallery().then(function(t){console.log("Gallery: ",t),e.setState({gallery:t})}).catch(function(t){console.error("Error listing Gallery",t),e.setState({gallery:gallery})})}},{key:"_listGallery",value:function(){var e=this;return new Promise(function(t,n){t(e.__listGallery())})}},{key:"listProfessorGrid",value:function(){var e=this;console.log("list-ProfessorGrid"),this._listProfessorGrid().then(function(t){console.log("ProfessorGrid: ",t),e.setState({professorGrid:t})}).catch(function(t){console.error("Error listing ProfessorGrid",t),e.setState({professorGrid:professorGrid})})}},{key:"_listProfessorGrid",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfessorGrid())})}},{key:"listProfessor",value:function(){var e=this;console.log("list-Professor"),this._listProfessor().then(function(t){console.log("Professors: ",t),e.setState({professor:t})}).catch(function(t){console.error("Error listing Professors",t),e.setState({professor:professor})})}},{key:"_listProfessor",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfessor())})}},{key:"listIntro",value:function(){var e=this;console.log("list-intro"),this._listIntro().then(function(t){console.log("intros: ",t),e.setState({introTitle:t[0].introTitle,introDescription:t[0].introDescription,introDescription2:t[0].introDescription2})}).catch(function(t){console.error("Error listing intros",t),e.setState({introTitle:intros.title,introDescription:intros.introDescription,introDescription2:intros.introDescription2})})}},{key:"_listIntro",value:function(){var e=this;return new Promise(function(t,n){t(e.__listIntro())})}},{key:"listProfiles",value:function(){var e=this;console.log("list-profile"),this.setState({profileLoading:!0},function(){e._listProfiles().then(function(t){console.log(t),e.setState({profiles:t,profileLoading:!1})}).catch(function(t){console.error("Error listing profiles",t),e.setState({profiles:profiles,profileLoading:!1})})})}},{key:"_listProfiles",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfiles())})}},{key:"listPosts",value:function(e){var t=this;console.log("list-post"),this.setState({postLoading:!0},function(){t._listPosts(e).then(function(e){console.log(e),t.setState({posts:e,postLoading:!1})}).catch(function(e){console.error("Error listing posts",e),t.setState({posts:[],postLoading:!1})})})}},{key:"_listPosts",value:function(e){var t=this;return new Promise(function(n,r){n(t.__listPosts(e))})}},{key:"handleCreateGallery",value:function(e){var t=this;this._createGallery(e).then(function(){t.listGallery(e)}).catch(function(e){console.error("Error creating Gallery",e),alert("Error creating Gallery, please try again!")})}},{key:"_createGallery",value:function(e){var t=this;return new Promise(function(n,r){n(t.__createGallery(e))})}},{key:"getImgSize",value:function(e){}},{key:"handleCreateProfessorGrid",value:function(){var e=this;this._createProfessorGrid().then(function(){e.listProfessorGrid()}).catch(function(e){console.error("Error creating ProfessorGrid",e),alert("Error creating ProfessorGrid, please try again!")})}},{key:"_createProfessorGrid",value:function(){var e=this;return new Promise(function(t,n){t(e.__createProfessorGrid())})}},{key:"__createProfessorGrid",value:function(){var e=this.state.db,t={id:E()(),name:"Title",content:"Content"};e.collection("/professorGrid").add(_e({},t)).then(function(e){return console.log("Document written with ID:",e.id),t}).catch(function(e){console.log("Error adding document",error)})}},{key:"handleCreateProfile",value:function(){var e=this;this._createProfile().then(function(){e.listProfiles()}).catch(function(e){console.error("Error creating Profiles",e),alert("Error creating Profiles, please try again!")})}},{key:"_createProfile",value:function(){var e=this;return new Promise(function(t,n){t(e.__createProfile())})}},{key:"__createProfile",value:function(){var e=this.state.db,t={id:E()(),src:"http://res.cloudinary.com/sagacity/image/upload/c_crop,h_800,w_616,x_0,y_0/c_scale,w_640/v1419879339/iVegJ35_xfjlfu.gif",name:"Your Name",ts:P()().unix(),content:"Your introduction"};e.collection("/profiles").add(_e({},t)).then(function(e){return console.log("Document written with ID:",e.id),t}).catch(function(e){console.log("Error adding document",error)})}},{key:"handleCreatePost",value:function(e,t,n,r){var o=this;this._createPost(e,t,n,r).then(function(){o.listPosts(o.props.searchText),o.modalToggle()}).catch(function(e){console.error("Error creating posts",e),alert("Error creating Posts, please try again!")})}},{key:"_createPost",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__createPost(e,t,n,r))})}},{key:"__createPost",value:function(e,t,n,r){var o=this.state.db,a={id:E()(),title:e,text:t,ts:P()().unix(),filename:n,downloadurl:r};o.collection("posts").add(_e({},a)).then(function(e){return console.log("Document written with ID:",e.id),a}).catch(function(e){console.log("Error adding document",error)})}},{key:"handleDeleteGallery",value:function(e){var t=this;this._deleteGallery(e).then(function(){t.listGallery()}).catch(function(e){console.error("Error deleting Gallerys",e)})}},{key:"_deleteGallery",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deleteGallery(e))})}},{key:"handleDeleteProfessorGrid",value:function(e){var t=this;this._deleteProfessorGrid(e).then(function(){t.listProfessorGrid()}).catch(function(e){console.error("Error deleting ProfessorGrids",e)})}},{key:"_deleteProfessorGrid",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deleteProfessorGrid(e))})}},{key:"handleDeleteProfile",value:function(e){var t=this;this._deleteProfile(e).then(function(){t.listProfiles()}).catch(function(e){console.error("Error deleting Profiles",e)})}},{key:"_deleteProfile",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deleteProfile(e))})}},{key:"handleDeletePost",value:function(e){var t=this;this._deletePost(e).then(function(){t.listPosts(t.props.searchText)}).catch(function(e){console.error("Error deleting posts",e)})}},{key:"_deletePost",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deletePost(e))})}},{key:"handleEditProfessorGrid",value:function(e,t,n){var r=this;this._editProfessorGrid(e,t,n).then(function(){console.log("Edit-Professor Complete!"),r.listProfessorGrid()}).catch(function(e){console.error("Error editing Professor",e)})}},{key:"_editProfessorGrid",value:function(e,t,n){var r=this;return new Promise(function(o,a){o(r.__editProfessorGrid(e,t,n))})}},{key:"handleEditProfessor",value:function(e,t,n,r){var o=this;this._editProfessor(e,t,n,r).then(function(){console.log("Edit-Professor Complete!"),o.listProfessor()}).catch(function(e){console.error("Error editing Professor",e)})}},{key:"_editProfessor",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__editProfessor(e,t,n,r))})}},{key:"handleEditProfile",value:function(e,t,n,r){var o=this;this._editProfile(e,t,n,r).then(function(){console.log("Edit-Profile Complete!"),o.listProfiles()}).catch(function(e){console.error("Error editing profiles",e)})}},{key:"_editProfile",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__editProfile(e,t,n,r))})}},{key:"handleEditPost",value:function(e,t,n,r,o){var a=this;this._editPost(e,t,n,r,o).then(function(){console.log("Edition Complete!"),a.listPosts(a.props.searchText)}).catch(function(e){console.error("Error creating posts",e)})}},{key:"_editPost",value:function(e,t,n,r,o){var a=this;return new Promise(function(i,l){i(a.__editPost(e,t,n,r,o))})}},{key:"handleEditIntro",value:function(){var e=this;this._editIntro().then(function(){console.log("Edit-Intro complete!"),e.listIntro(),e.toggleIntroEdit()}).catch(function(e){console.error("Error creating Intros",e)})}},{key:"_editIntro",value:function(){var e=this;return new Promise(function(t,n){t(e.__editIntro())})}}]),t}();De.propTypes={onPostChange:m.a.func,modal:m.a.bool,editMode:m.a.bool};var Ie=De,Ge=n(369),Oe=n.n(Ge),Te=(n(680),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Re=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={unit:"metric",navbarToggle:!1,searchText:"",showModal:!1,loading:!1,error:null,loggedIn:null,recoverPasswordSuccess:null,initialTab:null,showProfileImg:!1,modalPost:!1,editMode:!1},n.searchEl=null,n.handleUnitChange=n.handleUnitChange.bind(n),n.openModal=n.openModal.bind(n),n.closeModal=n.closeModal.bind(n),n.afterTabsChange=n.afterTabsChange.bind(n),n.startLoading=n.startLoading.bind(n),n.onLoginFail=n.onLoginFail.bind(n),n.onLoginSuccess=n.onLoginSuccess.bind(n),n.finishLoading=n.finishLoading.bind(n),n.onLogin=n.onLogin.bind(n),n.onRecoverPassword=n.onRecoverPassword.bind(n),n.onRegister=n.onRegister.bind(n),n.logOut=n.logOut.bind(n),n.postModalToggle=n.postModalToggle.bind(n),n.editModeToggle=n.editModeToggle.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),Te(t,[{key:"componentWillMount",value:function(){l.auth().onAuthStateChanged(function(e){e&&(console.log("Auto Login"),console.log(e.uid),this.setState({showProfileImg:!0}))}.bind(this))}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",null),n=o.a.createElement("div",null,o.a.createElement(d.a,{className:"navbarBtn",color:"success",onClick:function(){return e.openModal()}},"Login")),r=function(){return o.a.createElement("div",null)};if(this.state.showProfileImg){console.log("showImg");r=function(){return o.a.createElement("img",{className:"profileImg",src:"http://res.cloudinary.com/sagacity/image/upload/c_crop,h_800,w_616,x_0,y_0/c_scale,w_640/v1419879339/iVegJ35_xfjlfu.gif"})},n=o.a.createElement("div",null,o.a.createElement(d.a,{className:"navbarBtn",color:"danger",onClick:function(){return e.logOut()}},"LogOut")),t=this.state.editMode?o.a.createElement("div",null,o.a.createElement(d.a,{className:"navbarBtn",onClick:function(){return e.editModeToggle()}},"View")):o.a.createElement("div",null,o.a.createElement(d.a,{className:"navbarBtn",onClick:function(){return e.editModeToggle()}},"Edit"))}return o.a.createElement(s.HashRouter,null,o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"bg-faded fixed-top"},o.a.createElement(f.a,{color:"white",dark:!0,style:{padding:"0rem 0rem"}},o.a.createElement("div",{className:"container",style:{display:"contents"}},o.a.createElement(h.a,null,o.a.createElement(u.HashLink,{smooth:!0,to:"#intros",hidden:!0,id:"hashIntro"}," 1"),o.a.createElement(u.HashLink,{smooth:!0,to:"#professor",hidden:!0,id:"hashProfessor"},"2"),o.a.createElement(u.HashLink,{smooth:!0,to:"#members",hidden:!0,id:"hashMembers"},"3"),o.a.createElement(u.HashLink,{smooth:!0,to:"#papers",hidden:!0,id:"hashPapers"},"4"),o.a.createElement(u.HashLink,{smooth:!0,to:"#gallery",hidden:!0,id:"hashGallery"},"5"),o.a.createElement(d.a,{onClick:function(){return document.getElementById("hashIntro").click()}},"Introduction"),o.a.createElement(d.a,{onClick:function(){return document.getElementById("hashProfessor").click()}},"Professor"),o.a.createElement(d.a,{onClick:function(){return document.getElementById("hashMembers").click()}},"Members"),o.a.createElement(d.a,{onClick:function(){return document.getElementById("hashPapers").click()}},"Papers"),o.a.createElement(d.a,{onClick:function(){return document.getElementById("hashGallery").click()}},"Gallery")),o.a.createElement("div",{className:"navbar"},o.a.createElement(r,null),o.a.createElement(h.a,null,this.state.editMode&&o.a.createElement(d.a,{className:"navbarBtn",onClick:function(){return e.postModalToggle()}},"New Post"),t,n))))),o.a.createElement(Oe.a,{visible:this.state.showModal,onCloseModal:this.closeModal,loading:this.state.loading,error:this.state.error,tabs:{afterChange:this.afterTabsChange},loginError:{label:"Couldn't sign in, please try again."},registerError:{label:"Couldn't sign up, please try again."},startLoading:this.startLoading,finishLoading:this.finishLoading,form:{onLogin:this.onLogin,onRegister:this.onRegister,onRecoverPassword:this.onRecoverPassword,recoverPasswordSuccessLabel:this.state.recoverPasswordSuccess?{label:"New password has been sent to your mailbox!"}:null,recoverPasswordAnchor:{label:"Forgot your password?"},loginBtn:{label:"Sign in"},registerBtn:{label:"Sign up"},recoverPasswordBtn:{label:"Send new password"},loginInputs:[{containerClass:"RML-form-group",label:"Email",type:"email",inputClass:"RML-form-control",id:"email",name:"email",placeholder:"Email"},{containerClass:"RML-form-group",label:"Password",type:"password",inputClass:"RML-form-control",id:"password",name:"password",placeholder:"Password"}],registerInputs:[{containerClass:"RML-form-group",label:"Nickname",type:"text",inputClass:"RML-form-control",id:"login",name:"login",placeholder:"Nickname"},{containerClass:"RML-form-group",label:"Email",type:"email",inputClass:"RML-form-control",id:"email",name:"email",placeholder:"Email"},{containerClass:"RML-form-group",label:"Password",type:"password",inputClass:"RML-form-control",id:"password",name:"password",placeholder:"Password"}],recoverPasswordInputs:[{containerClass:"RML-form-group",label:"Email",type:"email",inputClass:"RML-form-control",id:"email",name:"email",placeholder:"Email"}]}}),o.a.createElement(c.d,{exact:!0,path:"/",render:function(){return o.a.createElement("div",null,o.a.createElement(Ie,{editMode:e.state.editMode,modal:e.state.modalPost,searchText:e.state.searchText,onPostChange:e.postModalToggle}))}})))}},{key:"editModeToggle",value:function(){this.setState(function(e){return{editMode:!e.editMode}})}},{key:"handleSearchKeyPress",value:function(e){13===(e.keyCode||e.which)&&this.setState({searchText:e.target.value})}},{key:"postModalToggle",value:function(){console.log("toggle"),this.setState(function(e){return{modalPost:!e.modalPost}})}},{key:"openModal",value:function(){this.setState({showModal:!0})}},{key:"closeModal",value:function(){this.setState({showModal:!1,error:null})}},{key:"onLoginSuccess",value:function(e,t){console.log("logged successfully with "+e)}},{key:"onLoginFail",value:function(e,t){console.log("logging failed with "+e),this.setState({error:t})}},{key:"startLoading",value:function(){this.setState({loading:!0})}},{key:"finishLoading",value:function(){this.setState({loading:!1})}},{key:"afterTabsChange",value:function(){this.setState({error:null})}},{key:"onLogin",value:function(){var e=this;console.log("__onLogin__"),console.log("email: "+document.querySelector("#email").value),console.log("password: "+document.querySelector("#password").value);var t=document.querySelector("#email").value,n=document.querySelector("#password").value;l.auth().signInWithEmailAndPassword(t,n).then(function(e){console.log(e),window.location.reload()}).catch(function(t){console.log(t),e.setState({error:!0})})}},{key:"onRegister",value:function(){console.log("__onRegister__"),console.log("login: "+document.querySelector("#login").value),console.log("email: "+document.querySelector("#email").value),console.log("password: "+document.querySelector("#password").value),alert("恭喜你, 這個功能並不會實裝!");var e=document.querySelector("#login").value,t=document.querySelector("#email").value,n=document.querySelector("#password").value;e&&t&&n?this.onLoginSuccess("form"):this.setState({error:!0})}},{key:"onRecoverPassword",value:function(){console.log("__onFotgottenPassword__"),console.log("email: "+document.querySelector("#email").value),document.querySelector("#email").value?this.setState({error:null,recoverPasswordSuccess:!0}):this.setState({error:!0,recoverPasswordSuccess:!1})}},{key:"handleUnitChange",value:function(e){this.setState({unit:e})}},{key:"logOut",value:function(){try{l.auth().signOut().then(function(){console.log("Log out!"),window.location.reload()})}catch(e){console.log(e.toString())}}}]),t}();n(682);n(387),n(589);l.initializeApp({apiKey:"AIzaSyArpjCc1g2QPusAtClfimeay6tNtkumdVk",authDomain:"lab-website-746cb.firebaseapp.com",databaseURL:"https://lab-website-746cb.firebaseio.com",projectId:"lab-website-746cb",storageBucket:"gs://lab-website-746cb.appspot.com",messagingSenderId:"207260029948",appId:"1:207260029948:web:dbc6c7f6f3df074d"}),window.onload=function(){i.a.render(o.a.createElement(Re,null),document.getElementById("root"))}}});
//# sourceMappingURL=index.bundle.js.map