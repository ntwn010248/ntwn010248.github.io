!function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],p=0,f=[];p<s.length;p++)i=s[p],a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([311,1]),n()}({300:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),o=n(92),i=n(42),s=n(574),l=n(575),c=n(576),u=n(577),p=n(578),f=n(309),m=n(310),h=n(307),d=n(305),g=n(306),y=(n(565),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var b=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={unit:"metric",navbarToggle:!1,searchText:""},t.searchEl=null,t.handleNavbarToggle=t.handleNavbarToggle.bind(t),t.handleSearchKeyPress=t.handleSearchKeyPress.bind(t),t.handleClearSearch=t.handleClearSearch.bind(t),t.handleUnitChange=t.handleUnitChange.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.a.Component),y(n,[{key:"render",value:function(){var t,n,r,y=this;return a.a.createElement(o.a,{basename:e.env.PUBLIC_URL},a.a.createElement("div",{className:"main"},a.a.createElement("div",{className:"bg-faded"},a.a.createElement("div",{className:"container"},a.a.createElement(s.a,{color:"faded",light:!0},a.a.createElement(l.a,{onClick:this.handleNavbarToggle}),a.a.createElement(c.a,{className:"text-info",href:"/"},"WeatherMood"),a.a.createElement(u.a,{isOpen:this.state.navbarToggle,navbar:!0},a.a.createElement(p.a,{navbar:!0},a.a.createElement(f.a,null,a.a.createElement(m.a,{tag:o.b,to:"/"},"Today")),a.a.createElement(f.a,null,a.a.createElement(m.a,{tag:o.b,to:"/forecast"},"Forecast"))),a.a.createElement("div",{className:"search ml-auto"},a.a.createElement(h.a,(t={className:"ml-auto",type:"text",innerRef:this.searchEl,placeholder:"Search",onKeyPress:this.handleSearchKeyPress},r=function(e){return y.searchEl=e},(n="innerRef")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t)),this.state.searchText&&a.a.createElement("i",{className:"navbar-text fa fa-times",onClick:this.handleClearSearch})))))),a.a.createElement(i.a,{exact:!0,path:"/",render:function(){return a.a.createElement(d.a,{unit:y.state.unit,searchText:y.state.searchText,onUnitChange:y.handleUnitChange})}}),a.a.createElement(i.a,{exact:!0,path:"/forecast",render:function(){return a.a.createElement(g.a,{unit:y.state.unit,onUnitChange:y.handleUnitChange})}}),a.a.createElement("div",{className:"footer"},"DataLab.")))}},{key:"handleNavbarToggle",value:function(){console.log(e.env.PUBLIC_URL),this.setState(function(e,t){return{navbarToggle:!e.navbarToggle}})}},{key:"handleSearchKeyPress",value:function(e){13===(e.keyCode||e.which)&&this.setState({searchText:e.target.value})}},{key:"handleClearSearch",value:function(){this.setState({searchText:""}),this.searchEl.value=""}},{key:"handleUnitChange",value:function(e){this.setState({unit:e})}}]),n}();t.a=b}).call(this,n(126))},305:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(583),l=n(89),c=n(90),u=n(579),p=n(572),f=n(573),m=n(308),h=n(307),d=n(91);function g(e){switch(e){case"Thunder":return"fa fa-bolt";case"Drizzle":return"fa fa-tint";case"Rain":return"fa fa-umbrella";case"Snow":return"fa fa-snowflake";case"Windy":return"owf owf-905";case"Clear":return"fa fa-sun";case"Clouds":return"fa fa-cloud";default:return"fa fa-question-circle"}}n(323);var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inputValue:e.city,inputDanger:!1,moodToggle:!1,mood:"na"},n.inputEl=null,n.moodToggleEl=null,n.handleInputChange=n.handleInputChange.bind(n),n.handleDropdownSelect=n.handleDropdownSelect.bind(n),n.handleMoodToggle=n.handleMoodToggle.bind(n),n.handlePost=n.handlePost.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),y(t,[{key:"render",value:function(){var e=this,t=this.state,n=(t.inputValue,t.moodToggle),r=t.mood,o=this.state.inputDanger?"has-danger":"";return a.a.createElement("div",{className:"post-form"},a.a.createElement(s.a,{color:"info",className:"d-flex flex-column flex-sm-row justify-content-center "+o},a.a.createElement("div",{className:"mood align-self-start"},a.a.createElement(u.a,{type:"buttom",isOpen:n,toggle:this.handleMoodToggle},a.a.createElement(p.a,{className:"mood-toggle",type:"button",caret:!0,color:"secondary"},a.a.createElement("i",{className:g(r)})," ","na"===r?"Mood":r),a.a.createElement(f.a,null,a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Clear")}},a.a.createElement("i",{className:g("Clear")}),"  Clear"),a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Clouds")}},a.a.createElement("i",{className:g("Clouds")}),"  Clouds"),a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Drizzle")}},a.a.createElement("i",{className:g("Drizzle")}),"  Drizzle"),a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Rain")}},a.a.createElement("i",{className:g("Rain")}),"  Rain"),a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Thunder")}},a.a.createElement("i",{className:g("Thunder")}),"  Thunder"),a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Snow")}},a.a.createElement("i",{className:g("Snow")}),"  Snow"),a.a.createElement(m.a,{type:"button",onClick:function(){return e.handleDropdownSelect("Windy")}},a.a.createElement("i",{className:g("Windy")}),"  Windy")))),a.a.createElement(h.a,{className:"input",type:"textarea",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:"What's on your mind?"}),a.a.createElement(d.a,{className:"btn-post align-self-end",color:"info",onClick:this.handlePost},"Post")))}},{key:"handleDropdownSelect",value:function(e){this.setState({mood:e})}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:"handleMoodToggle",value:function(e){this.setState(function(e,t){return{moodToggle:!e.moodToggle}})}},{key:"handlePost",value:function(){"na"!==this.state.mood?this.state.inputValue?(this.props.onPost(this.state.mood,this.state.inputValue),this.setState({inputValue:"",mood:"na"})):this.setState({inputDanger:!0}):this.setState({moodToggle:!0})}}]),t}();b.propTypes={onPost:i.a.func};var v=b,w=n(580),j=n(581),E=n(582),k=n(3),C=n.n(k),O=(n(334),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var T=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tooltipOpen:!1},n.handleClick=n.handleClick.bind(n),n.handleTooltipToggle=n.handleTooltipToggle.bind(n),n.handleVote=n.handleVote.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),O(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.mood,o=t.text,i=t.ts,s=t.clearVotes,l=t.cloudsVotes,c=t.drizzleVotes,u=t.rainVotes,p=t.thunderVotes,f=t.snowVotes,m=t.windyVotes,h=this.state.tooltipOpen;return a.a.createElement("div",{className:"post-item d-flex flex-column",onClick:this.handleClick},a.a.createElement("div",{className:"post d-flex"},a.a.createElement("div",{className:"mood"},a.a.createElement("i",{className:g(r)})),a.a.createElement("div",{className:"wrap"},a.a.createElement("div",{className:"ts"},C()(1e3*i).calendar()),a.a.createElement("div",{className:"text"},o))),a.a.createElement("div",{className:"vote d-flex justify-content-end"},a.a.createElement("div",{className:"vote-results"},s>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Clear")})," ",s,"  "),l>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Clouds")})," ",l,"  "),c>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Drizzle")})," ",c,"  "),u>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Rain")})," ",u,"  "),p>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Thunder")})," ",p,"  "),f>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Snow")})," ",f,"  "),m>0&&a.a.createElement("span",null,a.a.createElement("i",{className:g("Windy")})," ",m,"  ")),a.a.createElement("div",{className:"vote-plus"},a.a.createElement("i",{id:"post-item-vote-"+n,className:"fa fa-plus"}))),a.a.createElement(E.a,{placement:"left",isOpen:h,autohide:!1,target:"post-item-vote-"+n,toggle:this.handleTooltipToggle},a.a.createElement("i",{className:"vote-tooltip "+g("Clear"),onClick:function(){return e.handleVote("Clear")}})," ",a.a.createElement("i",{className:"vote-tooltip "+g("Clouds"),onClick:function(){return e.handleVote("Clouds")}})," ",a.a.createElement("i",{className:"vote-tooltip "+g("Drizzle"),onClick:function(){return e.handleVote("Drizzle")}})," ",a.a.createElement("i",{className:"vote-tooltip "+g("Rain"),onClick:function(){return e.handleVote("Rain")}})," ",a.a.createElement("i",{className:"vote-tooltip "+g("Thunder"),onClick:function(){return e.handleVote("Thunder")}})," ",a.a.createElement("i",{className:"vote-tooltip "+g("Snow"),onClick:function(){return e.handleVote("Snow")}})," ",a.a.createElement("i",{className:"vote-tooltip "+g("Windy"),onClick:function(){return e.handleVote("Windy")}})))}},{key:"handleClick",value:function(){this.setState({tooltipOpen:!0})}},{key:"handleTooltipToggle",value:function(){this.setState(function(e,t){return{tooltipOpen:!e.tooltipOpen}})}},{key:"handleVote",value:function(e){this.props.onVote(this.props.id,e),this.setState({tooltipOpen:!1})}}]),t}();T.propTypes={id:i.a.string,mood:i.a.string,text:i.a.string,clearVotes:i.a.number,cloudsVotes:i.a.number,drizzleVotes:i.a.number,rainVotes:i.a.number,thunderVotes:i.a.number,snowVotes:i.a.number,windyVotes:i.a.number,onVote:i.a.func};var x=T,S=(n(51),n(302)),N=n.n(S);n(355);var _="posts";function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=localStorage.getItem(_),n=t?JSON.parse(t):[];return n.length>0&&e&&(n=n.filter(function(t){return-1!==t.text.toLocaleLowerCase().indexOf(e.toLowerCase())})),n}function V(e,t){return new Promise(function(n,r){n(function(e,t){var n={id:N()(),mood:e,text:t,ts:C()().unix(),clearVotes:0,cloudsVotes:0,drizzleVotes:0,rainVotes:0,thunderVotes:0,snowVotes:0,windyVotes:0},r=[n].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(P()));return localStorage.setItem(_,JSON.stringify(r)),n}(e,t))})}function z(e,t){return new Promise(function(n,r){!function(e,t){var n=P().map(function(n){return n.id===e&&n[t.toLowerCase()+"Votes"]++,n});localStorage.setItem(_,JSON.stringify(n))}(e,t),n()})}n(557);var U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var D=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleVote=n.handleVote.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),I(t,[{key:"render",value:function(){var e=this,t=this.props.posts,n=a.a.createElement(w.a,{className:"empty d-flex justify-content-center align-items-center"},a.a.createElement("div",{className:"empty-text"},"No post here.",a.a.createElement("br",null),"Go add some posts."));return t.length&&(n=t.map(function(t){return a.a.createElement(w.a,{key:t.id,action:!0},a.a.createElement(x,U({},t,{onVote:e.handleVote})))})),a.a.createElement("div",{className:"post-list"},a.a.createElement(j.a,null,n))}},{key:"handleVote",value:function(e,t){this.props.onVote(e,t)}}]),t}();D.propTypes={posts:i.a.array,filter:i.a.string,onVote:i.a.func};var R=D,W=n(68),F=(n(559),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),L=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var M=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=F({},t.getInitWeatherState(),{weatherLoading:!1,masking:!1,postLoading:!1,posts:[]}),n.handleWeatherQuery=n.handleWeatherQuery.bind(n),n.handleCreatePost=n.handleCreatePost.bind(n),n.handleCreateVote=n.handleCreateVote.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),L(t,null,[{key:"getInitWeatherState",value:function(){return{city:"na",code:-1,group:"na",description:"N/A",temp:NaN}}}]),L(t,[{key:"componentDidMount",value:function(){this.getWeather("Hsinchu",this.props.unit),this.listPosts(this.props.searchText)}},{key:"componentWillUnmount",value:function(){this.state.weatherLoading&&Object(W.b)()}},{key:"componentWillReceiveProps",value:function(e){e.searchText!==this.props.searchText&&this.listPosts(e.searchText)}},{key:"render",value:function(){var e=this.props.unit,t=this.state,n=t.group,r=t.city,o=t.masking,i=t.posts,u=t.postLoading;return document.body.className="weather-bg "+n,document.querySelector(".weather-bg .mask").className="mask "+(o?"masking":""),a.a.createElement("div",{className:"today"},a.a.createElement("div",{className:"weather"},a.a.createElement(c.a,{city:r,unit:e,onQuery:this.handleWeatherQuery}),a.a.createElement(l.a,F({},this.state,{day:"today"}))),a.a.createElement("div",{className:"posts"},a.a.createElement(v,{onPost:this.handleCreatePost}),a.a.createElement(R,{posts:i,onVote:this.handleCreateVote}),u&&a.a.createElement(s.a,{color:"warning",className:"loading"},"Loading...")))}},{key:"getWeather",value:function(e,n){var r=this;this.setState({weatherLoading:!0,masking:!0,city:e},function(){Object(W.d)(e,n).then(function(e){r.setState(F({},e,{weatherLoading:!1}),function(){return r.notifyUnitChange(n)})}).catch(function(e){console.error("Error getting weather",e),r.setState(F({},t.getInitWeatherState(n),{weatherLoading:!1}),function(){return r.notifyUnitChange(n)})})}),setTimeout(function(){r.setState({masking:!1})},600)}},{key:"listPosts",value:function(e){var t=this;this.setState({postLoading:!0},function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(t,n){setTimeout(function(){t(P(e))},500)})})(e).then(function(e){t.setState({posts:e,postLoading:!1})}).catch(function(e){console.error("Error listing posts",e),t.setState({posts:[],postLoading:!1})})})}},{key:"handleWeatherQuery",value:function(e,t){this.getWeather(e,t)}},{key:"notifyUnitChange",value:function(e){this.props.units!==e&&this.props.onUnitChange(e)}},{key:"handleCreatePost",value:function(e,t){var n=this;V(e,t).then(function(){n.listPosts(n.props.searchText)}).catch(function(e){console.error("Error creating posts",e)})}},{key:"handleCreateVote",value:function(e,t){var n=this;z(e,t).then(function(){n.listPosts(n.props.searchText)}).catch(function(e){console.error("Error creating vote",e)})}}]),t}();M.propTypes={unit:i.a.string,searchText:i.a.string,onUnitChange:i.a.func};t.a=M},306:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(89),l=(n(561),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var c=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),l(t,[{key:"render",value:function(){var e=this.props,n=e.masking,r=(e.unit,e.list);return a.a.createElement("div",{className:"weather-table "+(n?"masking":"")},a.a.createElement("div",{className:"d-flex justify-content-around"},r.map(function(e,n){return a.a.createElement("div",{key:e.ts,className:n>2?"hidden-xs-down":""},a.a.createElement("span",{className:"day"},t.weekDays[new Date(1e3*e.ts).getDay()],":  "),a.a.createElement("span",{className:"weather"},e.temp.toFixed(0),"º"),"  ",a.a.createElement("i",{className:"owf owf-"+e.code}))})))}}]),t}();c.propTypes={masking:i.a.bool,unit:i.a.string,list:i.a.array},c.weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var u=c,p=n(90),f=n(68),m=(n(563),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=m({},t.getInitForecastState(),{loading:!1,masking:!1}),n.handleFormQuery=n.handleFormQuery.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),h(t,null,[{key:"getInitForecastState",value:function(){for(var e=[],t=0;t<5;t++)e[t]={ts:-t,code:-1,group:"na",description:"N/A",temp:NaN};return{city:"na",list:e}}}]),h(t,[{key:"componentDidMount",value:function(){this.getForecast("Hsinchu",this.props.unit)}},{key:"componentWillUnmount",value:function(){this.state.loading&&Object(f.a)()}},{key:"render",value:function(){var e=this.props,t=e.unit,n=(e.onUnitChange,this.state),r=n.city,o=n.list,i=n.masking,l=o[0],c=o.slice(1);return document.body.className="weather-bg "+l.group,document.querySelector(".weather-bg .mask").className="mask "+(i?"masking":""),a.a.createElement("div",{className:"forecast"},a.a.createElement("div",{className:"tomorrow"},a.a.createElement(p.a,{city:r,unit:t,onQuery:this.handleFormQuery}),a.a.createElement(s.a,m({},l,{day:"tomorrow",unit:t,masking:i}))),a.a.createElement("div",{className:"rests"},a.a.createElement(u,{list:c,unit:t,masking:i})))}},{key:"getForecast",value:function(e,n){var r=this;this.setState({loading:!0,masking:!0,city:e},function(){Object(f.c)(e,n).then(function(e){r.setState(m({},e,{loading:!1}),function(){return r.notifyUnitChange(n)})}).catch(function(e){console.error("Error getting forecast",e),r.setState(m({},t.getInitForecastState(n),{loading:!1}),function(){return r.notifyUnitChange(n)})})}),setTimeout(function(){r.setState({masking:!1})},600)}},{key:"handleFormQuery",value:function(e,t){this.getForecast(e,t)}},{key:"notifyUnitChange",value:function(e){this.props.units!==e&&this.props.onUnitChange(e)}}]),t}();d.propTypes={unit:i.a.string,onUnitChange:i.a.func};t.a=d},311:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(45),i=n.n(o),s=n(300);n(569);window.onload=function(){i.a.render(a.a.createElement(s.a,null),document.getElementById("root"))}},318:function(e,t,n){var r=n(319);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},319:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".weather-display {\r\n    color: #fff;\r\n    text-align: center;\r\n    text-shadow: 0 0 0.2rem rgba(0, 0, 0, 0.3), 0 0 1rem rgba(0, 0, 0, 0.7);\r\n    position: relative;\r\n\r\n    transition: all 0.3s;\r\n    opacity: 1;\r\n}\r\n\r\n.weather-display.masking {\r\n    opacity: 0;\r\n}\r\n\r\n.weather-display .description {\r\n    position: absolute;\r\n    margin: 0 auto;\r\n    top: 0;\r\n    right: 2rem;\r\n    text-transform: capitalize;\r\n    opacity: 0.7;\r\n}\r\n\r\n.weather-display .temp {\r\n    position: absolute;\r\n    margin: 0 auto;\r\n    bottom: 1rem;\r\n    left: 2rem;\r\n}\r\n\r\n.weather-display img {\r\n    display: block;\r\n    width: 100%;\r\n    max-width: 20rem;\r\n    margin: 0 auto;\r\n}\r\n",""])},321:function(e,t,n){var r=n(322);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},322:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".weather-form {\r\n\r\n}\r\n\r\n.weather-form.form {\r\n    padding-bottom: 1rem;\r\n}\r\n\r\n.weather-form btn-form {\r\n    color: white;\r\n}\r\n\r\n.weather-form input, .weather-form button {\r\n    margin-top: 0.25rem;\r\n}\r\n",""])},323:function(e,t,n){var r=n(324);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},324:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".post-form {\r\n}\r\n\r\n.post-form .alert {\r\n    padding: 1rem;\r\n}\r\n\r\n.post-form .mood {\r\n    margin: 0 0 0.5rem 0;\r\n}\r\n\r\n.post-form .mood-toggle {\r\n    min-width: 8.5rem;\r\n}\r\n\r\n.post-form .mood i {\r\n    text-align: center;\r\n    width: 1rem;\r\n}\r\n\r\n\r\n.post-form .input {\r\n    width: 100%;\r\n    margin: 0 0 0.5rem 0;\r\n}\r\n\r\n@media (min-width: 576px) {\r\n    .post-form .mood {\r\n        margin: 0 0.5rem 0 0;\r\n    }\r\n\r\n    .post-form .input {\r\n        margin: 0 0.5rem 0 0;\r\n    }\r\n}\r\n",""])},333:function(e,t,n){var r={"./af":131,"./af.js":131,"./ar":132,"./ar-dz":133,"./ar-dz.js":133,"./ar-kw":134,"./ar-kw.js":134,"./ar-ly":135,"./ar-ly.js":135,"./ar-ma":136,"./ar-ma.js":136,"./ar-sa":137,"./ar-sa.js":137,"./ar-tn":138,"./ar-tn.js":138,"./ar.js":132,"./az":139,"./az.js":139,"./be":140,"./be.js":140,"./bg":141,"./bg.js":141,"./bm":142,"./bm.js":142,"./bn":143,"./bn.js":143,"./bo":144,"./bo.js":144,"./br":145,"./br.js":145,"./bs":146,"./bs.js":146,"./ca":147,"./ca.js":147,"./cs":148,"./cs.js":148,"./cv":149,"./cv.js":149,"./cy":150,"./cy.js":150,"./da":151,"./da.js":151,"./de":152,"./de-at":153,"./de-at.js":153,"./de-ch":154,"./de-ch.js":154,"./de.js":152,"./dv":155,"./dv.js":155,"./el":156,"./el.js":156,"./en-SG":157,"./en-SG.js":157,"./en-au":158,"./en-au.js":158,"./en-ca":159,"./en-ca.js":159,"./en-gb":160,"./en-gb.js":160,"./en-ie":161,"./en-ie.js":161,"./en-il":162,"./en-il.js":162,"./en-nz":163,"./en-nz.js":163,"./eo":164,"./eo.js":164,"./es":165,"./es-do":166,"./es-do.js":166,"./es-us":167,"./es-us.js":167,"./es.js":165,"./et":168,"./et.js":168,"./eu":169,"./eu.js":169,"./fa":170,"./fa.js":170,"./fi":171,"./fi.js":171,"./fo":172,"./fo.js":172,"./fr":173,"./fr-ca":174,"./fr-ca.js":174,"./fr-ch":175,"./fr-ch.js":175,"./fr.js":173,"./fy":176,"./fy.js":176,"./ga":177,"./ga.js":177,"./gd":178,"./gd.js":178,"./gl":179,"./gl.js":179,"./gom-latn":180,"./gom-latn.js":180,"./gu":181,"./gu.js":181,"./he":182,"./he.js":182,"./hi":183,"./hi.js":183,"./hr":184,"./hr.js":184,"./hu":185,"./hu.js":185,"./hy-am":186,"./hy-am.js":186,"./id":187,"./id.js":187,"./is":188,"./is.js":188,"./it":189,"./it-ch":190,"./it-ch.js":190,"./it.js":189,"./ja":191,"./ja.js":191,"./jv":192,"./jv.js":192,"./ka":193,"./ka.js":193,"./kk":194,"./kk.js":194,"./km":195,"./km.js":195,"./kn":196,"./kn.js":196,"./ko":197,"./ko.js":197,"./ku":198,"./ku.js":198,"./ky":199,"./ky.js":199,"./lb":200,"./lb.js":200,"./lo":201,"./lo.js":201,"./lt":202,"./lt.js":202,"./lv":203,"./lv.js":203,"./me":204,"./me.js":204,"./mi":205,"./mi.js":205,"./mk":206,"./mk.js":206,"./ml":207,"./ml.js":207,"./mn":208,"./mn.js":208,"./mr":209,"./mr.js":209,"./ms":210,"./ms-my":211,"./ms-my.js":211,"./ms.js":210,"./mt":212,"./mt.js":212,"./my":213,"./my.js":213,"./nb":214,"./nb.js":214,"./ne":215,"./ne.js":215,"./nl":216,"./nl-be":217,"./nl-be.js":217,"./nl.js":216,"./nn":218,"./nn.js":218,"./pa-in":219,"./pa-in.js":219,"./pl":220,"./pl.js":220,"./pt":221,"./pt-br":222,"./pt-br.js":222,"./pt.js":221,"./ro":223,"./ro.js":223,"./ru":224,"./ru.js":224,"./sd":225,"./sd.js":225,"./se":226,"./se.js":226,"./si":227,"./si.js":227,"./sk":228,"./sk.js":228,"./sl":229,"./sl.js":229,"./sq":230,"./sq.js":230,"./sr":231,"./sr-cyrl":232,"./sr-cyrl.js":232,"./sr.js":231,"./ss":233,"./ss.js":233,"./sv":234,"./sv.js":234,"./sw":235,"./sw.js":235,"./ta":236,"./ta.js":236,"./te":237,"./te.js":237,"./tet":238,"./tet.js":238,"./tg":239,"./tg.js":239,"./th":240,"./th.js":240,"./tl-ph":241,"./tl-ph.js":241,"./tlh":242,"./tlh.js":242,"./tr":243,"./tr.js":243,"./tzl":244,"./tzl.js":244,"./tzm":245,"./tzm-latn":246,"./tzm-latn.js":246,"./tzm.js":245,"./ug-cn":247,"./ug-cn.js":247,"./uk":248,"./uk.js":248,"./ur":249,"./ur.js":249,"./uz":250,"./uz-latn":251,"./uz-latn.js":251,"./uz.js":250,"./vi":252,"./vi.js":252,"./x-pseudo":253,"./x-pseudo.js":253,"./yo":254,"./yo.js":254,"./zh-cn":255,"./zh-cn.js":255,"./zh-hk":256,"./zh-hk.js":256,"./zh-tw":257,"./zh-tw.js":257};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=333},334:function(e,t,n){var r=n(335);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},335:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".post-item {\r\n    width: 100%\r\n}\r\n\r\n.post-item .post {\r\n    width: 100%\r\n}\r\n\r\n.post-item .mood {\r\n    text-align: center;\r\n    font-size: 2rem;\r\n    width: 3rem;\r\n}\r\n\r\n.post-item .wrap {\r\n    width: 100%;\r\n    padding-left: 0.75rem;\r\n}\r\n\r\n.post-item .ts {\r\n    color: #bcbcbc;\r\n    font-size: 0.875rem;\r\n    margin-bottom: 0.25rem;\r\n}\r\n\r\n.post-item .text {\r\n    white-space: pre-wrap;\r\n}\r\n\r\n.post-item .vote {\r\n    color: #bcbcbc;\r\n    padding-top: 0.5rem;\r\n}\r\n\r\n.post-item .vote .vote-plus i {\r\n    color: #bcdff1;\r\n    padding-left: 0.5rem;\r\n}\r\n\r\n.tooltip-inner {\r\n    max-width: none !important;\r\n}\r\n\r\n.tooltip-inner i.vote-tooltip {\r\n    font-size: 1.5rem;\r\n    width: 2.25rem;\r\n    line-height: 1.75;\r\n}\r\n\r\n.tooltip-inner i.vote-tooltip:hover {\r\n    color: #31b0d5\r\n}\r\n",""])},557:function(e,t,n){var r=n(558);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},558:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".post-list {\r\n}\r\n\r\n.post-list .empty {\r\n    height: 8rem;\r\n    border-color: rgba(255, 255, 255, 0);\r\n    background-color: transparent;\r\n}\r\n\r\n.post-list .empty-text {\r\n    text-align: center;\r\n    color: rgba(255, 255, 255, 0.7);\r\n}\r\n",""])},559:function(e,t,n){var r=n(560);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},560:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".today {\r\n    padding: 1rem;\r\n}\r\n\r\n.today .weather {\r\n    width: 100%;\r\n    max-width: 24rem;\r\n    margin: 0 auto;\r\n}\r\n\r\n.today .posts {\r\n    width: 100%;\r\n    max-width: 34rem;\r\n    margin: 0 auto;\r\n}\r\n\r\n.today .posts .loading {\r\n    position: fixed;\r\n    bottom: 1rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    margin: 0 auto;\r\n    text-align: center;\r\n    z-index: 999;\r\n}\r\n",""])},561:function(e,t,n){var r=n(562);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},562:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".weather-table {\r\n    color: #fff;\r\n    text-align: center;\r\n    text-shadow: 0 0 0.2rem rgba(0, 0, 0, 0.3), 0 0 1.5rem rgba(0, 0, 0, 0.7);\r\n    padding: 0 1rem 1rem 1rem;\r\n\r\n    transition: all 0.3s;\r\n    opacity: 1;\r\n}\r\n\r\n.weather-table.masking {\r\n    opacity: 0;\r\n}\r\n\r\n.weather-table .day {\r\n    opacity: 0.7;\r\n}\r\n\r\n.weather-table .weather {\r\n    font-size: 1.25rem;\r\n    font-weight: 300;\r\n}\r\n\r\n.weather-table i {\r\n    font-size: 1.5rem;\r\n    position: relative;\r\n    top: 0.25rem;\r\n}\r\n",""])},563:function(e,t,n){var r=n(564);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},564:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".forecast {\r\n    padding: 1rem;\r\n}\r\n\r\n.forecast .tomorrow {\r\n    width: 100%;\r\n    max-width: 24rem;\r\n    margin: 0 auto;\r\n}\r\n\r\n.forecast .rests {\r\n    width: 100%;\r\n    max-width: 34rem;\r\n    margin: 0 auto;\r\n}\r\n",""])},565:function(e,t,n){var r=n(566);"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},566:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,".main {\r\n    height: 100%;\r\n}\r\n\r\n.main .footer {\r\n    text-align: center;\r\n    color: rgba(255, 255, 255, 0.7);\r\n    padding: 6rem 2rem 2rem 2rem;\r\n}\r\n\r\n.main .search {\r\n    position: relative;\r\n    width: 100%;\r\n}\r\n\r\n.main .search input {\r\n    padding-right: 1.5rem;\r\n}\r\n\r\n.main .search i {\r\n    position: absolute;\r\n    top: 0.25rem;\r\n    right: 0.5rem;\r\n}\r\n\r\n.main .search i:hover {\r\n    color: #5bc0de;\r\n}\r\n\r\n@media (min-width: 576px) {\r\n    .main .search {\r\n        width: 10rem;\r\n    }\r\n}\r\n",""])},68:function(e,t,n){"use strict";n.d(t,"d",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return d});var r=n(51),a=n.n(r),o="36978c6550efee0e27e50850cc57adda";function i(e){var t="na";return 200<=e&&e<300?t="thunderstorm":300<=e&&e<400?t="drizzle":500<=e&&e<600?t="rain":600<=e&&e<700?t="snow":700<=e&&e<800?t="atmosphere":800===e?t="clear":801<=e&&e<900&&(t="clouds"),t}function s(e){return e.replace(/\b\w/g,function(e){return e.toUpperCase()})}var l="http://api.openweathermap.org/data/2.5/weather?appid="+o,c=a.a.CancelToken.source();function u(e,t){var n=l+"&q="+encodeURIComponent(e)+"&units="+t;return console.log("Making request to: "+n),a.a.get(n,{cancelToken:c.token}).then(function(n){if(n.data.cod&&n.data.message)throw new Error(n.data.message);return{city:s(e),code:n.data.weather[0].id,group:i(n.data.weather[0].id),description:n.data.weather[0].description,temp:n.data.main.temp,unit:t}}).catch(function(e){if(!a.a.isCancel(e))throw e;console.error(e.message,e)})}function p(){c.cancel("Weather request canceled")}var f="http://api.openweathermap.org/data/2.5/forecast/daily?appid="+o+"&cnt=6",m=a.a.CancelToken.source();function h(e,t){var n=f+"&q="+encodeURIComponent(e)+"&units="+t;return console.log("Making request to: "+n),a.a.get(n,{cancelToken:m.token}).then(function(n){if(200!==Number(n.data.cod))throw new Error(n.data.message);var r=n.data.list.map(function(e){return{ts:e.dt,code:e.weather[0].id,group:i(e.weather[0].id),description:e.weather[0].main,temp:e.temp.day}});return r.shift(),{city:s(e),unit:t,list:r}}).catch(function(e){if(!a.a.isCancel(e))throw e;console.error(e.message,e)})}function d(){m.cancel("Forecast request canceled")}},89:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=(n(318),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),s(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"weather-display "+(this.props.masking?"masking":"")},a.a.createElement("img",{src:"images/w-"+this.props.group+".png"}),a.a.createElement("p",{className:"description"},this.props.day+": "+this.props.description),a.a.createElement("h1",{className:"temp"},a.a.createElement("span",{className:"display-3"},this.props.temp.toFixed(0),"º")," ","metric"===this.props.unit?"C":"F"))}}]),t}();l.propTypes={masking:i.a.bool,group:i.a.string,description:i.a.string,temp:i.a.number,unit:i.a.string},t.a=l},90:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),s=n(571),l=n(307),c=n(579),u=n(572),p=n(573),f=n(308),m=n(91),h=(n(321),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputEl=null,n.state={inputValue:e.city,formToggle:!1,tempToggle:!1,unit:e.unit},n.handleFormToggle=n.handleFormToggle.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleMetricUnit=n.handleMetricUnit.bind(n),n.handleImperialUnit=n.handleImperialUnit.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleTempToggle=n.handleTempToggle.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),h(t,null,[{key:"getUnitString",value:function(e){return"metric"===e?"C":"F"}}]),h(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({inputValue:e.city,unit:e.unit})}},{key:"render",value:function(){var e=this,n=this.state.formToggle?"form":"";return a.a.createElement("div",{className:"weather-form "+n},this.state.formToggle?a.a.createElement(s.a,{className:"form-inline justify-content-center",onSubmit:this.handleSubmit},a.a.createElement(l.a,{type:"text",name:"city",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange})," ",a.a.createElement(c.a,{type:"buttom",isOpen:this.state.tempToggle,toggle:this.handleTempToggle},a.a.createElement(u.a,{type:"button",caret:!0,color:"secondary"},"º ",t.getUnitString(this.state.unit)),a.a.createElement(p.a,null,a.a.createElement(f.a,{type:"button",onClick:this.handleMetricUnit},"º C"),a.a.createElement(f.a,{type:"button",onClick:this.handleImperialUnit},"º F")))," ",a.a.createElement(m.a,{color:"info"},"Check")):a.a.createElement(m.a,{className:"btn-form",outline:!0,color:"secondary",onClick:this.handleFormToggle},a.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"}),"  ",this.props.city))}},{key:"handleFormToggle",value:function(){this.setState(function(e,t){return{formToggle:!e.formToggle}})}},{key:"handleInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"handleMetricUnit",value:function(e){this.setState({unit:"metric"})}},{key:"handleImperialUnit",value:function(e){this.setState({unit:"imperial"})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.inputEl.blur(),this.state.inputValue&&this.state.inputValue.trim()?(this.props.onQuery(this.state.inputValue,this.state.unit),this.handleFormToggle()):this.state.inputEl=this.props.city}},{key:"handleTempToggle",value:function(e){this.setState(function(e,t){return{tempToggle:!e.tempToggle}})}}]),t}();d.propTypes={city:i.a.string,unit:i.a.string,onQuery:i.a.func},t.a=d}});
//# sourceMappingURL=index.bundle.js.map