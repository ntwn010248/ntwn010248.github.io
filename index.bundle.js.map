{"version":3,"file":"index.bundle.js","sources":["webpack:///index.bundle.js"],"sourcesContent":["!function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],p=0,f=[];p<s.length;p++)i=s[p],a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={0:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([560,1]),n()}({306:function(e,t,n){var r=n(307);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},307:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".weather-display {\\r\\n    color: #fff;\\r\\n    text-align: center;\\r\\n    text-shadow: 0 0 0.2rem rgba(0, 0, 0, 0.3), 0 0 1rem rgba(0, 0, 0, 0.7);\\r\\n    position: relative;\\r\\n\\r\\n    transition: all 0.3s;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.weather-display.masking {\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.weather-display .description {\\r\\n    position: absolute;\\r\\n    margin: 0 auto;\\r\\n    top: 0;\\r\\n    right: 2rem;\\r\\n    text-transform: capitalize;\\r\\n    opacity: 0.7;\\r\\n}\\r\\n\\r\\n.weather-display .temp {\\r\\n    position: absolute;\\r\\n    margin: 0 auto;\\r\\n    bottom: 1rem;\\r\\n    left: 2rem;\\r\\n}\\r\\n\\r\\n.weather-display img {\\r\\n    display: block;\\r\\n    width: 100%;\\r\\n    max-width: 20rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\",\"\"])},309:function(e,t,n){var r=n(310);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},310:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".weather-form {\\r\\n\\r\\n}\\r\\n\\r\\n.weather-form.form {\\r\\n    padding-bottom: 1rem;\\r\\n}\\r\\n\\r\\n.weather-form btn-form {\\r\\n    color: white;\\r\\n}\\r\\n\\r\\n.weather-form input, .weather-form button {\\r\\n    margin-top: 0.25rem;\\r\\n}\\r\\n\",\"\"])},311:function(e,t,n){var r=n(312);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},312:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".post-form {\\r\\n}\\r\\n\\r\\n.post-form .alert {\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\n.post-form .mood {\\r\\n    margin: 0 0 0.5rem 0;\\r\\n}\\r\\n\\r\\n.post-form .mood-toggle {\\r\\n    min-width: 8.5rem;\\r\\n}\\r\\n\\r\\n.post-form .mood i {\\r\\n    text-align: center;\\r\\n    width: 1rem;\\r\\n}\\r\\n\\r\\n\\r\\n.post-form .input {\\r\\n    width: 100%;\\r\\n    margin: 0 0 0.5rem 0;\\r\\n}\\r\\n\\r\\n@media (min-width: 576px) {\\r\\n    .post-form .mood {\\r\\n        margin: 0 0.5rem 0 0;\\r\\n    }\\r\\n\\r\\n    .post-form .input {\\r\\n        margin: 0 0.5rem 0 0;\\r\\n    }\\r\\n}\\r\\n\",\"\"])},321:function(e,t,n){var r={\"./af\":126,\"./af.js\":126,\"./ar\":127,\"./ar-dz\":128,\"./ar-dz.js\":128,\"./ar-kw\":129,\"./ar-kw.js\":129,\"./ar-ly\":130,\"./ar-ly.js\":130,\"./ar-ma\":131,\"./ar-ma.js\":131,\"./ar-sa\":132,\"./ar-sa.js\":132,\"./ar-tn\":133,\"./ar-tn.js\":133,\"./ar.js\":127,\"./az\":134,\"./az.js\":134,\"./be\":135,\"./be.js\":135,\"./bg\":136,\"./bg.js\":136,\"./bm\":137,\"./bm.js\":137,\"./bn\":138,\"./bn.js\":138,\"./bo\":139,\"./bo.js\":139,\"./br\":140,\"./br.js\":140,\"./bs\":141,\"./bs.js\":141,\"./ca\":142,\"./ca.js\":142,\"./cs\":143,\"./cs.js\":143,\"./cv\":144,\"./cv.js\":144,\"./cy\":145,\"./cy.js\":145,\"./da\":146,\"./da.js\":146,\"./de\":147,\"./de-at\":148,\"./de-at.js\":148,\"./de-ch\":149,\"./de-ch.js\":149,\"./de.js\":147,\"./dv\":150,\"./dv.js\":150,\"./el\":151,\"./el.js\":151,\"./en-SG\":152,\"./en-SG.js\":152,\"./en-au\":153,\"./en-au.js\":153,\"./en-ca\":154,\"./en-ca.js\":154,\"./en-gb\":155,\"./en-gb.js\":155,\"./en-ie\":156,\"./en-ie.js\":156,\"./en-il\":157,\"./en-il.js\":157,\"./en-nz\":158,\"./en-nz.js\":158,\"./eo\":159,\"./eo.js\":159,\"./es\":160,\"./es-do\":161,\"./es-do.js\":161,\"./es-us\":162,\"./es-us.js\":162,\"./es.js\":160,\"./et\":163,\"./et.js\":163,\"./eu\":164,\"./eu.js\":164,\"./fa\":165,\"./fa.js\":165,\"./fi\":166,\"./fi.js\":166,\"./fo\":167,\"./fo.js\":167,\"./fr\":168,\"./fr-ca\":169,\"./fr-ca.js\":169,\"./fr-ch\":170,\"./fr-ch.js\":170,\"./fr.js\":168,\"./fy\":171,\"./fy.js\":171,\"./ga\":172,\"./ga.js\":172,\"./gd\":173,\"./gd.js\":173,\"./gl\":174,\"./gl.js\":174,\"./gom-latn\":175,\"./gom-latn.js\":175,\"./gu\":176,\"./gu.js\":176,\"./he\":177,\"./he.js\":177,\"./hi\":178,\"./hi.js\":178,\"./hr\":179,\"./hr.js\":179,\"./hu\":180,\"./hu.js\":180,\"./hy-am\":181,\"./hy-am.js\":181,\"./id\":182,\"./id.js\":182,\"./is\":183,\"./is.js\":183,\"./it\":184,\"./it-ch\":185,\"./it-ch.js\":185,\"./it.js\":184,\"./ja\":186,\"./ja.js\":186,\"./jv\":187,\"./jv.js\":187,\"./ka\":188,\"./ka.js\":188,\"./kk\":189,\"./kk.js\":189,\"./km\":190,\"./km.js\":190,\"./kn\":191,\"./kn.js\":191,\"./ko\":192,\"./ko.js\":192,\"./ku\":193,\"./ku.js\":193,\"./ky\":194,\"./ky.js\":194,\"./lb\":195,\"./lb.js\":195,\"./lo\":196,\"./lo.js\":196,\"./lt\":197,\"./lt.js\":197,\"./lv\":198,\"./lv.js\":198,\"./me\":199,\"./me.js\":199,\"./mi\":200,\"./mi.js\":200,\"./mk\":201,\"./mk.js\":201,\"./ml\":202,\"./ml.js\":202,\"./mn\":203,\"./mn.js\":203,\"./mr\":204,\"./mr.js\":204,\"./ms\":205,\"./ms-my\":206,\"./ms-my.js\":206,\"./ms.js\":205,\"./mt\":207,\"./mt.js\":207,\"./my\":208,\"./my.js\":208,\"./nb\":209,\"./nb.js\":209,\"./ne\":210,\"./ne.js\":210,\"./nl\":211,\"./nl-be\":212,\"./nl-be.js\":212,\"./nl.js\":211,\"./nn\":213,\"./nn.js\":213,\"./pa-in\":214,\"./pa-in.js\":214,\"./pl\":215,\"./pl.js\":215,\"./pt\":216,\"./pt-br\":217,\"./pt-br.js\":217,\"./pt.js\":216,\"./ro\":218,\"./ro.js\":218,\"./ru\":219,\"./ru.js\":219,\"./sd\":220,\"./sd.js\":220,\"./se\":221,\"./se.js\":221,\"./si\":222,\"./si.js\":222,\"./sk\":223,\"./sk.js\":223,\"./sl\":224,\"./sl.js\":224,\"./sq\":225,\"./sq.js\":225,\"./sr\":226,\"./sr-cyrl\":227,\"./sr-cyrl.js\":227,\"./sr.js\":226,\"./ss\":228,\"./ss.js\":228,\"./sv\":229,\"./sv.js\":229,\"./sw\":230,\"./sw.js\":230,\"./ta\":231,\"./ta.js\":231,\"./te\":232,\"./te.js\":232,\"./tet\":233,\"./tet.js\":233,\"./tg\":234,\"./tg.js\":234,\"./th\":235,\"./th.js\":235,\"./tl-ph\":236,\"./tl-ph.js\":236,\"./tlh\":237,\"./tlh.js\":237,\"./tr\":238,\"./tr.js\":238,\"./tzl\":239,\"./tzl.js\":239,\"./tzm\":240,\"./tzm-latn\":241,\"./tzm-latn.js\":241,\"./tzm.js\":240,\"./ug-cn\":242,\"./ug-cn.js\":242,\"./uk\":243,\"./uk.js\":243,\"./ur\":244,\"./ur.js\":244,\"./uz\":245,\"./uz-latn\":246,\"./uz-latn.js\":246,\"./uz.js\":245,\"./vi\":247,\"./vi.js\":247,\"./x-pseudo\":248,\"./x-pseudo.js\":248,\"./yo\":249,\"./yo.js\":249,\"./zh-cn\":250,\"./zh-cn.js\":250,\"./zh-hk\":251,\"./zh-hk.js\":251,\"./zh-tw\":252,\"./zh-tw.js\":252};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=321},322:function(e,t,n){var r=n(323);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},323:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".post-item {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.post-item .post {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.post-item .mood {\\r\\n    text-align: center;\\r\\n    font-size: 2rem;\\r\\n    width: 3rem;\\r\\n}\\r\\n\\r\\n.post-item .wrap {\\r\\n    width: 100%;\\r\\n    padding-left: 0.75rem;\\r\\n}\\r\\n\\r\\n.post-item .ts {\\r\\n    color: #bcbcbc;\\r\\n    font-size: 0.875rem;\\r\\n    margin-bottom: 0.25rem;\\r\\n}\\r\\n\\r\\n.post-item .text {\\r\\n    white-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.post-item .vote {\\r\\n    color: #bcbcbc;\\r\\n    padding-top: 0.5rem;\\r\\n}\\r\\n\\r\\n.post-item .vote .vote-plus i {\\r\\n    color: #bcdff1;\\r\\n    padding-left: 0.5rem;\\r\\n}\\r\\n\\r\\n.tooltip-inner {\\r\\n    max-width: none !important;\\r\\n}\\r\\n\\r\\n.tooltip-inner i.vote-tooltip {\\r\\n    font-size: 1.5rem;\\r\\n    width: 2.25rem;\\r\\n    line-height: 1.75;\\r\\n}\\r\\n\\r\\n.tooltip-inner i.vote-tooltip:hover {\\r\\n    color: #31b0d5\\r\\n}\\r\\n\",\"\"])},546:function(e,t,n){var r=n(547);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},547:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".post-list {\\r\\n}\\r\\n\\r\\n.post-list .empty {\\r\\n    height: 8rem;\\r\\n    border-color: rgba(255, 255, 255, 0);\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.post-list .empty-text {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n}\\r\\n\",\"\"])},548:function(e,t,n){var r=n(549);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},549:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".today {\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\n.today .weather {\\r\\n    width: 100%;\\r\\n    max-width: 24rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.today .posts {\\r\\n    width: 100%;\\r\\n    max-width: 34rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.today .posts .loading {\\r\\n    position: fixed;\\r\\n    bottom: 1rem;\\r\\n    left: 50%;\\r\\n    transform: translateX(-50%);\\r\\n    margin: 0 auto;\\r\\n    text-align: center;\\r\\n    z-index: 999;\\r\\n}\\r\\n\",\"\"])},550:function(e,t,n){var r=n(551);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},551:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".weather-table {\\r\\n    color: #fff;\\r\\n    text-align: center;\\r\\n    text-shadow: 0 0 0.2rem rgba(0, 0, 0, 0.3), 0 0 1.5rem rgba(0, 0, 0, 0.7);\\r\\n    padding: 0 1rem 1rem 1rem;\\r\\n\\r\\n    transition: all 0.3s;\\r\\n    opacity: 1;\\r\\n}\\r\\n\\r\\n.weather-table.masking {\\r\\n    opacity: 0;\\r\\n}\\r\\n\\r\\n.weather-table .day {\\r\\n    opacity: 0.7;\\r\\n}\\r\\n\\r\\n.weather-table .weather {\\r\\n    font-size: 1.25rem;\\r\\n    font-weight: 300;\\r\\n}\\r\\n\\r\\n.weather-table i {\\r\\n    font-size: 1.5rem;\\r\\n    position: relative;\\r\\n    top: 0.25rem;\\r\\n}\\r\\n\",\"\"])},552:function(e,t,n){var r=n(553);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},553:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".forecast {\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\n.forecast .tomorrow {\\r\\n    width: 100%;\\r\\n    max-width: 24rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.forecast .rests {\\r\\n    width: 100%;\\r\\n    max-width: 34rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\",\"\"])},554:function(e,t,n){var r=n(555);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,a);r.locals&&(e.exports=r.locals)},555:function(e,t,n){(e.exports=n(36)(!1)).push([e.i,\".main {\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.main .footer {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n    padding: 6rem 2rem 2rem 2rem;\\r\\n}\\r\\n\\r\\n.main .search {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n.main .search input {\\r\\n    padding-right: 1.5rem;\\r\\n}\\r\\n\\r\\n.main .search i {\\r\\n    position: absolute;\\r\\n    top: 0.25rem;\\r\\n    right: 0.5rem;\\r\\n}\\r\\n\\r\\n.main .search i:hover {\\r\\n    color: #5bc0de;\\r\\n}\\r\\n\\r\\n@media (min-width: 576px) {\\r\\n    .main .search {\\r\\n        width: 10rem;\\r\\n    }\\r\\n}\\r\\n\",\"\"])},560:function(e,t,n){\"use strict\";n.r(t);var r=n(1),a=n.n(r),o=n(44),i=n.n(o),s=n(88),l=n(49),c=n(568),u=n(569),p=n(570),f=n(571),m=n(572),h=n(573),d=n(574),g=n(562),y=n(0),b=n.n(y),v=n(577),w=(n(306),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var j=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),w(t,[{key:\"render\",value:function(){return a.a.createElement(\"div\",{className:\"weather-display \"+(this.props.masking?\"masking\":\"\")},a.a.createElement(\"img\",{src:\"images/w-\"+this.props.group+\".png\"}),a.a.createElement(\"p\",{className:\"description\"},this.props.day+\": \"+this.props.description),a.a.createElement(\"h1\",{className:\"temp\"},a.a.createElement(\"span\",{className:\"display-3\"},this.props.temp.toFixed(0),\"º\"),\" \",\"metric\"===this.props.unit?\"C\":\"F\"))}}]),t}();j.propTypes={masking:b.a.bool,group:b.a.string,description:b.a.string,temp:b.a.number,unit:b.a.string};var E=j,k=n(561),C=n(576),O=n(563),T=n(564),x=n(565),S=n(296),N=(n(309),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputEl=null,n.state={inputValue:e.city,formToggle:!1,tempToggle:!1,unit:e.unit},n.handleFormToggle=n.handleFormToggle.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleMetricUnit=n.handleMetricUnit.bind(n),n.handleImperialUnit=n.handleImperialUnit.bind(n),n.handleSubmit=n.handleSubmit.bind(n),n.handleTempToggle=n.handleTempToggle.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),N(t,null,[{key:\"getUnitString\",value:function(e){return\"metric\"===e?\"C\":\"F\"}}]),N(t,[{key:\"componentWillReceiveProps\",value:function(e){this.setState({inputValue:e.city,unit:e.unit})}},{key:\"render\",value:function(){var e=this,n=this.state.formToggle?\"form\":\"\";return a.a.createElement(\"div\",{className:\"weather-form \"+n},this.state.formToggle?a.a.createElement(k.a,{className:\"form-inline justify-content-center\",onSubmit:this.handleSubmit},a.a.createElement(g.a,{type:\"text\",name:\"city\",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange}),\" \",a.a.createElement(C.a,{type:\"buttom\",isOpen:this.state.tempToggle,toggle:this.handleTempToggle},a.a.createElement(O.a,{type:\"button\",caret:!0,color:\"secondary\"},\"º \",t.getUnitString(this.state.unit)),a.a.createElement(T.a,null,a.a.createElement(x.a,{type:\"button\",onClick:this.handleMetricUnit},\"º C\"),a.a.createElement(x.a,{type:\"button\",onClick:this.handleImperialUnit},\"º F\"))),\" \",a.a.createElement(S.a,{color:\"info\"},\"Check\")):a.a.createElement(S.a,{className:\"btn-form\",outline:!0,color:\"secondary\",onClick:this.handleFormToggle},a.a.createElement(\"i\",{className:\"fa fa-map-marker\",\"aria-hidden\":\"true\"}),\"  \",this.props.city))}},{key:\"handleFormToggle\",value:function(){this.setState(function(e,t){return{formToggle:!e.formToggle}})}},{key:\"handleInputChange\",value:function(e){this.setState({inputValue:e.target.value})}},{key:\"handleMetricUnit\",value:function(e){this.setState({unit:\"metric\"})}},{key:\"handleImperialUnit\",value:function(e){this.setState({unit:\"imperial\"})}},{key:\"handleSubmit\",value:function(e){e.preventDefault(),this.inputEl.blur(),this.state.inputValue&&this.state.inputValue.trim()?(this.props.onQuery(this.state.inputValue,this.state.unit),this.handleFormToggle()):this.state.inputEl=this.props.city}},{key:\"handleTempToggle\",value:function(e){this.setState(function(e,t){return{tempToggle:!e.tempToggle}})}}]),t}();_.propTypes={city:b.a.string,unit:b.a.string,onQuery:b.a.func};var P=_;function V(e){switch(e){case\"Thunder\":return\"fa fa-bolt\";case\"Drizzle\":return\"fa fa-tint\";case\"Rain\":return\"fa fa-umbrella\";case\"Snow\":return\"fa fa-snowflake\";case\"Windy\":return\"owf owf-905\";case\"Clear\":return\"fa fa-sun\";case\"Clouds\":return\"fa fa-cloud\";default:return\"fa fa-question-circle\"}}n(311);var z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var U=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={inputValue:e.city,inputDanger:!1,moodToggle:!1,mood:\"na\"},n.inputEl=null,n.moodToggleEl=null,n.handleInputChange=n.handleInputChange.bind(n),n.handleDropdownSelect=n.handleDropdownSelect.bind(n),n.handleMoodToggle=n.handleMoodToggle.bind(n),n.handlePost=n.handlePost.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),z(t,[{key:\"render\",value:function(){var e=this,t=this.state,n=(t.inputValue,t.moodToggle),r=t.mood,o=this.state.inputDanger?\"has-danger\":\"\";return a.a.createElement(\"div\",{className:\"post-form\"},a.a.createElement(v.a,{color:\"info\",className:\"d-flex flex-column flex-sm-row justify-content-center \"+o},a.a.createElement(\"div\",{className:\"mood align-self-start\"},a.a.createElement(C.a,{type:\"buttom\",isOpen:n,toggle:this.handleMoodToggle},a.a.createElement(O.a,{className:\"mood-toggle\",type:\"button\",caret:!0,color:\"secondary\"},a.a.createElement(\"i\",{className:V(r)}),\" \",\"na\"===r?\"Mood\":r),a.a.createElement(T.a,null,a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Clear\")}},a.a.createElement(\"i\",{className:V(\"Clear\")}),\"  Clear\"),a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Clouds\")}},a.a.createElement(\"i\",{className:V(\"Clouds\")}),\"  Clouds\"),a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Drizzle\")}},a.a.createElement(\"i\",{className:V(\"Drizzle\")}),\"  Drizzle\"),a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Rain\")}},a.a.createElement(\"i\",{className:V(\"Rain\")}),\"  Rain\"),a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Thunder\")}},a.a.createElement(\"i\",{className:V(\"Thunder\")}),\"  Thunder\"),a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Snow\")}},a.a.createElement(\"i\",{className:V(\"Snow\")}),\"  Snow\"),a.a.createElement(x.a,{type:\"button\",onClick:function(){return e.handleDropdownSelect(\"Windy\")}},a.a.createElement(\"i\",{className:V(\"Windy\")}),\"  Windy\")))),a.a.createElement(g.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:\"What's on your mind?\"}),a.a.createElement(S.a,{className:\"btn-post align-self-end\",color:\"info\",onClick:this.handlePost},\"Post\")))}},{key:\"handleDropdownSelect\",value:function(e){this.setState({mood:e})}},{key:\"handleInputChange\",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:\"handleMoodToggle\",value:function(e){this.setState(function(e,t){return{moodToggle:!e.moodToggle}})}},{key:\"handlePost\",value:function(){\"na\"!==this.state.mood?this.state.inputValue?(this.props.onPost(this.state.mood,this.state.inputValue),this.setState({inputValue:\"\",mood:\"na\"})):this.setState({inputDanger:!0}):this.setState({moodToggle:!0})}}]),t}();U.propTypes={onPost:b.a.func};var I=U,D=n(566),W=n(567),F=n(575),R=n(3),M=n.n(R),L=(n(322),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var Q=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tooltipOpen:!1},n.handleClick=n.handleClick.bind(n),n.handleTooltipToggle=n.handleTooltipToggle.bind(n),n.handleVote=n.handleVote.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),L(t,[{key:\"render\",value:function(){var e=this,t=this.props,n=t.id,r=t.mood,o=t.text,i=t.ts,s=t.clearVotes,l=t.cloudsVotes,c=t.drizzleVotes,u=t.rainVotes,p=t.thunderVotes,f=t.snowVotes,m=t.windyVotes,h=this.state.tooltipOpen;return a.a.createElement(\"div\",{className:\"post-item d-flex flex-column\",onClick:this.handleClick},a.a.createElement(\"div\",{className:\"post d-flex\"},a.a.createElement(\"div\",{className:\"mood\"},a.a.createElement(\"i\",{className:V(r)})),a.a.createElement(\"div\",{className:\"wrap\"},a.a.createElement(\"div\",{className:\"ts\"},M()(1e3*i).calendar()),a.a.createElement(\"div\",{className:\"text\"},o))),a.a.createElement(\"div\",{className:\"vote d-flex justify-content-end\"},a.a.createElement(\"div\",{className:\"vote-results\"},s>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Clear\")}),\" \",s,\"  \"),l>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Clouds\")}),\" \",l,\"  \"),c>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Drizzle\")}),\" \",c,\"  \"),u>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Rain\")}),\" \",u,\"  \"),p>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Thunder\")}),\" \",p,\"  \"),f>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Snow\")}),\" \",f,\"  \"),m>0&&a.a.createElement(\"span\",null,a.a.createElement(\"i\",{className:V(\"Windy\")}),\" \",m,\"  \")),a.a.createElement(\"div\",{className:\"vote-plus\"},a.a.createElement(\"i\",{id:\"post-item-vote-\"+n,className:\"fa fa-plus\"}))),a.a.createElement(F.a,{placement:\"left\",isOpen:h,autohide:!1,target:\"post-item-vote-\"+n,toggle:this.handleTooltipToggle},a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Clear\"),onClick:function(){return e.handleVote(\"Clear\")}}),\" \",a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Clouds\"),onClick:function(){return e.handleVote(\"Clouds\")}}),\" \",a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Drizzle\"),onClick:function(){return e.handleVote(\"Drizzle\")}}),\" \",a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Rain\"),onClick:function(){return e.handleVote(\"Rain\")}}),\" \",a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Thunder\"),onClick:function(){return e.handleVote(\"Thunder\")}}),\" \",a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Snow\"),onClick:function(){return e.handleVote(\"Snow\")}}),\" \",a.a.createElement(\"i\",{className:\"vote-tooltip \"+V(\"Windy\"),onClick:function(){return e.handleVote(\"Windy\")}})))}},{key:\"handleClick\",value:function(){this.setState({tooltipOpen:!0})}},{key:\"handleTooltipToggle\",value:function(){this.setState(function(e,t){return{tooltipOpen:!e.tooltipOpen}})}},{key:\"handleVote\",value:function(e){this.props.onVote(this.props.id,e),this.setState({tooltipOpen:!1})}}]),t}();Q.propTypes={id:b.a.string,mood:b.a.string,text:b.a.string,clearVotes:b.a.number,cloudsVotes:b.a.number,drizzleVotes:b.a.number,rainVotes:b.a.number,thunderVotes:b.a.number,snowVotes:b.a.number,windyVotes:b.a.number,onVote:b.a.func};var q=Q,A=n(51),J=n.n(A),K=n(297),G=n.n(K);n(344);var H=\"posts\";function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=localStorage.getItem(H),n=t?JSON.parse(t):[];return n.length>0&&e&&(n=n.filter(function(t){return-1!==t.text.toLocaleLowerCase().indexOf(e.toLowerCase())})),n}function X(e,t){return new Promise(function(n,r){n(function(e,t){var n={id:G()(),mood:e,text:t,ts:M()().unix(),clearVotes:0,cloudsVotes:0,drizzleVotes:0,rainVotes:0,thunderVotes:0,snowVotes:0,windyVotes:0},r=[n].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(B()));return localStorage.setItem(H,JSON.stringify(r)),n}(e,t))})}function Y(e,t){return new Promise(function(n,r){!function(e,t){var n=B().map(function(n){return n.id===e&&n[t.toLowerCase()+\"Votes\"]++,n});localStorage.setItem(H,JSON.stringify(n))}(e,t),n()})}n(546);var Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ee=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleVote=n.handleVote.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),$(t,[{key:\"render\",value:function(){var e=this,t=this.props.posts,n=a.a.createElement(D.a,{className:\"empty d-flex justify-content-center align-items-center\"},a.a.createElement(\"div\",{className:\"empty-text\"},\"No post here.\",a.a.createElement(\"br\",null),\"Go add some posts.\"));return t.length&&(n=t.map(function(t){return a.a.createElement(D.a,{key:t.id,action:!0},a.a.createElement(q,Z({},t,{onVote:e.handleVote})))})),a.a.createElement(\"div\",{className:\"post-list\"},a.a.createElement(W.a,null,n))}},{key:\"handleVote\",value:function(e,t){this.props.onVote(e,t)}}]),t}();ee.propTypes={posts:b.a.array,filter:b.a.string,onVote:b.a.func};var te=ee,ne=\"36978c6550efee0e27e50850cc57adda\";function re(e){var t=\"na\";return 200<=e&&e<300?t=\"thunderstorm\":300<=e&&e<400?t=\"drizzle\":500<=e&&e<600?t=\"rain\":600<=e&&e<700?t=\"snow\":700<=e&&e<800?t=\"atmosphere\":800===e?t=\"clear\":801<=e&&e<900&&(t=\"clouds\"),t}function ae(e){return e.replace(/\\b\\w/g,function(e){return e.toUpperCase()})}var oe=\"http://api.openweathermap.org/data/2.5/weather?appid=\"+ne,ie=J.a.CancelToken.source();var se=\"http://api.openweathermap.org/data/2.5/forecast/daily?appid=\"+ne+\"&cnt=6\",le=J.a.CancelToken.source();n(548);var ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=ce({},t.getInitWeatherState(),{weatherLoading:!1,masking:!1,postLoading:!1,posts:[]}),n.handleWeatherQuery=n.handleWeatherQuery.bind(n),n.handleCreatePost=n.handleCreatePost.bind(n),n.handleCreateVote=n.handleCreateVote.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ue(t,null,[{key:\"getInitWeatherState\",value:function(){return{city:\"na\",code:-1,group:\"na\",description:\"N/A\",temp:NaN}}}]),ue(t,[{key:\"componentDidMount\",value:function(){this.getWeather(\"Hsinchu\",this.props.unit),this.listPosts(this.props.searchText)}},{key:\"componentWillUnmount\",value:function(){this.state.weatherLoading&&ie.cancel(\"Weather request canceled\")}},{key:\"componentWillReceiveProps\",value:function(e){e.searchText!==this.props.searchText&&this.listPosts(e.searchText)}},{key:\"render\",value:function(){var e=this.props.unit,t=this.state,n=t.group,r=t.city,o=t.masking,i=t.posts,s=t.postLoading;return document.body.className=\"weather-bg \"+n,document.querySelector(\".weather-bg .mask\").className=\"mask \"+(o?\"masking\":\"\"),a.a.createElement(\"div\",{className:\"today\"},a.a.createElement(\"div\",{className:\"weather\"},a.a.createElement(P,{city:r,unit:e,onQuery:this.handleWeatherQuery}),a.a.createElement(E,ce({},this.state,{day:\"today\"}))),a.a.createElement(\"div\",{className:\"posts\"},a.a.createElement(I,{onPost:this.handleCreatePost}),a.a.createElement(te,{posts:i,onVote:this.handleCreateVote}),s&&a.a.createElement(v.a,{color:\"warning\",className:\"loading\"},\"Loading...\")))}},{key:\"getWeather\",value:function(e,n){var r=this;this.setState({weatherLoading:!0,masking:!0,city:e},function(){(function(e,t){var n=oe+\"&q=\"+encodeURIComponent(e)+\"&units=\"+t;return console.log(\"Making request to: \"+n),J.a.get(n,{cancelToken:ie.token}).then(function(n){if(n.data.cod&&n.data.message)throw new Error(n.data.message);return{city:ae(e),code:n.data.weather[0].id,group:re(n.data.weather[0].id),description:n.data.weather[0].description,temp:n.data.main.temp,unit:t}}).catch(function(e){if(!J.a.isCancel(e))throw e;console.error(e.message,e)})})(e,n).then(function(e){r.setState(ce({},e,{weatherLoading:!1}),function(){return r.notifyUnitChange(n)})}).catch(function(e){console.error(\"Error getting weather\",e),r.setState(ce({},t.getInitWeatherState(n),{weatherLoading:!1}),function(){return r.notifyUnitChange(n)})})}),setTimeout(function(){r.setState({masking:!1})},600)}},{key:\"listPosts\",value:function(e){var t=this;this.setState({postLoading:!0},function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return new Promise(function(t,n){setTimeout(function(){t(B(e))},500)})})(e).then(function(e){t.setState({posts:e,postLoading:!1})}).catch(function(e){console.error(\"Error listing posts\",e),t.setState({posts:[],postLoading:!1})})})}},{key:\"handleWeatherQuery\",value:function(e,t){this.getWeather(e,t)}},{key:\"notifyUnitChange\",value:function(e){this.props.units!==e&&this.props.onUnitChange(e)}},{key:\"handleCreatePost\",value:function(e,t){var n=this;X(e,t).then(function(){n.listPosts(n.props.searchText)}).catch(function(e){console.error(\"Error creating posts\",e)})}},{key:\"handleCreateVote\",value:function(e,t){var n=this;Y(e,t).then(function(){n.listPosts(n.props.searchText)}).catch(function(e){console.error(\"Error creating vote\",e)})}}]),t}();pe.propTypes={unit:b.a.string,searchText:b.a.string,onUnitChange:b.a.func};var fe=pe,me=(n(550),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var he=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),me(t,[{key:\"render\",value:function(){var e=this.props,n=e.masking,r=(e.unit,e.list);return a.a.createElement(\"div\",{className:\"weather-table \"+(n?\"masking\":\"\")},a.a.createElement(\"div\",{className:\"d-flex justify-content-around\"},r.map(function(e,n){return a.a.createElement(\"div\",{key:e.ts,className:n>2?\"hidden-xs-down\":\"\"},a.a.createElement(\"span\",{className:\"day\"},t.weekDays[new Date(1e3*e.ts).getDay()],\":  \"),a.a.createElement(\"span\",{className:\"weather\"},e.temp.toFixed(0),\"º\"),\"  \",a.a.createElement(\"i\",{className:\"owf owf-\"+e.code}))})))}}]),t}();he.propTypes={masking:b.a.bool,unit:b.a.string,list:b.a.array},he.weekDays=[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"];var de=he,ge=(n(552),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var be=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=ge({},t.getInitForecastState(),{loading:!1,masking:!1}),n.handleFormQuery=n.handleFormQuery.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),ye(t,null,[{key:\"getInitForecastState\",value:function(){for(var e=[],t=0;t<5;t++)e[t]={ts:-t,code:-1,group:\"na\",description:\"N/A\",temp:NaN};return{city:\"na\",list:e}}}]),ye(t,[{key:\"componentDidMount\",value:function(){this.getForecast(\"Hsinchu\",this.props.unit)}},{key:\"componentWillUnmount\",value:function(){this.state.loading&&le.cancel(\"Forecast request canceled\")}},{key:\"render\",value:function(){var e=this.props,t=e.unit,n=(e.onUnitChange,this.state),r=n.city,o=n.list,i=n.masking,s=o[0],l=o.slice(1);return document.body.className=\"weather-bg \"+s.group,document.querySelector(\".weather-bg .mask\").className=\"mask \"+(i?\"masking\":\"\"),a.a.createElement(\"div\",{className:\"forecast\"},a.a.createElement(\"div\",{className:\"tomorrow\"},a.a.createElement(P,{city:r,unit:t,onQuery:this.handleFormQuery}),a.a.createElement(E,ge({},s,{day:\"tomorrow\",unit:t,masking:i}))),a.a.createElement(\"div\",{className:\"rests\"},a.a.createElement(de,{list:l,unit:t,masking:i})))}},{key:\"getForecast\",value:function(e,n){var r=this;this.setState({loading:!0,masking:!0,city:e},function(){(function(e,t){var n=se+\"&q=\"+encodeURIComponent(e)+\"&units=\"+t;return console.log(\"Making request to: \"+n),J.a.get(n,{cancelToken:le.token}).then(function(n){if(200!==Number(n.data.cod))throw new Error(n.data.message);var r=n.data.list.map(function(e){return{ts:e.dt,code:e.weather[0].id,group:re(e.weather[0].id),description:e.weather[0].main,temp:e.temp.day}});return r.shift(),{city:ae(e),unit:t,list:r}}).catch(function(e){if(!J.a.isCancel(e))throw e;console.error(e.message,e)})})(e,n).then(function(e){r.setState(ge({},e,{loading:!1}),function(){return r.notifyUnitChange(n)})}).catch(function(e){console.error(\"Error getting forecast\",e),r.setState(ge({},t.getInitForecastState(n),{loading:!1}),function(){return r.notifyUnitChange(n)})})}),setTimeout(function(){r.setState({masking:!1})},600)}},{key:\"handleFormQuery\",value:function(e,t){this.getForecast(e,t)}},{key:\"notifyUnitChange\",value:function(e){this.props.units!==e&&this.props.onUnitChange(e)}}]),t}();be.propTypes={unit:b.a.string,onUnitChange:b.a.func};var ve=be,we=(n(554),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var je=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={unit:\"metric\",navbarToggle:!1,searchText:\"\"},n.searchEl=null,n.handleNavbarToggle=n.handleNavbarToggle.bind(n),n.handleSearchKeyPress=n.handleSearchKeyPress.bind(n),n.handleClearSearch=n.handleClearSearch.bind(n),n.handleUnitChange=n.handleUnitChange.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.Component),we(t,[{key:\"render\",value:function(){var e=this;return a.a.createElement(s.a,null,a.a.createElement(\"div\",{className:\"main\"},a.a.createElement(\"div\",{className:\"bg-faded\"},a.a.createElement(\"div\",{className:\"container\"},a.a.createElement(c.a,{color:\"faded\",light:!0},a.a.createElement(u.a,{onClick:this.handleNavbarToggle}),a.a.createElement(p.a,{className:\"text-info\",href:\"/\"},\"WeatherMood\"),a.a.createElement(f.a,{isOpen:this.state.navbarToggle,navbar:!0},a.a.createElement(m.a,{navbar:!0},a.a.createElement(h.a,null,a.a.createElement(d.a,{tag:s.b,to:\"/\"},\"Today\")),a.a.createElement(h.a,null,a.a.createElement(d.a,{tag:s.b,to:\"/forecast\"},\"Forecast\"))),a.a.createElement(\"div\",{className:\"search ml-auto\"},a.a.createElement(g.a,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({className:\"ml-auto\",type:\"text\",innerRef:this.searchEl,placeholder:\"Search\",onKeyPress:this.handleSearchKeyPress},\"innerRef\",function(t){return e.searchEl=t})),this.state.searchText&&a.a.createElement(\"i\",{className:\"navbar-text fa fa-times\",onClick:this.handleClearSearch})))))),a.a.createElement(l.a,{exact:!0,path:\"/\",render:function(){return a.a.createElement(fe,{unit:e.state.unit,searchText:e.state.searchText,onUnitChange:e.handleUnitChange})}}),a.a.createElement(l.a,{exact:!0,path:\"/forecast\",render:function(){return a.a.createElement(ve,{unit:e.state.unit,onUnitChange:e.handleUnitChange})}}),a.a.createElement(\"div\",{className:\"footer\"},\"DataLab.\")))}},{key:\"handleNavbarToggle\",value:function(){this.setState(function(e,t){return{navbarToggle:!e.navbarToggle}})}},{key:\"handleSearchKeyPress\",value:function(e){13===(e.keyCode||e.which)&&this.setState({searchText:e.target.value})}},{key:\"handleClearSearch\",value:function(){this.setState({searchText:\"\"}),this.searchEl.value=\"\"}},{key:\"handleUnitChange\",value:function(e){this.setState({unit:e})}}]),t}();n(558);window.onload=function(){i.a.render(a.a.createElement(je,null),document.getElementById(\"root\"))}}});"],"mappings":"AAAA","sourceRoot":""}