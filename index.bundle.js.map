{"version":3,"file":"index.bundle.js","sources":["webpack:///index.bundle.js"],"sourcesContent":["!function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)i=l[d],o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([620,1]),n()}({329:function(e,t,n){var r=n(574);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},573:function(e,t,n){var r={\"./af\":202,\"./af.js\":202,\"./ar\":203,\"./ar-dz\":204,\"./ar-dz.js\":204,\"./ar-kw\":205,\"./ar-kw.js\":205,\"./ar-ly\":206,\"./ar-ly.js\":206,\"./ar-ma\":207,\"./ar-ma.js\":207,\"./ar-sa\":208,\"./ar-sa.js\":208,\"./ar-tn\":209,\"./ar-tn.js\":209,\"./ar.js\":203,\"./az\":210,\"./az.js\":210,\"./be\":211,\"./be.js\":211,\"./bg\":212,\"./bg.js\":212,\"./bm\":213,\"./bm.js\":213,\"./bn\":214,\"./bn.js\":214,\"./bo\":215,\"./bo.js\":215,\"./br\":216,\"./br.js\":216,\"./bs\":217,\"./bs.js\":217,\"./ca\":218,\"./ca.js\":218,\"./cs\":219,\"./cs.js\":219,\"./cv\":220,\"./cv.js\":220,\"./cy\":221,\"./cy.js\":221,\"./da\":222,\"./da.js\":222,\"./de\":223,\"./de-at\":224,\"./de-at.js\":224,\"./de-ch\":225,\"./de-ch.js\":225,\"./de.js\":223,\"./dv\":226,\"./dv.js\":226,\"./el\":227,\"./el.js\":227,\"./en-SG\":228,\"./en-SG.js\":228,\"./en-au\":229,\"./en-au.js\":229,\"./en-ca\":230,\"./en-ca.js\":230,\"./en-gb\":231,\"./en-gb.js\":231,\"./en-ie\":232,\"./en-ie.js\":232,\"./en-il\":233,\"./en-il.js\":233,\"./en-nz\":234,\"./en-nz.js\":234,\"./eo\":235,\"./eo.js\":235,\"./es\":236,\"./es-do\":237,\"./es-do.js\":237,\"./es-us\":238,\"./es-us.js\":238,\"./es.js\":236,\"./et\":239,\"./et.js\":239,\"./eu\":240,\"./eu.js\":240,\"./fa\":241,\"./fa.js\":241,\"./fi\":242,\"./fi.js\":242,\"./fo\":243,\"./fo.js\":243,\"./fr\":244,\"./fr-ca\":245,\"./fr-ca.js\":245,\"./fr-ch\":246,\"./fr-ch.js\":246,\"./fr.js\":244,\"./fy\":247,\"./fy.js\":247,\"./ga\":248,\"./ga.js\":248,\"./gd\":249,\"./gd.js\":249,\"./gl\":250,\"./gl.js\":250,\"./gom-latn\":251,\"./gom-latn.js\":251,\"./gu\":252,\"./gu.js\":252,\"./he\":253,\"./he.js\":253,\"./hi\":254,\"./hi.js\":254,\"./hr\":255,\"./hr.js\":255,\"./hu\":256,\"./hu.js\":256,\"./hy-am\":257,\"./hy-am.js\":257,\"./id\":258,\"./id.js\":258,\"./is\":259,\"./is.js\":259,\"./it\":260,\"./it-ch\":261,\"./it-ch.js\":261,\"./it.js\":260,\"./ja\":262,\"./ja.js\":262,\"./jv\":263,\"./jv.js\":263,\"./ka\":264,\"./ka.js\":264,\"./kk\":265,\"./kk.js\":265,\"./km\":266,\"./km.js\":266,\"./kn\":267,\"./kn.js\":267,\"./ko\":268,\"./ko.js\":268,\"./ku\":269,\"./ku.js\":269,\"./ky\":270,\"./ky.js\":270,\"./lb\":271,\"./lb.js\":271,\"./lo\":272,\"./lo.js\":272,\"./lt\":273,\"./lt.js\":273,\"./lv\":274,\"./lv.js\":274,\"./me\":275,\"./me.js\":275,\"./mi\":276,\"./mi.js\":276,\"./mk\":277,\"./mk.js\":277,\"./ml\":278,\"./ml.js\":278,\"./mn\":279,\"./mn.js\":279,\"./mr\":280,\"./mr.js\":280,\"./ms\":281,\"./ms-my\":282,\"./ms-my.js\":282,\"./ms.js\":281,\"./mt\":283,\"./mt.js\":283,\"./my\":284,\"./my.js\":284,\"./nb\":285,\"./nb.js\":285,\"./ne\":286,\"./ne.js\":286,\"./nl\":287,\"./nl-be\":288,\"./nl-be.js\":288,\"./nl.js\":287,\"./nn\":289,\"./nn.js\":289,\"./pa-in\":290,\"./pa-in.js\":290,\"./pl\":291,\"./pl.js\":291,\"./pt\":292,\"./pt-br\":293,\"./pt-br.js\":293,\"./pt.js\":292,\"./ro\":294,\"./ro.js\":294,\"./ru\":295,\"./ru.js\":295,\"./sd\":296,\"./sd.js\":296,\"./se\":297,\"./se.js\":297,\"./si\":298,\"./si.js\":298,\"./sk\":299,\"./sk.js\":299,\"./sl\":300,\"./sl.js\":300,\"./sq\":301,\"./sq.js\":301,\"./sr\":302,\"./sr-cyrl\":303,\"./sr-cyrl.js\":303,\"./sr.js\":302,\"./ss\":304,\"./ss.js\":304,\"./sv\":305,\"./sv.js\":305,\"./sw\":306,\"./sw.js\":306,\"./ta\":307,\"./ta.js\":307,\"./te\":308,\"./te.js\":308,\"./tet\":309,\"./tet.js\":309,\"./tg\":310,\"./tg.js\":310,\"./th\":311,\"./th.js\":311,\"./tl-ph\":312,\"./tl-ph.js\":312,\"./tlh\":313,\"./tlh.js\":313,\"./tr\":314,\"./tr.js\":314,\"./tzl\":315,\"./tzl.js\":315,\"./tzm\":316,\"./tzm-latn\":317,\"./tzm-latn.js\":317,\"./tzm.js\":316,\"./ug-cn\":318,\"./ug-cn.js\":318,\"./uk\":319,\"./uk.js\":319,\"./ur\":320,\"./ur.js\":320,\"./uz\":321,\"./uz-latn\":322,\"./uz-latn.js\":322,\"./uz.js\":321,\"./vi\":323,\"./vi.js\":323,\"./x-pseudo\":324,\"./x-pseudo.js\":324,\"./yo\":325,\"./yo.js\":325,\"./zh-cn\":326,\"./zh-cn.js\":326,\"./zh-hk\":327,\"./zh-hk.js\":327,\"./zh-tw\":328,\"./zh-tw.js\":328};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=573},574:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".post-form {\\r\\n}\\r\\n\\r\\n.post-form .alert {\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\n.post-form .mood {\\r\\n    margin: 0 0 0.5rem 0;\\r\\n}\\r\\n\\r\\n.post-form .mood-toggle {\\r\\n    min-width: 8.5rem;\\r\\n}\\r\\n\\r\\n.post-form .mood i {\\r\\n    text-align: center;\\r\\n    width: 1rem;\\r\\n}\\r\\n\\r\\n\\r\\n.post-form .input {\\r\\n    width: 100%;\\r\\n    margin: 0 0 0.5rem 0;\\r\\n}\\r\\n.post-form .uploadFile {\\r\\n    width: 10;\\r\\n    height:10;\\r\\n}\\r\\n@media (min-width: 576px) {\\r\\n    .post-form .mood {\\r\\n        margin: 0 0.5rem 0 0;\\r\\n    }\\r\\n\\r\\n    .post-form .input {\\r\\n        margin: 0 0.5rem 0 0;\\r\\n    }\\r\\n}\\r\\n\",\"\"])},582:function(e,t,n){var r=n(583);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},583:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".post-item {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.post-item .post {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.post-item .mood {\\r\\n    text-align: center;\\r\\n    font-size: 2rem;\\r\\n    width: 3rem;\\r\\n}\\r\\n\\r\\n.post-item .wrap {\\r\\n    width: 100%;\\r\\n    padding-left: 0.75rem;\\r\\n}\\r\\n\\r\\n.post-item .ts {\\r\\n    color: #bcbcbc;\\r\\n    font-size: 0.875rem;\\r\\n    margin-bottom: 0.25rem;\\r\\n}\\r\\n\\r\\n.post-item .text {\\r\\n    padding-left: inherit;\\r\\n    border-left: inset;\\r\\n}\\r\\n\\r\\n.post-item .vote {\\r\\n    color: #bcbcbc;\\r\\n    padding-top: 0.5rem;\\r\\n}\\r\\n\\r\\n.post-item .vote .vote-plus i {\\r\\n    color: #bcdff1;\\r\\n    padding-left: 0.5rem;\\r\\n}\\r\\n.post-item .fileBtn {\\r\\n    float: right;\\r\\n}\\r\\n.tooltip-inner {\\r\\n    max-width: none !important;\\r\\n}\\r\\n\\r\\n.tooltip-inner i.vote-tooltip {\\r\\n    font-size: 1.5rem;\\r\\n    width: 2.25rem;\\r\\n    line-height: 1.75;\\r\\n}\\r\\n\\r\\n.tooltip-inner i.vote-tooltip:hover {\\r\\n    color: #31b0d5\\r\\n}\\r\\n\",\"\"])},598:function(e,t,n){var r=n(599);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},599:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".post-list {\\r\\n}\\r\\n\\r\\n.post-list .empty {\\r\\n    height: 8rem;\\r\\n    border-color: rgba(255, 255, 255, 0);\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.post-list .empty-text {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n}\\r\\n.list-group-item {\\r\\n    background-color: #f5f5f5;\\r\\n}\",\"\"])},601:function(e,t,n){var r=n(602);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},602:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".today {\\r\\n    padding: 5rem 1rem 1rem 1rem;\\r\\n}\\r\\n\\r\\n.today .weather {\\r\\n    width: 100%;\\r\\n    max-width: 24rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.today .posts {\\r\\n    width: 100%;\\r\\n    max-width: 50rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.today .posts .loading {\\r\\n    position: fixed;\\r\\n    bottom: 1rem;\\r\\n    left: 50%;\\r\\n    transform: translateX(-50%);\\r\\n    margin: 0 auto;\\r\\n    text-align: center;\\r\\n    z-index: 999;\\r\\n}\\r\\n\",\"\"])},603:function(e,t,n){var r=n(604);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},604:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".card-container{\\r\\n    display: inline-flex;\\r\\n}\\r\\n.card {\\r\\n    width: 193px;\\r\\n};\\r\\n\\r\\n.centerImg {\\r\\n    height: 160;\\r\\n    padding-top: '56.25%'; \\r\\n    margin-left: auto;\\r\\n    margin-right:auto;\\r\\n};\\r\\n\\r\\n.expandOpen {\\r\\n    transform: 'rotate(180deg)';\\r\\n  };\\r\\n\\r\\n.avatar {\\r\\n    background-color: red;\\r\\n  };\\r\\n\\r\\n.icon{\\r\\n    float:right;\\r\\n}\\r\\n.p_wrap{\\r\\n    white-space: pre-line\\r\\n}\\r\\nimg {\\r\\n    width:150px;\\r\\n}\",\"\"])},613:function(e,t,n){var r=n(614);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},614:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".profile-list {\\r\\n    display:inline-flex;\\r\\n}\\r\\n\\r\\n.profile-list .empty {\\r\\n    height: 8rem;\\r\\n    border-color: rgba(255, 255, 255, 0);\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.profile-list .empty-text {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n}\\r\\n.list-group-item {\\r\\n    background-color: #f5f5f5;\\r\\n}\\r\\n.addBtn {\\r\\n\\r\\n    display: grid;\\r\\n}\",\"\"])},615:function(e,t,n){var r=n(616);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(62)(r,o);r.locals&&(e.exports=r.locals)},616:function(e,t,n){(e.exports=n(61)(!1)).push([e.i,\".main {\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.main .footer {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n    padding: 6rem 2rem 2rem 2rem;\\r\\n}\\r\\n\\r\\n.main .search {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    \\r\\n}\\r\\n.main .navbarBtn{\\r\\n    margin: 0px 10px 0px 10px;\\r\\n}\\r\\n.main .search input {\\r\\n    padding-right: 1.5rem;\\r\\n}\\r\\n\\r\\n.main .search i {\\r\\n    position: absolute;\\r\\n    top: 0.25rem;\\r\\n    right: 0.5rem;\\r\\n}\\r\\n\\r\\n.main .search i:hover {\\r\\n    color: #5bc0de;\\r\\n}\\r\\n.main .profileImg {\\r\\n    height: 3rem;\\r\\n    width: 3rem;\\r\\n    border-radius: 40;\\r\\n}\\r\\n.main .bg-faded{}\\r\\n@media (min-width: 576px) {\\r\\n    .main .search {\\r\\n        width: 10rem;\\r\\n    }\\r\\n}\\r\\n\",\"\"])},620:function(e,t,n){\"use strict\";n.r(t);var r=n(0),o=n.n(r),a=n(19),i=n.n(a),l=n(40),s=n(158),c=n(65),u=n(661),d=n(674),f=n(675),p=n(1),h=n.n(p),m=n(673),g=n(678),v=n(659),b=n(157),y=n.n(b),E=n(4),w=n.n(E),P=n(660);n(329);var j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var k=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r,o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handlePost=(r=regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.storage().ref(),r=o.state,a=r.inputValue,i=r.titleValue,s=r.filename,c=r.file,a&&i&&s&&c){e.next=5;break}return o.setState({inputDanger:!0}),e.abrupt(\"return\");case 5:return e.prev=5,e.next=8,t.child(\"pdfs/\"+s).put(c);case 8:if(!e.sent){e.next=13;break}console.log(\"Upload Success\"),e.next=14;break;case 13:throw\"Upload Failed\";case 14:return e.next=16,t.child(\"pdfs/\"+s).getDownloadURL();case 16:if(!(u=e.sent)){e.next=21;break}console.log(\"File available at\",u),e.next=22;break;case 21:throw\"Cannot get Url\";case 22:o.props.onPost(i,a,s,u),o.setState({inputValue:\"\",titleValue:\"\",inputDanger:!1,filename:\"\",file:null}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),alert(e.t0);case 29:case\"end\":return e.stop()}},e,n,[[5,26]])}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});t(l)}(\"next\")})}),o.state={inputValue:\"\",inputDanger:!1,titleValue:\"\",filename:\"\",file:null},o.inputEl=null,o.handleInputChange=o.handleInputChange.bind(o),o.handleDropdownSelect=o.handleDropdownSelect.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.handlePost=o.handlePost.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),j(t,[{key:\"render\",value:function(){var e=this,t=this.state.inputDanger?\"danger\":\"info\";return o.a.createElement(\"div\",{className:\"post-form\"},o.a.createElement(v.a,{color:t,className:\"d-flex flex-column flex-sm-row justify-content-center \",style:{marginBottom:\"0rem\"}},o.a.createElement(\"div\",{className:\"mood align-self-start\"},this.state.inputDanger&&!this.state.titleValue?\"Title(請填寫)\":\"Title\",o.a.createElement(P.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.titleValue,onChange:this.handleTitleChange,placeholder:\"title\"}),this.state.inputDanger&&!this.state.inputValue?\"Description(請填寫)\":\"Description\",o.a.createElement(P.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:\"Brief Description\"}),this.state.inputDanger&&!this.state.filename?\"Choose your file(請選擇檔案)\":\"Choose your file\",o.a.createElement(P.a,{className:\"input\",type:\"file\",name:\"file\",onChange:function(t){return e.onChange(t)}})),o.a.createElement(u.a,{className:\"btn-post align-self-end\",color:\"info\",onClick:this.handlePost},\"Post\")))}},{key:\"onChange\",value:function(e){this.setState({filename:e.target.files[0].name,file:e.target.files[0],inputDanger:!1})}},{key:\"handleDropdownSelect\",value:function(e){this.setState({mood:e})}},{key:\"handleInputChange\",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:\"handleTitleChange\",value:function(e){var t=e.target.value;this.setState({titleValue:t}),t&&this.setState({inputDanger:!1})}}]),t}();k.propTypes={onPost:h.a.func};var x=k,C=n(667),_=n(668),D=n(664),S=n(665),O=n(666),T=n(82),I=(n(582),n(662)),M=n(91),N=n.n(M),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var L=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r,o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.editPost=(r=regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.state,r=t.inputValue,a=t.titleValue,i=t.filename,s=t.file,console.log(\"postItem/filename: \",i),i!==o.props.filename){e.next=6;break}o.props.onEdit(o.props.docId,a,r,i,\"\"),e.next=30;break;case 6:return c=l.storage().ref(),e.prev=7,e.next=10,c.child(\"pdfs/\"+i).put(s);case 10:if(!e.sent){e.next=15;break}console.log(\"Upload Success\"),e.next=16;break;case 15:throw\"Upload Failed\";case 16:return e.next=18,c.child(\"pdfs/\"+i).getDownloadURL();case 18:if(!(u=e.sent)){e.next=23;break}console.log(\"File available at\",u),e.next=24;break;case 23:throw\"Cannot get Url\";case 24:o.props.onEdit(o.props.docId,a,r,i,u),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(7),alert(e.t0);case 30:o.handleEditToggle();case 31:case\"end\":return e.stop()}},e,n,[[7,27]])}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});t(l)}(\"next\")})}),o.state={modalDelete:!1,modalEdit:!1,inputValue:o.props.text,inputDanger:!1,titleValue:o.props.title,filename:o.props.filename,file:null},o.handleDeleteToggle=o.handleDeleteToggle.bind(o),o.deletePost=o.deletePost.bind(o),o.editPost=o.editPost.bind(o),o.handleEditToggle=o.handleEditToggle.bind(o),o.inputEl=null,o.handleInputChange=o.handleInputChange.bind(o),o.handleDropdownSelect=o.handleDropdownSelect.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),R(t,[{key:\"render\",value:function(){var e=this,t=this.props,n=(t.docId,t.text),r=t.title,a=t.ts,i=t.downloadurl,l=(t.filename,this.state.inputDanger?\"has-danger\":\"\");return o.a.createElement(\"div\",{className:\"post-item d-flex flex-column\"},o.a.createElement(\"div\",{className:\"post d-flex\"},o.a.createElement(\"div\",{className:\"wrap\"},this.props.editMode&&o.a.createElement(\"div\",null,o.a.createElement(u.a,{close:!0,onClick:this.handleDeleteToggle},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(T.a,null))),o.a.createElement(u.a,{close:!0,onClick:this.handleEditToggle},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(T.b,null)))),o.a.createElement(N.a,null,o.a.createElement(\"div\",{className:\"title\"},o.a.createElement(I.a,{style:{textAlign:\"left\",fontWeight:\"bold\"},variant:\"h5\",gutterBottom:!0},r,\":\")),o.a.createElement(\"div\",{className:\"text\",style:{whiteSpace:\"pre-line\",borderColor:\"#dee2e6\"}},o.a.createElement(I.a,{variant:\"body1\"},n)),o.a.createElement(\"div\",{className:\"ts\"},w()(1e3*a).calendar(),o.a.createElement(u.a,{className:\"fileBtn\",onClick:function(){return console.log(i)},href:i,target:\"_blank\"},\"Paper\"))))),o.a.createElement(g.a,{isOpen:this.state.modalDelete,toggle:this.handleDeleteToggle},o.a.createElement(D.a,{toggle:this.handleDeleteToggle},\"Delete\"),o.a.createElement(S.a,null,\"Do you really want to delete this post?\"),o.a.createElement(O.a,null,o.a.createElement(u.a,{color:\"danger\",onClick:this.deletePost},\"Yes\"),\" \",o.a.createElement(u.a,{color:\"primary\",onClick:this.handleDeleteToggle},\"No\"))),o.a.createElement(g.a,{isOpen:this.state.modalEdit,toggle:this.handleEditToggle},o.a.createElement(D.a,{toggle:this.handleEditToggle},\"Edit\"),o.a.createElement(S.a,null,o.a.createElement(\"div\",{className:\"post-form\"},o.a.createElement(v.a,{color:\"info\",className:\"d-flex flex-column flex-sm-row justify-content-center \"+l},o.a.createElement(\"div\",{className:\"mood align-self-start\"},\"Title:\",o.a.createElement(P.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.titleValue,onChange:this.handleTitleChange,placeholder:\"title\"}),\"Brief description:\",o.a.createElement(P.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:\"Brief Description\"}),\"Choose your file:\",o.a.createElement(P.a,{className:\"input\",type:\"file\",name:\"file\",onChange:function(t){return e.onChange(t)}}))))),o.a.createElement(O.a,null,o.a.createElement(u.a,{color:\"danger\",onClick:this.editPost},\"Yes\"),\" \",o.a.createElement(u.a,{color:\"primary\",onClick:this.handleEditToggle},\"No\"))))}},{key:\"handleDeleteToggle\",value:function(){this.setState(function(e){return{modalDelete:!e.modalDelete}})}},{key:\"handleEditToggle\",value:function(){var e=this;this.setState(function(t){return{modalEdit:!t.modalEdit,inputValue:e.props.text,titleValue:e.props.title}})}},{key:\"deletePost\",value:function(){console.log(\"docId in PostItem: \",this.props.docId),this.props.onDeletePost(this.props.docId),this.handleDeleteToggle}},{key:\"onChange\",value:function(e){this.setState({filename:e.target.files[0].name,file:e.target.files[0]})}},{key:\"handleDropdownSelect\",value:function(e){this.setState({mood:e})}},{key:\"handleInputChange\",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:\"handleTitleChange\",value:function(e){var t=e.target.value;this.setState({titleValue:t}),t&&this.setState({inputDanger:!1})}}]),t}();L.propTypes={docId:h.a.string,text:h.a.string,title:h.a.string,ts:h.a.number,filename:h.a.string,downloadurl:h.a.string,onDeletePost:h.a.func,onEdit:h.a.func,editMode:h.a.bool};var z=L,V=(n(598),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var U=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleDeletePost=n.handleDeletePost.bind(n),n.handleEditPost=n.handleEditPost.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),B(t,[{key:\"render\",value:function(){var e=this,t=this.props.posts,n=o.a.createElement(C.a,{className:\"empty d-flex justify-content-center align-items-center\"},o.a.createElement(\"div\",{className:\"empty-text\"},\"No post here.\",o.a.createElement(\"br\",null),\"Go add some posts.\"));return t.length&&(n=t.map(function(t){return o.a.createElement(C.a,{key:t.id,action:!0},o.a.createElement(z,V({},t,{onDeletePost:e.handleDeletePost,onEdit:e.handleEditPost,editMode:e.props.editMode})))})),o.a.createElement(\"div\",{className:\"post-list\"},o.a.createElement(_.a,null,n))}},{key:\"handleDeletePost\",value:function(e){this.props.onDeletePost(e)}},{key:\"handleEditPost\",value:function(e,t,n,r,o){console.log(\"postList/filename: \",r),this.props.onEditPost(e,t,n,r,o)}}]),t}();U.propTypes={posts:h.a.array,filter:h.a.string,onDeletePost:h.a.func,onEditPost:h.a.func,editMode:h.a.bool};var F=U,q=n(339),A=(n(600),n(601),n(603),n(8),n(669)),G=n(672),W=n(670),J=n(671),Y=n(677),X=n(343),K=n.n(X),Q=n(122),H=n.n(Q),Z=n(121),$=n.n(Z),ee=n(676),te=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function ne(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(l)}(\"next\")})}}var re=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleNameChange=function(e){return function(e){r.setState({name:e.target.value})}},r.handleContentChange=function(e){return function(e){r.setState({content:e.target.value})}},r.handleEdit=ne(regeneratorRuntime.mark(function e(){var t,o,a,i,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.storage().ref(),o=r.state,a=o.name,i=o.content,s=o.filename,c=o.file,u=r.props.docId,e.prev=3,d=\"\",!s){e.next=22;break}return e.next=8,t.child(\"pdfs/\"+s).put(c);case 8:if(!e.sent){e.next=13;break}console.log(\"Upload Success\"),e.next=14;break;case 13:throw\"Upload Failed\";case 14:return e.next=16,t.child(\"pdfs/\"+s).getDownloadURL();case 16:if(!(d=e.sent)){e.next=21;break}console.log(\"File available at\",d),e.next=22;break;case 21:throw\"Cannot get Url\";case 22:if(a!==r.props.name||i!==r.props.content||d!==r.props.src){e.next=27;break}return e.next=25,r.editMode(\"normal\");case 25:return console.log(\"nothing to change in this profile\"),e.abrupt(\"return\");case 27:r.props.onEdit(u,a,i,d),r.editMode(\"normal\"),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(3),alert(e.t0);case 34:case\"end\":return e.stop()}},e,n,[[3,31]])})),r.handleDelete=ne(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.docId,r.props.onDelete(t);case 2:case\"end\":return e.stop()}},e,n)})),r.state={expanded:!1,mode:\"normal\",name:r.props.name,content:r.props.content,file:null,imagePreviewUrl:\"\"},r.handleExpandClick=r.handleExpandClick.bind(r),r.editMode=r.editMode.bind(r),r.handleNameChange=r.handleNameChange.bind(r),r.handleContentChange=r.handleContentChange.bind(r),r.handleEdit=r.handleEdit.bind(r),r.onImageChange=r.onImageChange.bind(r),r.handleDelete=r.handleDelete.bind(r),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),te(t,[{key:\"handleExpandClick\",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.src,r=t.name,a=t.content,i=this.state.mode;if(\"normal\"===i)return o.a.createElement(A.a,{className:\"card\"},this.props.editMode&&o.a.createElement(u.a,{close:!0,onClick:this.handleDelete}),o.a.createElement(\"div\",{style:{marginLeft:\"auto\",marginRight:\"auto\"}},o.a.createElement(\"img\",{height:\"180\",src:n})),o.a.createElement(W.a,{disableSpacing:!0},r,o.a.createElement(Y.a,{className:\"icon\",onClick:this.handleExpandClick,\"aria-expanded\":this.state.expanded,\"aria-label\":\"Show more\"},o.a.createElement(K.a,null)),this.props.editMode&&o.a.createElement(u.a,{close:!0,onClick:function(){return e.editMode(\"edit\")}},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(T.b,null)))),o.a.createElement(J.a,{in:this.state.expanded,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(G.a,null,o.a.createElement(N.a,null,o.a.createElement(\"div\",{className:\"p_wrap\"},a)))));if(\"edit\"===i){var l=this.state.imagePreviewUrl,s=o.a.createElement(\"div\",{style:{marginLeft:\"auto\",marginRight:\"auto\"}},o.a.createElement(\"img\",{height:\"180\",src:n}));return l&&(s=o.a.createElement(\"div\",{style:{marginLeft:\"auto\",marginRight:\"auto\"}},o.a.createElement(\"img\",{height:\"180\",src:l}))),o.a.createElement(A.a,{className:\"card\"},o.a.createElement(u.a,{close:!0,onClick:this.handleDelete}),s,o.a.createElement(P.a,{className:\"input\",type:\"file\",name:\"file\",onChange:function(t){return e.onImageChange(t)}}),o.a.createElement(W.a,{disableSpacing:!0},o.a.createElement(ee.a,{id:\"filled-name\",label:\"Name\",value:this.state.name,onChange:this.handleNameChange(\"name\"),margin:\"normal\",variant:\"filled\"})),o.a.createElement(J.a,{in:this.state.expanded,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(G.a,null,o.a.createElement(ee.a,{id:\"filled-multiline-flexible\",multiline:!0,label:\"Introduction\",value:this.state.content,onChange:this.handleContentChange(\"name\"),margin:\"normal\",variant:\"filled\"}),o.a.createElement(\"div\",{style:{float:\"right\"}},o.a.createElement(Y.a,{className:\"icon\",onClick:function(){return e.editMode(\"normal\")}},o.a.createElement($.a,null)),o.a.createElement(Y.a,{className:\"icon\",onClick:this.handleEdit},o.a.createElement(H.a,null))))))}}},{key:\"onImageChange\",value:function(e){var t=this;e.preventDefault();var n=e.target.files[0];if(n){var r=new FileReader;r.onloadend=function(){t.setState({file:n,imagePreviewUrl:r.result,filename:n.name})},r.readAsDataURL(n)}}},{key:\"editMode\",value:function(e){this.setState(function(t){return{expanded:!t.expanded,mode:e}})}}]),t}();re.propTypes={src:h.a.string,name:h.a.string,content:h.a.string,onEdit:h.a.func,docId:h.a.string,onDelete:h.a.func,editMode:h.a.bool};var oe=re,ae=(n(613),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var le=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDeleteProfile=n.handleDeleteProfile.bind(n),n.handleEditProfile=n.handleEditProfile.bind(n),n.createProfile=n.createProfile.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),ie(t,[{key:\"render\",value:function(){var e=this,t=this.props.profiles,n=o.a.createElement(\"div\",{className:\"empty-text\"},\"No profile here.\",o.a.createElement(\"br\",null),\"Go add some profiles.\");return t.length&&(n=t.map(function(t){return o.a.createElement(\"div\",{className:\"profile-list\",key:t.id},o.a.createElement(oe,ae({},t,{key:t.id,onEdit:e.handleEditProfile,onDelete:e.handleDeleteProfile,editMode:e.props.editMode})))})),o.a.createElement(\"div\",{style:{marginBottom:\"5%\"}},o.a.createElement(\"div\",null,n,this.props.editMode&&o.a.createElement(\"div\",{className:\"addBtn\"},o.a.createElement(u.a,{onClick:this.createProfile},\"New Profile\"))))}},{key:\"createProfile\",value:function(){console.log(\"profile-list: onCreate\"),this.props.onCreateProfile()}},{key:\"handleDeleteProfile\",value:function(e){this.props.onDeleteProfile(e)}},{key:\"handleEditProfile\",value:function(e,t,n,r){this.props.onEditProfile(e,t,n,r)}}]),t}();le.propTypes={onEditProfile:h.a.func,profiles:h.a.array,onDeleteProfile:h.a.func,onCreateProfile:h.a.func,editMode:h.a.bool};var se=le,ce=n(680),ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fe(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(l)}(\"next\")})}}var pe=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r,o,a,i,l,s=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.handleintroTitleChange=function(e){s.setState({introTitle:e.target.value})},s.handleintroDescriptionChange=function(e){s.setState({introDescription:e.target.value})},s.handleintroDescription2Change=function(e){s.setState({introDescription2:e.target.value})},s.__listIntro=fe(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.db,e.next=3,t.collection(\"intros\").get();case 3:return r=e.sent,o=[],r.forEach(function(e){o.push(e.data())}),e.abrupt(\"return\",o);case 7:case\"end\":return e.stop()}},e,n)})),s.__listProfiles=fe(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state.db,e.next=3,t.collection(\"profiles\").get();case 3:return r=e.sent,o=[],r.forEach(function(e){if(e.exists){var t=ue({docId:e.id},e.data());o.push(t)}}),e.abrupt(\"return\",o);case 7:case\"end\":return e.stop()}},e,n)})),s.__listPosts=(r=fe(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.state.db,e.next=3,r.collection(\"posts\").get();case 3:return o=e.sent,a=[],o.forEach(function(e){if(e.exists){var t=ue({docId:e.id},e.data());a.push(t)}}),console.log(a),a.length>0&&t&&(a=a.filter(function(e){return-1!==e.text.toLocaleLowerCase().indexOf(t.toLowerCase())})),e.abrupt(\"return\",a);case 9:case\"end\":return e.stop()}},e,n)})),function(e){return r.apply(this,arguments)}),s.__deleteProfile=(o=fe(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"delete-profile, docId: \",t),r=s.state.db,o=r.collection(\"/profiles\").doc(t),e.next=5,o.delete().then(function(){console.log(\"delete\")}).catch(function(e){console.error(\"Error deleteing Profiles\",e)});case 5:case\"end\":return e.stop()}},e,n)})),function(e){return o.apply(this,arguments)}),s.__deletePost=(a=fe(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.state.db,o=r.collection(\"/posts\").doc(t),e.next=4,o.delete().then(function(){console.log(\"delete\")}).catch(function(e){console.error(\"Error deleteing posts\",e)});case 4:case\"end\":return e.stop()}},e,n)})),function(e){return a.apply(this,arguments)}),s.__editProfile=(i=fe(regeneratorRuntime.mark(function e(t,r,o,a){var i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.state.db,e.next=3,i.collection(\"/profiles\").doc(t);case 3:if(l=e.sent,console.log(t),void 0,\"\"!==a){e.next=12;break}return e.next=9,l.set({name:r,content:o},{merge:!0});case 9:e.sent,e.next=15;break;case 12:return e.next=14,l.set({name:r,src:a,content:o},{merge:!0});case 14:e.sent;case 15:case\"end\":return e.stop()}},e,n)})),function(e,t,n,r){return i.apply(this,arguments)}),s.__editPost=(l=fe(regeneratorRuntime.mark(function e(t,r,o,a,i){var l,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=s.state.db,e.next=3,l.collection(\"posts\").doc(t);case 3:return c=e.sent,console.log(\"filename\",a),e.next=7,c.set({title:r,text:o,filename:a,downloadurl:i},{merge:!0});case 7:e.sent;case 8:case\"end\":return e.stop()}},e,n)})),function(e,t,n,r,o){return l.apply(this,arguments)}),s.__editIntro=fe(regeneratorRuntime.mark(function e(){var t,r,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.state,r=t.db,o=t.introDescription,a=t.introDescription2,i=t.introTitle,e.next=3,r.collection(\"intros\").doc(\"Mzol0ckwXGOeRFFCLXBq\");case 3:return l=e.sent,e.next=6,l.set({introDescription:o,introDescription2:a,introTitle:i},{merge:!0});case 6:e.sent;case 7:case\"end\":return e.stop()}},e,n)})),s.state={masking:!1,postLoading:!1,profileLoading:!1,profiles:[],posts:[],db:q.firestore(),introTitle:\"\",introDescription:\"\",introDescription2:\"\",isIntroEdit:!1,isProfileEdit:!1,isPostEdit:!1},s.handleCreatePost=s.handleCreatePost.bind(s),s._createPost=s._createPost.bind(s),s.handleDeletePost=s.handleDeletePost.bind(s),s.handleEditPost=s.handleEditPost.bind(s),s.modalToggle=s.modalToggle.bind(s),s.listProfiles=s.listProfiles.bind(s),s.handleEditProfile=s.handleEditProfile.bind(s),s.handleDeleteProfile=s.handleDeleteProfile.bind(s),s.handleCreateProfile=s.handleCreateProfile.bind(s),s.handleEditIntro=s.handleEditIntro.bind(s),s.toggleIntroEdit=s.toggleIntroEdit.bind(s),s.handleintroTitleChange=s.handleintroTitleChange.bind(s),s.handleintroDescriptionChange=s.handleintroDescriptionChange.bind(s),s.handleintroDescription2Change=s.handleintroDescription2Change.bind(s),s}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),de(t,[{key:\"componentDidMount\",value:function(){this.listProfiles(),this.listPosts(this.props.searchText),this.listIntro()}},{key:\"componentWillUnmount\",value:function(){}},{key:\"render\",value:function(){var e=this.state,t=e.isIntroEdit,n=(e.isPostEdit,e.isProfileEdit,e.masking,e.posts),r=e.postLoading,a=e.profiles,i=e.profileLoading,l=e.introDescription,s=e.introDescription2,c=e.introTitle,d=o.a.createElement(\"div\",null,o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},c),o.a.createElement(N.a,null,o.a.createElement(m.a,{style:{padding:\"1rem 0rem\",whiteSpace:\"pre-line\"}},o.a.createElement(\"p\",{className:\"lead\"},l),o.a.createElement(\"hr\",{className:\"my-2\"}),o.a.createElement(\"p\",null,s,this.props.editMode&&o.a.createElement(u.a,{onClick:this.toggleIntroEdit,style:{float:\"right\"},color:\"primary\",close:!0},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(T.b,null)))))));return t&&(d=o.a.createElement(\"div\",null,o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},o.a.createElement(ce.a,{style:{fontSize:\"1em\"},onChange:this.handleintroTitleChange,defaultValue:c,inputProps:{\"aria-label\":\"naked\"}})),o.a.createElement(m.a,{style:{padding:\"1rem 0rem\"}},o.a.createElement(ce.a,{style:{fontSize:\"1.3em\"},className:\"lead\",multiline:!0,defaultValue:l,onChange:this.handleintroDescriptionChange,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(\"hr\",{className:\"my-2\"}),o.a.createElement(\"div\",null,o.a.createElement(ce.a,{style:{fontSize:\"1em\"},className:\"lead\",multiline:!0,defaultValue:s,onChange:this.handleintroDescription2Change,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(Y.a,{style:{float:\"right\"},onClick:this.handleEditIntro},o.a.createElement(H.a,null)),o.a.createElement(Y.a,{style:{float:\"right\"},onClick:this.toggleIntroEdit},o.a.createElement($.a,null)))))),o.a.createElement(\"div\",{className:\"today\"},o.a.createElement(\"div\",{className:\"posts\"},o.a.createElement(g.a,{isOpen:this.props.modal,toggle:this.modalToggle},o.a.createElement(x,{onPost:this.handleCreatePost})),d,o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},\"Profiles:\"),o.a.createElement(se,{profiles:a,onEditProfile:this.handleEditProfile,onDeleteProfile:this.handleDeleteProfile,onCreateProfile:this.handleCreateProfile,editMode:this.props.editMode}),i&&o.a.createElement(v.a,{color:\"warning\",className:\"loading\"},\"Loading...\"),o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},\"Papers:\"),o.a.createElement(F,{posts:n,onDeletePost:this.handleDeletePost,onEditPost:this.handleEditPost,editMode:this.props.editMode}),r&&o.a.createElement(v.a,{color:\"warning\",className:\"loading\"},\"Loading...\")))}},{key:\"toggleIntroEdit\",value:function(){this.setState(function(e){return{isIntroEdit:!e.isIntroEdit}})}},{key:\"modalToggle\",value:function(){this.props.onPostChange()}},{key:\"listIntro\",value:function(){var e=this;console.log(\"list-intro\"),this._listIntro().then(function(t){console.log(\"intros: \",t),e.setState({introTitle:t[0].introTitle,introDescription:t[0].introDescription,introDescription2:t[0].introDescription2})}).catch(function(t){console.error(\"Error listing intros\",t),e.setState({introTitle:intros.title,introDescription:intros.introDescription,introDescription2:intros.introDescription2})})}},{key:\"_listIntro\",value:function(){var e=this;return new Promise(function(t,n){t(e.__listIntro())})}},{key:\"listProfiles\",value:function(){var e=this;console.log(\"list-profile\"),this.setState({profileLoading:!0},function(){e._listProfiles().then(function(t){console.log(t),e.setState({profiles:t,profileLoading:!1})}).catch(function(t){console.error(\"Error listing profiles\",t),e.setState({profiles:profiles,profileLoading:!1})})})}},{key:\"_listProfiles\",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfiles())})}},{key:\"listPosts\",value:function(e){var t=this;console.log(\"list-post\"),this.setState({postLoading:!0},function(){t._listPosts(e).then(function(e){console.log(e),t.setState({posts:e,postLoading:!1})}).catch(function(e){console.error(\"Error listing posts\",e),t.setState({posts:[],postLoading:!1})})})}},{key:\"_listPosts\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__listPosts(e))})}},{key:\"handleCreateProfile\",value:function(){var e=this;this._createProfile().then(function(){e.listProfiles()}).catch(function(e){console.error(\"Error creating Profiles\",e),alert(\"Error creating Profiles, please try again!\")})}},{key:\"_createProfile\",value:function(){var e=this;return new Promise(function(t,n){t(e.__createProfile())})}},{key:\"__createProfile\",value:function(){var e=this.state.db,t={id:y()(),src:\"http://res.cloudinary.com/sagacity/image/upload/c_crop,h_800,w_616,x_0,y_0/c_scale,w_640/v1419879339/iVegJ35_xfjlfu.gif\",name:\"Your Name\",ts:w()().unix(),content:\"Your introduction\"};e.collection(\"/profiles\").add(ue({},t)).then(function(e){return console.log(\"Document written with ID:\",e.id),t}).catch(function(e){console.log(\"Error adding document\",error)})}},{key:\"handleCreatePost\",value:function(e,t,n,r){var o=this;this._createPost(e,t,n,r).then(function(){o.listPosts(o.props.searchText),o.modalToggle()}).catch(function(e){console.error(\"Error creating posts\",e),alert(\"Error creating Posts, please try again!\")})}},{key:\"_createPost\",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__createPost(e,t,n,r))})}},{key:\"__createPost\",value:function(e,t,n,r){var o=this.state.db,a={id:y()(),title:e,text:t,ts:w()().unix(),filename:n,downloadurl:r};o.collection(\"posts\").add(ue({},a)).then(function(e){return console.log(\"Document written with ID:\",e.id),a}).catch(function(e){console.log(\"Error adding document\",error)})}},{key:\"handleDeleteProfile\",value:function(e){var t=this;this._deleteProfile(e).then(function(){t.listProfiles()}).catch(function(e){console.error(\"Error deleting Profiles\",e)})}},{key:\"_deleteProfile\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deleteProfile(e))})}},{key:\"handleDeletePost\",value:function(e){var t=this;this._deletePost(e).then(function(){t.listPosts(t.props.searchText)}).catch(function(e){console.error(\"Error deleting posts\",e)})}},{key:\"_deletePost\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deletePost(e))})}},{key:\"handleEditProfile\",value:function(e,t,n,r){var o=this;this._editProfile(e,t,n,r).then(function(){console.log(\"Edit-Profile Complete!\"),o.listProfiles()}).catch(function(e){console.error(\"Error editing profiles\",e)})}},{key:\"_editProfile\",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__editProfile(e,t,n,r))})}},{key:\"handleEditPost\",value:function(e,t,n,r,o){var a=this;this._editPost(e,t,n,r,o).then(function(){console.log(\"Edition Complete!\"),a.listPosts(a.props.searchText)}).catch(function(e){console.error(\"Error creating posts\",e)})}},{key:\"_editPost\",value:function(e,t,n,r,o){var a=this;return new Promise(function(i,l){i(a.__editPost(e,t,n,r,o))})}},{key:\"handleEditIntro\",value:function(){var e=this;this._editIntro().then(function(){console.log(\"Edit-Intro complete!\"),e.listIntro(),e.toggleIntroEdit()}).catch(function(e){console.error(\"Error creating Intros\",e)})}},{key:\"_editIntro\",value:function(){var e=this;return new Promise(function(t,n){t(e.__editIntro())})}}]),t}();pe.propTypes={onPostChange:h.a.func,modal:h.a.bool,editMode:h.a.bool};var he=pe,me=n(344),ge=n.n(me),ve=(n(615),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var be=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={unit:\"metric\",navbarToggle:!1,searchText:\"\",showModal:!1,loading:!1,error:null,loggedIn:null,recoverPasswordSuccess:null,initialTab:null,showProfileImg:!1,modalPost:!1,editMode:!1},n.searchEl=null,n.handleUnitChange=n.handleUnitChange.bind(n),n.openModal=n.openModal.bind(n),n.closeModal=n.closeModal.bind(n),n.afterTabsChange=n.afterTabsChange.bind(n),n.startLoading=n.startLoading.bind(n),n.onLoginFail=n.onLoginFail.bind(n),n.onLoginSuccess=n.onLoginSuccess.bind(n),n.finishLoading=n.finishLoading.bind(n),n.onLogin=n.onLogin.bind(n),n.onRecoverPassword=n.onRecoverPassword.bind(n),n.onRegister=n.onRegister.bind(n),n.logOut=n.logOut.bind(n),n.postModalToggle=n.postModalToggle.bind(n),n.editModeToggle=n.editModeToggle.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),ve(t,[{key:\"componentWillMount\",value:function(){l.auth().onAuthStateChanged(function(e){e&&(console.log(\"Auto Login\"),console.log(e.uid),this.setState({showProfileImg:!0}))}.bind(this))}},{key:\"render\",value:function(){var e=this,t=o.a.createElement(\"div\",null),n=o.a.createElement(\"div\",null,o.a.createElement(u.a,{className:\"navbarBtn\",color:\"success\",onClick:function(){return e.openModal()}},\"Login\")),r=function(){return o.a.createElement(\"div\",null)};if(this.state.showProfileImg){console.log(\"showImg\");r=function(){return o.a.createElement(\"img\",{className:\"profileImg\",src:\"http://res.cloudinary.com/sagacity/image/upload/c_crop,h_800,w_616,x_0,y_0/c_scale,w_640/v1419879339/iVegJ35_xfjlfu.gif\"})},n=o.a.createElement(\"div\",null,o.a.createElement(u.a,{className:\"navbarBtn\",color:\"danger\",onClick:function(){return e.logOut()}},\"LogOut\")),t=this.state.editMode?o.a.createElement(\"div\",null,o.a.createElement(u.a,{className:\"navbarBtn\",onClick:function(){return e.editModeToggle()}},\"View\")):o.a.createElement(\"div\",null,o.a.createElement(u.a,{className:\"navbarBtn\",onClick:function(){return e.editModeToggle()}},\"Edit\"))}return o.a.createElement(s.a,null,o.a.createElement(\"div\",{className:\"main\"},o.a.createElement(\"div\",{className:\"bg-faded fixed-top\"},o.a.createElement(d.a,{color:\"white\",dark:!0,style:{padding:\"0rem 0rem\"}},o.a.createElement(\"div\",{className:\"container\"},o.a.createElement(f.a,{tag:s.b,to:\"/\"},\"WebSite\"),o.a.createElement(\"div\",{className:\"navbar\"},o.a.createElement(r,null),this.state.editMode&&o.a.createElement(u.a,{className:\"navbarBtn\",onClick:function(){return e.postModalToggle()}},\"New Post\"),t,n)))),o.a.createElement(ge.a,{visible:this.state.showModal,onCloseModal:this.closeModal,loading:this.state.loading,error:this.state.error,tabs:{afterChange:this.afterTabsChange},loginError:{label:\"Couldn't sign in, please try again.\"},registerError:{label:\"Couldn't sign up, please try again.\"},startLoading:this.startLoading,finishLoading:this.finishLoading,form:{onLogin:this.onLogin,onRegister:this.onRegister,onRecoverPassword:this.onRecoverPassword,recoverPasswordSuccessLabel:this.state.recoverPasswordSuccess?{label:\"New password has been sent to your mailbox!\"}:null,recoverPasswordAnchor:{label:\"Forgot your password?\"},loginBtn:{label:\"Sign in\"},registerBtn:{label:\"Sign up\"},recoverPasswordBtn:{label:\"Send new password\"},loginInputs:[{containerClass:\"RML-form-group\",label:\"Email\",type:\"email\",inputClass:\"RML-form-control\",id:\"email\",name:\"email\",placeholder:\"Email\"},{containerClass:\"RML-form-group\",label:\"Password\",type:\"password\",inputClass:\"RML-form-control\",id:\"password\",name:\"password\",placeholder:\"Password\"}],registerInputs:[{containerClass:\"RML-form-group\",label:\"Nickname\",type:\"text\",inputClass:\"RML-form-control\",id:\"login\",name:\"login\",placeholder:\"Nickname\"},{containerClass:\"RML-form-group\",label:\"Email\",type:\"email\",inputClass:\"RML-form-control\",id:\"email\",name:\"email\",placeholder:\"Email\"},{containerClass:\"RML-form-group\",label:\"Password\",type:\"password\",inputClass:\"RML-form-control\",id:\"password\",name:\"password\",placeholder:\"Password\"}],recoverPasswordInputs:[{containerClass:\"RML-form-group\",label:\"Email\",type:\"email\",inputClass:\"RML-form-control\",id:\"email\",name:\"email\",placeholder:\"Email\"}]}}),o.a.createElement(c.a,{exact:!0,path:\"/\",render:function(){return o.a.createElement(\"div\",null,o.a.createElement(he,{editMode:e.state.editMode,modal:e.state.modalPost,searchText:e.state.searchText,onPostChange:e.postModalToggle}))}}),o.a.createElement(\"div\",{className:\"footer\"},\"Doge\")))}},{key:\"editModeToggle\",value:function(){this.setState(function(e){return{editMode:!e.editMode}})}},{key:\"handleSearchKeyPress\",value:function(e){13===(e.keyCode||e.which)&&this.setState({searchText:e.target.value})}},{key:\"postModalToggle\",value:function(){console.log(\"toggle\"),this.setState(function(e){return{modalPost:!e.modalPost}})}},{key:\"openModal\",value:function(){this.setState({showModal:!0})}},{key:\"closeModal\",value:function(){this.setState({showModal:!1,error:null})}},{key:\"onLoginSuccess\",value:function(e,t){console.log(\"logged successfully with \"+e)}},{key:\"onLoginFail\",value:function(e,t){console.log(\"logging failed with \"+e),this.setState({error:t})}},{key:\"startLoading\",value:function(){this.setState({loading:!0})}},{key:\"finishLoading\",value:function(){this.setState({loading:!1})}},{key:\"afterTabsChange\",value:function(){this.setState({error:null})}},{key:\"onLogin\",value:function(){var e=this;console.log(\"__onLogin__\"),console.log(\"email: \"+document.querySelector(\"#email\").value),console.log(\"password: \"+document.querySelector(\"#password\").value);var t=document.querySelector(\"#email\").value,n=document.querySelector(\"#password\").value;l.auth().signInWithEmailAndPassword(t,n).then(function(e){console.log(e),window.location.reload()}).catch(function(t){console.log(t),e.setState({error:!0})})}},{key:\"onRegister\",value:function(){console.log(\"__onRegister__\"),console.log(\"login: \"+document.querySelector(\"#login\").value),console.log(\"email: \"+document.querySelector(\"#email\").value),console.log(\"password: \"+document.querySelector(\"#password\").value),alert(\"恭喜你, 這個功能並不會實裝!\");var e=document.querySelector(\"#login\").value,t=document.querySelector(\"#email\").value,n=document.querySelector(\"#password\").value;e&&t&&n?this.onLoginSuccess(\"form\"):this.setState({error:!0})}},{key:\"onRecoverPassword\",value:function(){console.log(\"__onFotgottenPassword__\"),console.log(\"email: \"+document.querySelector(\"#email\").value),document.querySelector(\"#email\").value?this.setState({error:null,recoverPasswordSuccess:!0}):this.setState({error:!0,recoverPasswordSuccess:!1})}},{key:\"handleUnitChange\",value:function(e){this.setState({unit:e})}},{key:\"logOut\",value:function(){try{l.auth().signOut().then(function(){console.log(\"Log out!\"),window.location.reload()})}catch(e){console.log(e.toString())}}}]),t}();n(618);n(364),n(566);l.initializeApp({apiKey:\"AIzaSyArpjCc1g2QPusAtClfimeay6tNtkumdVk\",authDomain:\"lab-website-746cb.firebaseapp.com\",databaseURL:\"https://lab-website-746cb.firebaseio.com\",projectId:\"lab-website-746cb\",storageBucket:\"gs://lab-website-746cb.appspot.com\",messagingSenderId:\"207260029948\",appId:\"1:207260029948:web:dbc6c7f6f3df074d\"}),window.onload=function(){i.a.render(o.a.createElement(be,null),document.getElementById(\"root\"))}}});"],"mappings":"AAAA","sourceRoot":""}