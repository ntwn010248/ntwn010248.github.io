{"version":3,"file":"index.bundle.js","sources":["webpack:///index.bundle.js"],"sourcesContent":["!function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],d=0,f=[];d<l.length;d++)i=l[d],o[i]&&f.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,l=1;l<n.length;l++){var s=n[l];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;a.push([625,1]),n()}({334:function(e,t,n){var r=n(580);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},339:function(e,t,n){var r=n(605);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},579:function(e,t,n){var r={\"./af\":207,\"./af.js\":207,\"./ar\":208,\"./ar-dz\":209,\"./ar-dz.js\":209,\"./ar-kw\":210,\"./ar-kw.js\":210,\"./ar-ly\":211,\"./ar-ly.js\":211,\"./ar-ma\":212,\"./ar-ma.js\":212,\"./ar-sa\":213,\"./ar-sa.js\":213,\"./ar-tn\":214,\"./ar-tn.js\":214,\"./ar.js\":208,\"./az\":215,\"./az.js\":215,\"./be\":216,\"./be.js\":216,\"./bg\":217,\"./bg.js\":217,\"./bm\":218,\"./bm.js\":218,\"./bn\":219,\"./bn.js\":219,\"./bo\":220,\"./bo.js\":220,\"./br\":221,\"./br.js\":221,\"./bs\":222,\"./bs.js\":222,\"./ca\":223,\"./ca.js\":223,\"./cs\":224,\"./cs.js\":224,\"./cv\":225,\"./cv.js\":225,\"./cy\":226,\"./cy.js\":226,\"./da\":227,\"./da.js\":227,\"./de\":228,\"./de-at\":229,\"./de-at.js\":229,\"./de-ch\":230,\"./de-ch.js\":230,\"./de.js\":228,\"./dv\":231,\"./dv.js\":231,\"./el\":232,\"./el.js\":232,\"./en-SG\":233,\"./en-SG.js\":233,\"./en-au\":234,\"./en-au.js\":234,\"./en-ca\":235,\"./en-ca.js\":235,\"./en-gb\":236,\"./en-gb.js\":236,\"./en-ie\":237,\"./en-ie.js\":237,\"./en-il\":238,\"./en-il.js\":238,\"./en-nz\":239,\"./en-nz.js\":239,\"./eo\":240,\"./eo.js\":240,\"./es\":241,\"./es-do\":242,\"./es-do.js\":242,\"./es-us\":243,\"./es-us.js\":243,\"./es.js\":241,\"./et\":244,\"./et.js\":244,\"./eu\":245,\"./eu.js\":245,\"./fa\":246,\"./fa.js\":246,\"./fi\":247,\"./fi.js\":247,\"./fo\":248,\"./fo.js\":248,\"./fr\":249,\"./fr-ca\":250,\"./fr-ca.js\":250,\"./fr-ch\":251,\"./fr-ch.js\":251,\"./fr.js\":249,\"./fy\":252,\"./fy.js\":252,\"./ga\":253,\"./ga.js\":253,\"./gd\":254,\"./gd.js\":254,\"./gl\":255,\"./gl.js\":255,\"./gom-latn\":256,\"./gom-latn.js\":256,\"./gu\":257,\"./gu.js\":257,\"./he\":258,\"./he.js\":258,\"./hi\":259,\"./hi.js\":259,\"./hr\":260,\"./hr.js\":260,\"./hu\":261,\"./hu.js\":261,\"./hy-am\":262,\"./hy-am.js\":262,\"./id\":263,\"./id.js\":263,\"./is\":264,\"./is.js\":264,\"./it\":265,\"./it-ch\":266,\"./it-ch.js\":266,\"./it.js\":265,\"./ja\":267,\"./ja.js\":267,\"./jv\":268,\"./jv.js\":268,\"./ka\":269,\"./ka.js\":269,\"./kk\":270,\"./kk.js\":270,\"./km\":271,\"./km.js\":271,\"./kn\":272,\"./kn.js\":272,\"./ko\":273,\"./ko.js\":273,\"./ku\":274,\"./ku.js\":274,\"./ky\":275,\"./ky.js\":275,\"./lb\":276,\"./lb.js\":276,\"./lo\":277,\"./lo.js\":277,\"./lt\":278,\"./lt.js\":278,\"./lv\":279,\"./lv.js\":279,\"./me\":280,\"./me.js\":280,\"./mi\":281,\"./mi.js\":281,\"./mk\":282,\"./mk.js\":282,\"./ml\":283,\"./ml.js\":283,\"./mn\":284,\"./mn.js\":284,\"./mr\":285,\"./mr.js\":285,\"./ms\":286,\"./ms-my\":287,\"./ms-my.js\":287,\"./ms.js\":286,\"./mt\":288,\"./mt.js\":288,\"./my\":289,\"./my.js\":289,\"./nb\":290,\"./nb.js\":290,\"./ne\":291,\"./ne.js\":291,\"./nl\":292,\"./nl-be\":293,\"./nl-be.js\":293,\"./nl.js\":292,\"./nn\":294,\"./nn.js\":294,\"./pa-in\":295,\"./pa-in.js\":295,\"./pl\":296,\"./pl.js\":296,\"./pt\":297,\"./pt-br\":298,\"./pt-br.js\":298,\"./pt.js\":297,\"./ro\":299,\"./ro.js\":299,\"./ru\":300,\"./ru.js\":300,\"./sd\":301,\"./sd.js\":301,\"./se\":302,\"./se.js\":302,\"./si\":303,\"./si.js\":303,\"./sk\":304,\"./sk.js\":304,\"./sl\":305,\"./sl.js\":305,\"./sq\":306,\"./sq.js\":306,\"./sr\":307,\"./sr-cyrl\":308,\"./sr-cyrl.js\":308,\"./sr.js\":307,\"./ss\":309,\"./ss.js\":309,\"./sv\":310,\"./sv.js\":310,\"./sw\":311,\"./sw.js\":311,\"./ta\":312,\"./ta.js\":312,\"./te\":313,\"./te.js\":313,\"./tet\":314,\"./tet.js\":314,\"./tg\":315,\"./tg.js\":315,\"./th\":316,\"./th.js\":316,\"./tl-ph\":317,\"./tl-ph.js\":317,\"./tlh\":318,\"./tlh.js\":318,\"./tr\":319,\"./tr.js\":319,\"./tzl\":320,\"./tzl.js\":320,\"./tzm\":321,\"./tzm-latn\":322,\"./tzm-latn.js\":322,\"./tzm.js\":321,\"./ug-cn\":323,\"./ug-cn.js\":323,\"./uk\":324,\"./uk.js\":324,\"./ur\":325,\"./ur.js\":325,\"./uz\":326,\"./uz-latn\":327,\"./uz-latn.js\":327,\"./uz.js\":326,\"./vi\":328,\"./vi.js\":328,\"./x-pseudo\":329,\"./x-pseudo.js\":329,\"./yo\":330,\"./yo.js\":330,\"./zh-cn\":331,\"./zh-cn.js\":331,\"./zh-hk\":332,\"./zh-hk.js\":332,\"./zh-tw\":333,\"./zh-tw.js\":333};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error(\"Cannot find module '\"+e+\"'\");throw t.code=\"MODULE_NOT_FOUND\",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=579},580:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".post-form {\\r\\n}\\r\\n\\r\\n.post-form .alert {\\r\\n    padding: 1rem;\\r\\n}\\r\\n\\r\\n.post-form .mood {\\r\\n    margin: 0 0 0.5rem 0;\\r\\n}\\r\\n\\r\\n.post-form .mood-toggle {\\r\\n    min-width: 8.5rem;\\r\\n}\\r\\n\\r\\n.post-form .mood i {\\r\\n    text-align: center;\\r\\n    width: 1rem;\\r\\n}\\r\\n\\r\\n\\r\\n.post-form .input {\\r\\n    width: 100%;\\r\\n    margin: 0 0 0.5rem 0;\\r\\n}\\r\\n.post-form .uploadFile {\\r\\n    width: 10;\\r\\n    height:10;\\r\\n}\\r\\n@media (min-width: 576px) {\\r\\n    .post-form .mood {\\r\\n        margin: 0 0.5rem 0 0;\\r\\n    }\\r\\n\\r\\n    .post-form .input {\\r\\n        margin: 0 0.5rem 0 0;\\r\\n    }\\r\\n}\\r\\n\",\"\"])},588:function(e,t,n){var r=n(589);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},589:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".post-item {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.post-item .post {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.post-item .mood {\\r\\n    text-align: center;\\r\\n    font-size: 2rem;\\r\\n    width: 3rem;\\r\\n}\\r\\n\\r\\n.post-item .wrap {\\r\\n    width: 100%;\\r\\n    padding-left: 0.75rem;\\r\\n}\\r\\n\\r\\n.post-item .ts {\\r\\n    color: #bcbcbc;\\r\\n    font-size: 0.875rem;\\r\\n    margin-bottom: 0.25rem;\\r\\n}\\r\\n\\r\\n.post-item .text {\\r\\n    padding-left: inherit;\\r\\n    border-left: inset;\\r\\n}\\r\\n\\r\\n.post-item .vote {\\r\\n    color: #bcbcbc;\\r\\n    padding-top: 0.5rem;\\r\\n}\\r\\n\\r\\n.post-item .vote .vote-plus i {\\r\\n    color: #bcdff1;\\r\\n    padding-left: 0.5rem;\\r\\n}\\r\\n.post-item .fileBtn {\\r\\n    float: right;\\r\\n}\\r\\n.tooltip-inner {\\r\\n    max-width: none !important;\\r\\n}\\r\\n\\r\\n.tooltip-inner i.vote-tooltip {\\r\\n    font-size: 1.5rem;\\r\\n    width: 2.25rem;\\r\\n    line-height: 1.75;\\r\\n}\\r\\n\\r\\n.tooltip-inner i.vote-tooltip:hover {\\r\\n    color: #31b0d5\\r\\n}\\r\\n\",\"\"])},603:function(e,t,n){var r=n(604);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},604:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".post-list {\\r\\n}\\r\\n\\r\\n.post-list .empty {\\r\\n    height: 8rem;\\r\\n    border-color: rgba(255, 255, 255, 0);\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.post-list .empty-text {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n}\\r\\n.list-group-item {\\r\\n    background-color: #f5f5f5;\\r\\n}\",\"\"])},605:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\"\",\"\"])},615:function(e,t,n){var r=n(616);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},616:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".today {\\r\\n    padding: 5rem 1rem 1rem 1rem;\\r\\n}\\r\\n\\r\\n.today .weather {\\r\\n    width: 100%;\\r\\n    max-width: 24rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.today .posts {\\r\\n    width: 100%;\\r\\n    max-width: 50rem;\\r\\n    margin: 0 auto;\\r\\n}\\r\\n\\r\\n.today .posts .loading {\\r\\n    position: fixed;\\r\\n    bottom: 1rem;\\r\\n    left: 50%;\\r\\n    transform: translateX(-50%);\\r\\n    margin: 0 auto;\\r\\n    text-align: center;\\r\\n    z-index: 999;\\r\\n}\\r\\n\",\"\"])},617:function(e,t,n){var r=n(618);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},618:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".card-container{\\r\\n    display: inline-flex;\\r\\n}\\r\\n.card {\\r\\n    width: 193px;\\r\\n};\\r\\n\\r\\n.centerImg {\\r\\n    height: 160;\\r\\n    padding-top: '56.25%'; \\r\\n    margin-left: auto;\\r\\n    margin-right:auto;\\r\\n};\\r\\n\\r\\n.expandOpen {\\r\\n    transform: 'rotate(180deg)';\\r\\n  };\\r\\n\\r\\n.avatar {\\r\\n    background-color: red;\\r\\n  };\\r\\n\\r\\n.icon{\\r\\n    float:right;\\r\\n}\\r\\n.p_wrap{\\r\\n    white-space: pre-line\\r\\n}\\r\\nimg {\\r\\n    width:150px;\\r\\n}\",\"\"])},619:function(e,t,n){var r=n(620);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},620:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".profile-list {\\r\\n    display:inline-flex;\\r\\n}\\r\\n\\r\\n.profile-list .empty {\\r\\n    height: 8rem;\\r\\n    border-color: rgba(255, 255, 255, 0);\\r\\n    background-color: transparent;\\r\\n}\\r\\n\\r\\n.profile-list .empty-text {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n}\\r\\n.list-group-item {\\r\\n    background-color: #f5f5f5;\\r\\n}\\r\\n.addBtn {\\r\\n\\r\\n    display: grid;\\r\\n}\",\"\"])},621:function(e,t,n){var r=n(622);\"string\"==typeof r&&(r=[[e.i,r,\"\"]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(60)(r,o);r.locals&&(e.exports=r.locals)},622:function(e,t,n){(e.exports=n(59)(!1)).push([e.i,\".main {\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.main .footer {\\r\\n    text-align: center;\\r\\n    color: rgba(255, 255, 255, 0.7);\\r\\n    padding: 6rem 2rem 2rem 2rem;\\r\\n}\\r\\n\\r\\n.main .search {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    \\r\\n}\\r\\n.main .navbarBtn{\\r\\n    margin: 0px 10px 0px 10px;\\r\\n}\\r\\n.main .search input {\\r\\n    padding-right: 1.5rem;\\r\\n}\\r\\n\\r\\n.main .search i {\\r\\n    position: absolute;\\r\\n    top: 0.25rem;\\r\\n    right: 0.5rem;\\r\\n}\\r\\n\\r\\n.main .search i:hover {\\r\\n    color: #5bc0de;\\r\\n}\\r\\n.main .profileImg {\\r\\n    height: 3rem;\\r\\n    width: 3rem;\\r\\n    border-radius: 40;\\r\\n}\\r\\n.main .bg-faded{}\\r\\n@media (min-width: 576px) {\\r\\n    .main .search {\\r\\n        width: 10rem;\\r\\n    }\\r\\n}\\r\\n\",\"\"])},625:function(e,t,n){\"use strict\";n.r(t);var r=n(0),o=n.n(r),a=n(19),i=n.n(a),l=n(40),s=n(163),c=n(70),u=n(126),d=n(667),f=n(682),p=n(1),h=n.n(p),m=n(675),g=n(686),v=n(665),b=n(127),y=n.n(b),E=n(4),P=n.n(E),w=n(666);n(334);var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var C=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r,o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.handlePost=(r=regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.storage().ref(),r=o.state,a=r.inputValue,i=r.titleValue,s=r.filename,c=r.file,a&&i&&s&&c){e.next=5;break}return o.setState({inputDanger:!0}),e.abrupt(\"return\");case 5:return e.prev=5,e.next=8,t.child(\"pdfs/\"+s).put(c);case 8:if(!e.sent){e.next=13;break}console.log(\"Upload Success\"),e.next=14;break;case 13:throw\"Upload Failed\";case 14:return e.next=16,t.child(\"pdfs/\"+s).getDownloadURL();case 16:if(!(u=e.sent)){e.next=21;break}console.log(\"File available at\",u),e.next=22;break;case 21:throw\"Cannot get Url\";case 22:o.props.onPost(i,a,s,u),o.setState({inputValue:\"\",titleValue:\"\",inputDanger:!1,filename:\"\",file:null}),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(5),alert(e.t0);case 29:case\"end\":return e.stop()}},e,n,[[5,26]])}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});t(l)}(\"next\")})}),o.state={inputValue:\"\",inputDanger:!1,titleValue:\"\",filename:\"\",file:null},o.inputEl=null,o.handleInputChange=o.handleInputChange.bind(o),o.handleDropdownSelect=o.handleDropdownSelect.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.handlePost=o.handlePost.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),k(t,[{key:\"render\",value:function(){var e=this,t=this.state.inputDanger?\"danger\":\"info\";return o.a.createElement(\"div\",{className:\"post-form\"},o.a.createElement(v.a,{color:t,className:\"d-flex flex-column flex-sm-row justify-content-center \",style:{marginBottom:\"0rem\"}},o.a.createElement(\"div\",{className:\"mood align-self-start\"},this.state.inputDanger&&!this.state.titleValue?\"Title(請填寫)\":\"Title\",o.a.createElement(w.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.titleValue,onChange:this.handleTitleChange,placeholder:\"title\"}),this.state.inputDanger&&!this.state.inputValue?\"Description(請填寫)\":\"Description\",o.a.createElement(w.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:\"Brief Description\"}),this.state.inputDanger&&!this.state.filename?\"Choose your file(請選擇檔案)\":\"Choose your file\",o.a.createElement(w.a,{className:\"input\",type:\"file\",name:\"file\",onChange:function(t){return e.onChange(t)}})),o.a.createElement(d.a,{className:\"btn-post align-self-end\",color:\"info\",onClick:this.handlePost},\"Post\")))}},{key:\"onChange\",value:function(e){this.setState({filename:e.target.files[0].name,file:e.target.files[0],inputDanger:!1})}},{key:\"handleDropdownSelect\",value:function(e){this.setState({mood:e})}},{key:\"handleInputChange\",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:\"handleTitleChange\",value:function(e){var t=e.target.value;this.setState({titleValue:t}),t&&this.setState({inputDanger:!1})}}]),t}();C.propTypes={onPost:h.a.func};var x=C,j=n(673),_=n(674),S=n(670),D=n(671),T=n(672),O=n(41),I=(n(588),n(668)),M=n(54),G=n.n(M),R=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var N=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r,o=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.editPost=(r=regeneratorRuntime.mark(function e(){var t,r,a,i,s,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.state,r=t.inputValue,a=t.titleValue,i=t.filename,s=t.file,console.log(\"postItem/filename: \",i),i!==o.props.filename){e.next=6;break}o.props.onEdit(o.props.docId,a,r,i,\"\"),e.next=30;break;case 6:return c=l.storage().ref(),e.prev=7,e.next=10,c.child(\"pdfs/\"+i).put(s);case 10:if(!e.sent){e.next=15;break}console.log(\"Upload Success\"),e.next=16;break;case 15:throw\"Upload Failed\";case 16:return e.next=18,c.child(\"pdfs/\"+i).getDownloadURL();case 18:if(!(u=e.sent)){e.next=23;break}console.log(\"File available at\",u),e.next=24;break;case 23:throw\"Cannot get Url\";case 24:o.props.onEdit(o.props.docId,a,r,i,u),e.next=30;break;case 27:e.prev=27,e.t0=e.catch(7),alert(e.t0);case 30:o.handleEditToggle();case 31:case\"end\":return e.stop()}},e,n,[[7,27]])}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});t(l)}(\"next\")})}),o.state={modalDelete:!1,modalEdit:!1,inputValue:o.props.text,inputDanger:!1,titleValue:o.props.title,filename:o.props.filename,file:null},o.handleDeleteToggle=o.handleDeleteToggle.bind(o),o.deletePost=o.deletePost.bind(o),o.editPost=o.editPost.bind(o),o.handleEditToggle=o.handleEditToggle.bind(o),o.inputEl=null,o.handleInputChange=o.handleInputChange.bind(o),o.handleDropdownSelect=o.handleDropdownSelect.bind(o),o.handleTitleChange=o.handleTitleChange.bind(o),o.onChange=o.onChange.bind(o),o}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),R(t,[{key:\"render\",value:function(){var e=this,t=this.props,n=(t.docId,t.text),r=t.title,a=t.ts,i=t.downloadurl,l=(t.filename,this.state.inputDanger?\"has-danger\":\"\");return o.a.createElement(\"div\",{className:\"post-item d-flex flex-column\"},o.a.createElement(\"div\",{className:\"post d-flex\"},o.a.createElement(\"div\",{className:\"wrap\"},this.props.editMode&&o.a.createElement(\"div\",null,o.a.createElement(d.a,{close:!0,onClick:this.handleDeleteToggle},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.a,null))),o.a.createElement(d.a,{close:!0,onClick:this.handleEditToggle},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.b,null)))),o.a.createElement(G.a,null,o.a.createElement(\"div\",{className:\"title\"},o.a.createElement(I.a,{style:{textAlign:\"left\",fontWeight:\"bold\"},variant:\"h5\",gutterBottom:!0},r,\":\")),o.a.createElement(\"div\",{className:\"text\",style:{whiteSpace:\"pre-line\",borderColor:\"#dee2e6\"}},o.a.createElement(I.a,{variant:\"body1\"},n)),o.a.createElement(\"div\",{className:\"ts\"},P()(1e3*a).calendar(),o.a.createElement(d.a,{className:\"fileBtn\",onClick:function(){return console.log(i)},href:i,target:\"_blank\"},\"Paper\"))))),o.a.createElement(g.a,{isOpen:this.state.modalDelete,toggle:this.handleDeleteToggle},o.a.createElement(S.a,{toggle:this.handleDeleteToggle},\"Delete\"),o.a.createElement(D.a,null,\"Do you really want to delete this post?\"),o.a.createElement(T.a,null,o.a.createElement(d.a,{color:\"danger\",onClick:this.deletePost},\"Yes\"),\" \",o.a.createElement(d.a,{color:\"primary\",onClick:this.handleDeleteToggle},\"No\"))),o.a.createElement(g.a,{isOpen:this.state.modalEdit,toggle:this.handleEditToggle},o.a.createElement(S.a,{toggle:this.handleEditToggle},\"Edit\"),o.a.createElement(D.a,null,o.a.createElement(\"div\",{className:\"post-form\"},o.a.createElement(v.a,{color:\"info\",className:\"d-flex flex-column flex-sm-row justify-content-center \"+l},o.a.createElement(\"div\",{className:\"mood align-self-start\"},\"Title:\",o.a.createElement(w.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.titleValue,onChange:this.handleTitleChange,placeholder:\"title\"}),\"Brief description:\",o.a.createElement(w.a,{className:\"input\",type:\"textarea\",innerRef:function(t){e.inputEl=t},value:this.state.inputValue,onChange:this.handleInputChange,placeholder:\"Brief Description\"}),\"Choose your file:\",o.a.createElement(w.a,{className:\"input\",type:\"file\",name:\"file\",onChange:function(t){return e.onChange(t)}}))))),o.a.createElement(T.a,null,o.a.createElement(d.a,{color:\"danger\",onClick:this.editPost},\"Yes\"),\" \",o.a.createElement(d.a,{color:\"primary\",onClick:this.handleEditToggle},\"No\"))))}},{key:\"handleDeleteToggle\",value:function(){this.setState(function(e){return{modalDelete:!e.modalDelete}})}},{key:\"handleEditToggle\",value:function(){var e=this;this.setState(function(t){return{modalEdit:!t.modalEdit,inputValue:e.props.text,titleValue:e.props.title}})}},{key:\"deletePost\",value:function(){console.log(\"docId in PostItem: \",this.props.docId),this.props.onDeletePost(this.props.docId),this.handleDeleteToggle}},{key:\"onChange\",value:function(e){this.setState({filename:e.target.files[0].name,file:e.target.files[0]})}},{key:\"handleDropdownSelect\",value:function(e){this.setState({mood:e})}},{key:\"handleInputChange\",value:function(e){var t=e.target.value;this.setState({inputValue:t}),t&&this.setState({inputDanger:!1})}},{key:\"handleTitleChange\",value:function(e){var t=e.target.value;this.setState({titleValue:t}),t&&this.setState({inputDanger:!1})}}]),t}();N.propTypes={docId:h.a.string,text:h.a.string,title:h.a.string,ts:h.a.number,filename:h.a.string,downloadurl:h.a.string,onDeletePost:h.a.func,onEdit:h.a.func,editMode:h.a.bool};var L=N,z=(n(603),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),V=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var B=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleDeletePost=n.handleDeletePost.bind(n),n.handleEditPost=n.handleEditPost.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),V(t,[{key:\"render\",value:function(){var e=this,t=this.props.posts,n=o.a.createElement(j.a,{className:\"empty d-flex justify-content-center align-items-center\"},o.a.createElement(\"div\",{className:\"empty-text\"},\"No post here.\",o.a.createElement(\"br\",null),\"Go add some posts.\"));return t.length&&(n=t.map(function(t){return o.a.createElement(j.a,{key:t.id,action:!0},o.a.createElement(L,z({},t,{onDeletePost:e.handleDeletePost,onEdit:e.handleEditPost,editMode:e.props.editMode})))})),o.a.createElement(\"div\",{className:\"post-list\"},o.a.createElement(_.a,null,n))}},{key:\"handleDeletePost\",value:function(e){this.props.onDeletePost(e)}},{key:\"handleEditPost\",value:function(e,t,n,r,o){console.log(\"postList/filename: \",r),this.props.onEditPost(e,t,n,r,o)}}]),t}();B.propTypes={posts:h.a.array,filter:h.a.string,onDeletePost:h.a.func,onEditPost:h.a.func,editMode:h.a.bool};var U=B,A=n(676),F=n(685),q=(n(339),n(684)),W=n(68),H=n.n(W),J=n(69),Y=n.n(J),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var K=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={professorEdit:!1,name:n.props.name,content:n.props.content},n.toggleProfessorEdit=n.toggleProfessorEdit.bind(n),n.handleEditProfessor=n.handleEditProfessor.bind(n),n.handleContentChange=n.handleContentChange.bind(n),n.handleNameChange=n.handleNameChange.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),X(t,[{key:\"render\",value:function(){var e=this.state,t=e.name,n=e.content,r=e.professorEdit,a=o.a.createElement(\"div\",null,o.a.createElement(G.a,null,o.a.createElement(m.a,{style:{padding:\"0rem 0rem\",whiteSpace:\"pre-line\",marginBottom:0,height:\"150px\"}},o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h6\",gutterBottom:!0},this.props.name),o.a.createElement(\"hr\",{className:\"my-2\"}),o.a.createElement(\"p\",null,this.props.content,this.props.editMode&&o.a.createElement(d.a,{onClick:this.toggleProfessorEdit,style:{float:\"right\"},color:\"primary\",close:!0},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.b,null)))))));return r&&(a=o.a.createElement(\"div\",null,o.a.createElement(m.a,{style:{padding:\"0rem 0rem\"}},o.a.createElement(\"div\",null,o.a.createElement(F.a,{style:{fontSize:\"1.5em\"},onChange:this.handleNameChange,defaultValue:t,fullWidth:!0,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(\"hr\",{className:\"my-2\"}),o.a.createElement(F.a,{style:{fontSize:\"1em\"},className:\"lead\",multiline:!0,fullWidth:!0,defaultValue:n,onChange:this.handleContentChange,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(q.a,{style:{float:\"right\"},onClick:this.handleEditProfessor},o.a.createElement(H.a,null)),o.a.createElement(q.a,{style:{float:\"right\"},onClick:this.toggleProfessorEdit},o.a.createElement(Y.a,null)))))),o.a.createElement(\"div\",null,o.a.createElement(A.a,null,o.a.createElement(A.a,{left:!0,href:\"#\"},o.a.createElement(A.a,{style:{height:\"150px\"},object:!0,src:\"https://t2.rbxcdn.com/59d67dac3898cd7256c7670cf69d18ab\",alt:\"Generic placeholder image\"})),o.a.createElement(A.a,{body:!0},a)))}},{key:\"toggleProfessorEdit\",value:function(){var e=this;this.setState(function(t){return{professorEdit:!t.professorEdit,name:e.props.name,content:e.props.content}})}},{key:\"handleEditProfessor\",value:function(){var e=this.props,t=e.name,n=e.content;this.state.name!==t||this.state.content!==n?(this.props.onEdit(this.props.docId,this.state.name,this.state.content),this.toggleProfessorEdit()):this.toggleProfessorEdit()}},{key:\"handleContentChange\",value:function(e){this.setState({content:e.target.value})}},{key:\"handleNameChange\",value:function(e){this.setState({name:e.target.value})}}]),t}();K.propTypes={name:h.a.string,content:h.a.string,docId:h.a.string,onEdit:h.a.func,editMode:h.a.bool};var Q=K,Z=n(348),$=(n(614),n(615),n(617),n(8),n(677)),ee=n(680),te=n(678),ne=n(679),re=n(349),oe=n.n(re),ae=n(683),ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function le(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(l)}(\"next\")})}}var se=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleNameChange=function(e){return function(e){r.setState({name:e.target.value})}},r.handleContentChange=function(e){return function(e){r.setState({content:e.target.value})}},r.handleEdit=le(regeneratorRuntime.mark(function e(){var t,o,a,i,s,c,u,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=l.storage().ref(),o=r.state,a=o.name,i=o.content,s=o.filename,c=o.file,u=r.props.docId,e.prev=3,d=\"\",!s){e.next=22;break}return e.next=8,t.child(\"pdfs/\"+s).put(c);case 8:if(!e.sent){e.next=13;break}console.log(\"Upload Success\"),e.next=14;break;case 13:throw\"Upload Failed\";case 14:return e.next=16,t.child(\"pdfs/\"+s).getDownloadURL();case 16:if(!(d=e.sent)){e.next=21;break}console.log(\"File available at\",d),e.next=22;break;case 21:throw\"Cannot get Url\";case 22:if(a!==r.props.name||i!==r.props.content||d!==r.props.src){e.next=27;break}return e.next=25,r.editMode(\"normal\");case 25:return console.log(\"nothing to change in this profile\"),e.abrupt(\"return\");case 27:r.props.onEdit(u,a,i,d),r.editMode(\"normal\"),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(3),alert(e.t0);case 34:case\"end\":return e.stop()}},e,n,[[3,31]])})),r.handleDelete=le(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=r.props.docId,r.props.onDelete(t);case 2:case\"end\":return e.stop()}},e,n)})),r.state={expanded:!1,mode:\"normal\",name:r.props.name,content:r.props.content,file:null,imagePreviewUrl:\"\"},r.handleExpandClick=r.handleExpandClick.bind(r),r.editMode=r.editMode.bind(r),r.handleNameChange=r.handleNameChange.bind(r),r.handleContentChange=r.handleContentChange.bind(r),r.handleEdit=r.handleEdit.bind(r),r.onImageChange=r.onImageChange.bind(r),r.handleDelete=r.handleDelete.bind(r),r}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),ie(t,[{key:\"handleExpandClick\",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.src,r=t.name,a=t.content,i=this.state.mode;if(\"normal\"===i)return o.a.createElement($.a,{className:\"card\"},this.props.editMode&&o.a.createElement(d.a,{close:!0,onClick:this.handleDelete}),o.a.createElement(\"div\",{style:{marginLeft:\"auto\",marginRight:\"auto\"}},o.a.createElement(\"img\",{height:\"180\",src:n})),o.a.createElement(te.a,{disableSpacing:!0},r,o.a.createElement(q.a,{className:\"icon\",onClick:this.handleExpandClick,\"aria-expanded\":this.state.expanded,\"aria-label\":\"Show more\"},o.a.createElement(oe.a,null)),this.props.editMode&&o.a.createElement(d.a,{close:!0,onClick:function(){return e.editMode(\"edit\")}},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.b,null)))),o.a.createElement(ne.a,{in:this.state.expanded,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(ee.a,null,o.a.createElement(G.a,null,o.a.createElement(\"div\",{className:\"p_wrap\"},a)))));if(\"edit\"===i){var l=this.state.imagePreviewUrl,s=o.a.createElement(\"div\",{style:{marginLeft:\"auto\",marginRight:\"auto\"}},o.a.createElement(\"img\",{height:\"180\",src:n}));return l&&(s=o.a.createElement(\"div\",{style:{marginLeft:\"auto\",marginRight:\"auto\"}},o.a.createElement(\"img\",{height:\"180\",src:l}))),o.a.createElement($.a,{className:\"card\"},o.a.createElement(d.a,{close:!0,onClick:this.handleDelete}),s,o.a.createElement(w.a,{className:\"input\",type:\"file\",name:\"file\",onChange:function(t){return e.onImageChange(t)}}),o.a.createElement(te.a,{disableSpacing:!0},o.a.createElement(ae.a,{id:\"filled-name\",label:\"Name\",value:this.state.name,onChange:this.handleNameChange(\"name\"),margin:\"normal\",variant:\"filled\"})),o.a.createElement(ne.a,{in:this.state.expanded,timeout:\"auto\",unmountOnExit:!0},o.a.createElement(ee.a,null,o.a.createElement(ae.a,{id:\"filled-multiline-flexible\",multiline:!0,label:\"Introduction\",value:this.state.content,onChange:this.handleContentChange(\"name\"),margin:\"normal\",variant:\"filled\"}),o.a.createElement(\"div\",{style:{float:\"right\"}},o.a.createElement(q.a,{className:\"icon\",onClick:function(){return e.editMode(\"normal\")}},o.a.createElement(Y.a,null)),o.a.createElement(q.a,{className:\"icon\",onClick:this.handleEdit},o.a.createElement(H.a,null))))))}}},{key:\"onImageChange\",value:function(e){var t=this;e.preventDefault();var n=e.target.files[0];if(n){var r=new FileReader;r.onloadend=function(){t.setState({file:n,imagePreviewUrl:r.result,filename:n.name})},r.readAsDataURL(n)}}},{key:\"editMode\",value:function(e){this.setState(function(t){return{expanded:!t.expanded,mode:e}})}}]),t}();se.propTypes={src:h.a.string,name:h.a.string,content:h.a.string,onEdit:h.a.func,docId:h.a.string,onDelete:h.a.func,editMode:h.a.bool};var ce=se,ue=(n(619),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),de=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleDeleteProfile=n.handleDeleteProfile.bind(n),n.handleEditProfile=n.handleEditProfile.bind(n),n.createProfile=n.createProfile.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),de(t,[{key:\"render\",value:function(){var e=this,t=this.props.profiles,n=o.a.createElement(\"div\",{className:\"empty-text\"},\"No profile here.\",o.a.createElement(\"br\",null),\"Go add some profiles.\");return t.length&&(n=t.map(function(t){return o.a.createElement(\"div\",{className:\"profile-list\",key:t.id},o.a.createElement(ce,ue({},t,{key:t.id,onEdit:e.handleEditProfile,onDelete:e.handleDeleteProfile,editMode:e.props.editMode})))})),o.a.createElement(\"div\",{style:{marginBottom:\"5%\"}},o.a.createElement(\"div\",null,n,this.props.editMode&&o.a.createElement(\"div\",{className:\"addBtn\"},o.a.createElement(d.a,{onClick:this.createProfile},\"New Profile\"))))}},{key:\"createProfile\",value:function(){console.log(\"profile-list: onCreate\"),this.props.onCreateProfile()}},{key:\"handleDeleteProfile\",value:function(e){this.props.onDeleteProfile(e)}},{key:\"handleEditProfile\",value:function(e,t,n,r){this.props.onEditProfile(e,t,n,r)}}]),t}();fe.propTypes={onEditProfile:h.a.func,profiles:h.a.array,onDeleteProfile:h.a.func,onCreateProfile:h.a.func,editMode:h.a.bool};var pe=fe,he=n(629),me=n(681),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var ve=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gridContent:n.props.gridContent,gridTitle:n.props.gridTitle,gridEdit:!1},n.handleGridContentChange=n.handleGridContentChange.bind(n),n.handleGridTitleChange=n.handleGridTitleChange.bind(n),n.toggleGridEdit=n.toggleGridEdit.bind(n),n.handleEditGrid=n.handleEditGrid.bind(n),n.handleDeleteGrid=n.handleDeleteGrid.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),ge(t,[{key:\"render\",value:function(){var e,t,n,r=this.state,a=r.gridTitle,i=r.gridEdit,l=r.gridContent;return i?o.a.createElement(\"div\",{style:{flexGrow:1,display:\"flex\"}},o.a.createElement(me.a,{container:!0},o.a.createElement(me.a,{item:!0,xs:3},o.a.createElement(he.a,{style:{height:\"100%\"}},o.a.createElement(F.a,{style:{fontSize:\"1em\",textAlign:\"center\"},onChange:this.handleGridTitleChange,defaultValue:a,fullWidth:!0,inputProps:{\"aria-label\":\"naked\"}}))),o.a.createElement(me.a,{item:!0,xs:9},o.a.createElement(he.a,{style:{textAlign:\"left\",height:\"100%\"}},o.a.createElement(F.a,{style:{fontSize:\"1em\"},className:\"lead\",multiline:!0,fullWidth:!0,defaultValue:l,onChange:this.handleGridContentChange,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(q.a,{style:{float:\"right\"},onClick:this.handleEditGrid},o.a.createElement(H.a,null)),o.a.createElement(q.a,{style:{float:\"right\"},onClick:this.toggleGridEdit},o.a.createElement(Y.a,null)))))):o.a.createElement(\"div\",{style:{flexGrow:1,display:\"flex\"}},o.a.createElement(G.a,null,o.a.createElement(me.a,{container:!0},o.a.createElement(o.a.Fragment,null,o.a.createElement(me.a,{item:!0,xs:3},o.a.createElement(he.a,{style:{textAlign:\"center\",height:\"100%\"}},a)),o.a.createElement(me.a,{item:!0,xs:9},o.a.createElement(he.a,{style:{textAlign:\"left\",height:\"100%\"}},this.props.gridContent,this.props.editMode&&o.a.createElement(d.a,(e={close:!0,onClick:this.handleDeleteGrid,style:{float:\"right\"}},n=!0,(t=\"close\")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.a,null))),this.props.editMode&&o.a.createElement(d.a,{onClick:this.toggleGridEdit,style:{float:\"right\"},close:!0},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.b,null)))))))))}},{key:\"handleGridContentChange\",value:function(e){this.setState({gridContent:e.target.value})}},{key:\"handleGridTitleChange\",value:function(e){this.setState({gridTitle:e.target.value})}},{key:\"toggleGridEdit\",value:function(){this.setState(function(e){return{gridEdit:!e.gridEdit}})}},{key:\"handleEditGrid\",value:function(){var e=this.props,t=e.gridTitle,n=e.gridContent;this.state.gridTitle!==t||this.state.gridContent!==n?(this.props.onEdit(this.props.docId,this.state.gridTitle,this.state.gridContent),this.toggleGridEdit()):this.toggleGridEdit()}},{key:\"handleDeleteGrid\",value:function(){this.props.onDelete(this.props.docId)}}]),t}();ve.propTypes={gridTitle:h.a.string,gridContent:h.a.string,docId:h.a.string,onEditProfessorGrid:h.a.func,onCreateProfessorGrid:h.a.func,editMode:h.a.bool,onDelete:h.a.func};var be=ve,ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Pe(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(l)}(\"next\")})}}var we=function(e){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var r,o,a,i,l,s,c,u,d=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return d.handleintroTitleChange=function(e){d.setState({introTitle:e.target.value})},d.handleintroDescriptionChange=function(e){d.setState({introDescription:e.target.value})},d.handleintroDescription2Change=function(e){d.setState({introDescription2:e.target.value})},d.__listProfessorGrid=Pe(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.state.db,e.next=3,t.collection(\"professorGrid\").get();case 3:return r=e.sent,o=[],r.forEach(function(e){var t=ye({docId:e.id},e.data());o.push(t)}),e.abrupt(\"return\",o);case 7:case\"end\":return e.stop()}},e,n)})),d.__listProfessor=Pe(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.state.db,e.next=3,t.collection(\"professor\").get();case 3:return r=e.sent,o=[],r.forEach(function(e){var t=ye({docId:e.id},e.data());o.push(t)}),e.abrupt(\"return\",o);case 7:case\"end\":return e.stop()}},e,n)})),d.__listIntro=Pe(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.state.db,e.next=3,t.collection(\"intros\").get();case 3:return r=e.sent,o=[],r.forEach(function(e){o.push(e.data())}),e.abrupt(\"return\",o);case 7:case\"end\":return e.stop()}},e,n)})),d.__listProfiles=Pe(regeneratorRuntime.mark(function e(){var t,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.state.db,e.next=3,t.collection(\"profiles\").get();case 3:return r=e.sent,o=[],r.forEach(function(e){if(e.exists){var t=ye({docId:e.id},e.data());o.push(t)}}),e.abrupt(\"return\",o);case 7:case\"end\":return e.stop()}},e,n)})),d.__listPosts=(r=Pe(regeneratorRuntime.mark(function e(t){var r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.state.db,e.next=3,r.collection(\"posts\").get();case 3:return o=e.sent,a=[],o.forEach(function(e){if(e.exists){var t=ye({docId:e.id},e.data());a.push(t)}}),console.log(a),a.length>0&&t&&(a=a.filter(function(e){return-1!==e.text.toLocaleLowerCase().indexOf(t.toLowerCase())})),e.abrupt(\"return\",a);case 9:case\"end\":return e.stop()}},e,n)})),function(e){return r.apply(this,arguments)}),d.__deleteProfessorGrid=(o=Pe(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"delete-ProfessorGrid, docId: \",t),r=d.state.db,o=r.collection(\"/professorGrid\").doc(t),e.next=5,o.delete().then(function(){console.log(\"delete\")}).catch(function(e){console.error(\"Error deleteing ProfessorGrids\",e)});case 5:case\"end\":return e.stop()}},e,n)})),function(e){return o.apply(this,arguments)}),d.__deleteProfile=(a=Pe(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(\"delete-profile, docId: \",t),r=d.state.db,o=r.collection(\"/profiles\").doc(t),e.next=5,o.delete().then(function(){console.log(\"delete\")}).catch(function(e){console.error(\"Error deleteing Profiles\",e)});case 5:case\"end\":return e.stop()}},e,n)})),function(e){return a.apply(this,arguments)}),d.__deletePost=(i=Pe(regeneratorRuntime.mark(function e(t){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.state.db,o=r.collection(\"/posts\").doc(t),e.next=4,o.delete().then(function(){console.log(\"delete\")}).catch(function(e){console.error(\"Error deleteing posts\",e)});case 4:case\"end\":return e.stop()}},e,n)})),function(e){return i.apply(this,arguments)}),d.__editProfessorGrid=(l=Pe(regeneratorRuntime.mark(function e(t,r,o){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.state.db,e.next=3,a.collection(\"/professorGrid\").doc(t);case 3:return i=e.sent,console.log(t),e.next=7,i.set({gridContent:o,gridTitle:r},{merge:!0});case 7:e.sent;case 8:case\"end\":return e.stop()}},e,n)})),function(e,t,n){return l.apply(this,arguments)}),d.__editProfessor=(s=Pe(regeneratorRuntime.mark(function e(t,r,o){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.state.db,e.next=3,a.collection(\"/professor\").doc(t);case 3:return i=e.sent,console.log(t),e.next=7,i.set({name:r,content:o},{merge:!0});case 7:e.sent;case 8:case\"end\":return e.stop()}},e,n)})),function(e,t,n){return s.apply(this,arguments)}),d.__editProfile=(c=Pe(regeneratorRuntime.mark(function e(t,r,o,a){var i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=d.state.db,e.next=3,i.collection(\"/profiles\").doc(t);case 3:if(l=e.sent,console.log(t),void 0,\"\"!==a){e.next=12;break}return e.next=9,l.set({name:r,content:o},{merge:!0});case 9:e.sent,e.next=15;break;case 12:return e.next=14,l.set({name:r,src:a,content:o},{merge:!0});case 14:e.sent;case 15:case\"end\":return e.stop()}},e,n)})),function(e,t,n,r){return c.apply(this,arguments)}),d.__editPost=(u=Pe(regeneratorRuntime.mark(function e(t,r,o,a,i){var l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=d.state.db,e.next=3,l.collection(\"posts\").doc(t);case 3:return s=e.sent,console.log(\"filename\",a),e.next=7,s.set({title:r,text:o,filename:a,downloadurl:i},{merge:!0});case 7:e.sent;case 8:case\"end\":return e.stop()}},e,n)})),function(e,t,n,r,o){return u.apply(this,arguments)}),d.__editIntro=Pe(regeneratorRuntime.mark(function e(){var t,r,o,a,i,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.state,r=t.db,o=t.introDescription,a=t.introDescription2,i=t.introTitle,e.next=3,r.collection(\"intros\").doc(\"Mzol0ckwXGOeRFFCLXBq\");case 3:return l=e.sent,e.next=6,l.set({introDescription:o,introDescription2:a,introTitle:i},{merge:!0});case 6:e.sent;case 7:case\"end\":return e.stop()}},e,n)})),d.state={masking:!1,postLoading:!1,profileLoading:!1,profiles:[],posts:[],db:Z.firestore(),introTitle:\"\",introDescription:\"\",introDescription2:\"\",isIntroEdit:!1,isProfileEdit:!1,isPostEdit:!1,professor:[],professorGrid:[]},d.handleCreatePost=d.handleCreatePost.bind(d),d._createPost=d._createPost.bind(d),d.handleDeletePost=d.handleDeletePost.bind(d),d.handleEditPost=d.handleEditPost.bind(d),d.modalToggle=d.modalToggle.bind(d),d.listProfiles=d.listProfiles.bind(d),d.handleEditProfile=d.handleEditProfile.bind(d),d.handleDeleteProfile=d.handleDeleteProfile.bind(d),d.handleCreateProfile=d.handleCreateProfile.bind(d),d.handleEditIntro=d.handleEditIntro.bind(d),d.toggleIntroEdit=d.toggleIntroEdit.bind(d),d.handleintroTitleChange=d.handleintroTitleChange.bind(d),d.handleintroDescriptionChange=d.handleintroDescriptionChange.bind(d),d.handleintroDescription2Change=d.handleintroDescription2Change.bind(d),d.handleEditProfessor=d.handleEditProfessor.bind(d),d.handleEditProfessorGrid=d.handleEditProfessorGrid.bind(d),d.handleCreateProfessorGrid=d.handleCreateProfessorGrid.bind(d),d.handleDeleteProfessorGrid=d.handleDeleteProfessorGrid.bind(d),d}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),Ee(t,[{key:\"componentDidMount\",value:function(){this.listProfiles(),this.listPosts(this.props.searchText),this.listIntro(),this.listProfessor(),this.listProfessorGrid()}},{key:\"componentWillUnmount\",value:function(){}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.isIntroEdit,r=t.professorGrid,a=t.professor,i=t.posts,l=t.postLoading,s=t.profiles,c=t.profileLoading,u=t.introDescription,f=t.introDescription2,p=t.introTitle,h=o.a.createElement(\"div\",null);r.length&&(h=r.map(function(t){return o.a.createElement(be,ye({},t,{key:t.id,editMode:e.props.editMode,onEdit:e.handleEditProfessorGrid,onDelete:e.handleDeleteProfessorGrid}))}));var b=o.a.createElement(\"div\",null,o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},p),o.a.createElement(G.a,null,o.a.createElement(m.a,{style:{padding:\"1rem 0rem\",whiteSpace:\"pre-line\"}},o.a.createElement(\"p\",{className:\"lead\"},u),o.a.createElement(\"hr\",{className:\"my-2\"}),o.a.createElement(\"p\",null,f,this.props.editMode&&o.a.createElement(d.a,{onClick:this.toggleIntroEdit,style:{float:\"right\"},color:\"primary\",close:!0},o.a.createElement(\"span\",{\"aria-hidden\":!0},o.a.createElement(O.b,null)))))));return n&&(b=o.a.createElement(\"div\",null,o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},o.a.createElement(F.a,{style:{fontSize:\"1em\"},onChange:this.handleintroTitleChange,defaultValue:p,fullWidth:!0,inputProps:{\"aria-label\":\"naked\"}})),o.a.createElement(m.a,{style:{padding:\"1rem 0rem\"}},o.a.createElement(F.a,{style:{fontSize:\"1.3em\"},className:\"lead\",multiline:!0,fullWidth:!0,defaultValue:u,onChange:this.handleintroDescriptionChange,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(\"hr\",{className:\"my-2\"}),o.a.createElement(\"div\",null,o.a.createElement(F.a,{style:{fontSize:\"1em\"},className:\"lead\",multiline:!0,fullWidth:!0,defaultValue:f,onChange:this.handleintroDescription2Change,inputProps:{\"aria-label\":\"naked\"}}),o.a.createElement(q.a,{style:{float:\"right\"},onClick:this.handleEditIntro},o.a.createElement(H.a,null)),o.a.createElement(q.a,{style:{float:\"right\"},onClick:this.toggleIntroEdit},o.a.createElement(Y.a,null)))))),o.a.createElement(\"div\",{className:\"today\"},o.a.createElement(\"div\",{className:\"posts\"},o.a.createElement(g.a,{isOpen:this.props.modal,toggle:this.modalToggle},o.a.createElement(x,{onPost:this.handleCreatePost})),o.a.createElement(\"div\",{id:\"intros\"},b),o.a.createElement(\"div\",{id:\"professor\",style:{marginBottom:\"2rem\"}},o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},\"About Professor:\"),o.a.createElement(Q,ye({},a[0],{editMode:this.props.editMode,onEdit:this.handleEditProfessor})),h,this.props.editMode&&o.a.createElement(\"div\",{style:{display:\"grid\"}},o.a.createElement(d.a,{onClick:this.handleCreateProfessorGrid},\"Add Column\"))),o.a.createElement(\"div\",{id:\"members\"},o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},\"Members:\"),o.a.createElement(pe,{profiles:s,onEditProfile:this.handleEditProfile,onDeleteProfile:this.handleDeleteProfile,onCreateProfile:this.handleCreateProfile,editMode:this.props.editMode}),c&&o.a.createElement(v.a,{color:\"warning\",className:\"loading\"},\"Loading...\")),o.a.createElement(\"div\",{id:\"papers\"},o.a.createElement(I.a,{style:{textAlign:\"left\"},variant:\"h4\",gutterBottom:!0},\"Papers:\")),o.a.createElement(U,{posts:i,onDeletePost:this.handleDeletePost,onEditPost:this.handleEditPost,editMode:this.props.editMode}),l&&o.a.createElement(v.a,{color:\"warning\",className:\"loading\"},\"Loading...\")))}},{key:\"toggleIntroEdit\",value:function(){this.setState(function(e){return{isIntroEdit:!e.isIntroEdit}})}},{key:\"modalToggle\",value:function(){this.props.onPostChange()}},{key:\"listProfessorGrid\",value:function(){var e=this;console.log(\"list-ProfessorGrid\"),this._listProfessorGrid().then(function(t){console.log(\"ProfessorGrid: \",t),e.setState({professorGrid:t})}).catch(function(t){console.error(\"Error listing ProfessorGrid\",t),e.setState({professorGrid:professorGrid})})}},{key:\"_listProfessorGrid\",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfessorGrid())})}},{key:\"listProfessor\",value:function(){var e=this;console.log(\"list-Professor\"),this._listProfessor().then(function(t){console.log(\"Professors: \",t),e.setState({professor:t})}).catch(function(t){console.error(\"Error listing Professors\",t),e.setState({professor:professor})})}},{key:\"_listProfessor\",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfessor())})}},{key:\"listIntro\",value:function(){var e=this;console.log(\"list-intro\"),this._listIntro().then(function(t){console.log(\"intros: \",t),e.setState({introTitle:t[0].introTitle,introDescription:t[0].introDescription,introDescription2:t[0].introDescription2})}).catch(function(t){console.error(\"Error listing intros\",t),e.setState({introTitle:intros.title,introDescription:intros.introDescription,introDescription2:intros.introDescription2})})}},{key:\"_listIntro\",value:function(){var e=this;return new Promise(function(t,n){t(e.__listIntro())})}},{key:\"listProfiles\",value:function(){var e=this;console.log(\"list-profile\"),this.setState({profileLoading:!0},function(){e._listProfiles().then(function(t){console.log(t),e.setState({profiles:t,profileLoading:!1})}).catch(function(t){console.error(\"Error listing profiles\",t),e.setState({profiles:profiles,profileLoading:!1})})})}},{key:\"_listProfiles\",value:function(){var e=this;return new Promise(function(t,n){t(e.__listProfiles())})}},{key:\"listPosts\",value:function(e){var t=this;console.log(\"list-post\"),this.setState({postLoading:!0},function(){t._listPosts(e).then(function(e){console.log(e),t.setState({posts:e,postLoading:!1})}).catch(function(e){console.error(\"Error listing posts\",e),t.setState({posts:[],postLoading:!1})})})}},{key:\"_listPosts\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__listPosts(e))})}},{key:\"handleCreateProfessorGrid\",value:function(){var e=this;this._createProfessorGrid().then(function(){e.listProfessorGrid()}).catch(function(e){console.error(\"Error creating ProfessorGrid\",e),alert(\"Error creating ProfessorGrid, please try again!\")})}},{key:\"_createProfessorGrid\",value:function(){var e=this;return new Promise(function(t,n){t(e.__createProfessorGrid())})}},{key:\"__createProfessorGrid\",value:function(){var e=this.state.db,t={id:y()(),name:\"Title\",content:\"Content\"};e.collection(\"/professorGrid\").add(ye({},t)).then(function(e){return console.log(\"Document written with ID:\",e.id),t}).catch(function(e){console.log(\"Error adding document\",error)})}},{key:\"handleCreateProfile\",value:function(){var e=this;this._createProfile().then(function(){e.listProfiles()}).catch(function(e){console.error(\"Error creating Profiles\",e),alert(\"Error creating Profiles, please try again!\")})}},{key:\"_createProfile\",value:function(){var e=this;return new Promise(function(t,n){t(e.__createProfile())})}},{key:\"__createProfile\",value:function(){var e=this.state.db,t={id:y()(),src:\"http://res.cloudinary.com/sagacity/image/upload/c_crop,h_800,w_616,x_0,y_0/c_scale,w_640/v1419879339/iVegJ35_xfjlfu.gif\",name:\"Your Name\",ts:P()().unix(),content:\"Your introduction\"};e.collection(\"/profiles\").add(ye({},t)).then(function(e){return console.log(\"Document written with ID:\",e.id),t}).catch(function(e){console.log(\"Error adding document\",error)})}},{key:\"handleCreatePost\",value:function(e,t,n,r){var o=this;this._createPost(e,t,n,r).then(function(){o.listPosts(o.props.searchText),o.modalToggle()}).catch(function(e){console.error(\"Error creating posts\",e),alert(\"Error creating Posts, please try again!\")})}},{key:\"_createPost\",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__createPost(e,t,n,r))})}},{key:\"__createPost\",value:function(e,t,n,r){var o=this.state.db,a={id:y()(),title:e,text:t,ts:P()().unix(),filename:n,downloadurl:r};o.collection(\"posts\").add(ye({},a)).then(function(e){return console.log(\"Document written with ID:\",e.id),a}).catch(function(e){console.log(\"Error adding document\",error)})}},{key:\"handleDeleteProfessorGrid\",value:function(e){var t=this;this._deleteProfessorGrid(e).then(function(){t.listProfessorGrid()}).catch(function(e){console.error(\"Error deleting ProfessorGrids\",e)})}},{key:\"_deleteProfessorGrid\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deleteProfessorGrid(e))})}},{key:\"handleDeleteProfile\",value:function(e){var t=this;this._deleteProfile(e).then(function(){t.listProfiles()}).catch(function(e){console.error(\"Error deleting Profiles\",e)})}},{key:\"_deleteProfile\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deleteProfile(e))})}},{key:\"handleDeletePost\",value:function(e){var t=this;this._deletePost(e).then(function(){t.listPosts(t.props.searchText)}).catch(function(e){console.error(\"Error deleting posts\",e)})}},{key:\"_deletePost\",value:function(e){var t=this;return new Promise(function(n,r){n(t.__deletePost(e))})}},{key:\"handleEditProfessorGrid\",value:function(e,t,n){var r=this;this._editProfessorGrid(e,t,n).then(function(){console.log(\"Edit-Professor Complete!\"),r.listProfessorGrid()}).catch(function(e){console.error(\"Error editing Professor\",e)})}},{key:\"_editProfessorGrid\",value:function(e,t,n){var r=this;return new Promise(function(o,a){o(r.__editProfessorGrid(e,t,n))})}},{key:\"handleEditProfessor\",value:function(e,t,n){var r=this;this._editProfessor(e,t,n).then(function(){console.log(\"Edit-Professor Complete!\"),r.listProfessor()}).catch(function(e){console.error(\"Error editing Professor\",e)})}},{key:\"_editProfessor\",value:function(e,t,n){var r=this;return new Promise(function(o,a){o(r.__editProfessor(e,t,n))})}},{key:\"handleEditProfile\",value:function(e,t,n,r){var o=this;this._editProfile(e,t,n,r).then(function(){console.log(\"Edit-Profile Complete!\"),o.listProfiles()}).catch(function(e){console.error(\"Error editing profiles\",e)})}},{key:\"_editProfile\",value:function(e,t,n,r){var o=this;return new Promise(function(a,i){a(o.__editProfile(e,t,n,r))})}},{key:\"handleEditPost\",value:function(e,t,n,r,o){var a=this;this._editPost(e,t,n,r,o).then(function(){console.log(\"Edition Complete!\"),a.listPosts(a.props.searchText)}).catch(function(e){console.error(\"Error creating posts\",e)})}},{key:\"_editPost\",value:function(e,t,n,r,o){var a=this;return new Promise(function(i,l){i(a.__editPost(e,t,n,r,o))})}},{key:\"handleEditIntro\",value:function(){var e=this;this._editIntro().then(function(){console.log(\"Edit-Intro complete!\"),e.listIntro(),e.toggleIntroEdit()}).catch(function(e){console.error(\"Error creating Intros\",e)})}},{key:\"_editIntro\",value:function(){var e=this;return new Promise(function(t,n){t(e.__editIntro())})}}]),t}();we.propTypes={onPostChange:h.a.func,modal:h.a.bool,editMode:h.a.bool};var ke=we,Ce=n(350),xe=n.n(Ce),je=(n(621),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var _e=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={unit:\"metric\",navbarToggle:!1,searchText:\"\",showModal:!1,loading:!1,error:null,loggedIn:null,recoverPasswordSuccess:null,initialTab:null,showProfileImg:!1,modalPost:!1,editMode:!1},n.searchEl=null,n.handleUnitChange=n.handleUnitChange.bind(n),n.openModal=n.openModal.bind(n),n.closeModal=n.closeModal.bind(n),n.afterTabsChange=n.afterTabsChange.bind(n),n.startLoading=n.startLoading.bind(n),n.onLoginFail=n.onLoginFail.bind(n),n.onLoginSuccess=n.onLoginSuccess.bind(n),n.finishLoading=n.finishLoading.bind(n),n.onLogin=n.onLogin.bind(n),n.onRecoverPassword=n.onRecoverPassword.bind(n),n.onRegister=n.onRegister.bind(n),n.logOut=n.logOut.bind(n),n.postModalToggle=n.postModalToggle.bind(n),n.editModeToggle=n.editModeToggle.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),je(t,[{key:\"componentWillMount\",value:function(){l.auth().onAuthStateChanged(function(e){e&&(console.log(\"Auto Login\"),console.log(e.uid),this.setState({showProfileImg:!0}))}.bind(this))}},{key:\"render\",value:function(){var e=this,t=o.a.createElement(\"div\",null),n=o.a.createElement(\"div\",null,o.a.createElement(d.a,{className:\"navbarBtn\",color:\"success\",onClick:function(){return e.openModal()}},\"Login\")),r=function(){return o.a.createElement(\"div\",null)};if(this.state.showProfileImg){console.log(\"showImg\");r=function(){return o.a.createElement(\"img\",{className:\"profileImg\",src:\"http://res.cloudinary.com/sagacity/image/upload/c_crop,h_800,w_616,x_0,y_0/c_scale,w_640/v1419879339/iVegJ35_xfjlfu.gif\"})},n=o.a.createElement(\"div\",null,o.a.createElement(d.a,{className:\"navbarBtn\",color:\"danger\",onClick:function(){return e.logOut()}},\"LogOut\")),t=this.state.editMode?o.a.createElement(\"div\",null,o.a.createElement(d.a,{className:\"navbarBtn\",onClick:function(){return e.editModeToggle()}},\"View\")):o.a.createElement(\"div\",null,o.a.createElement(d.a,{className:\"navbarBtn\",onClick:function(){return e.editModeToggle()}},\"Edit\"))}return o.a.createElement(s.HashRouter,null,o.a.createElement(\"div\",{className:\"main\"},o.a.createElement(\"div\",{className:\"bg-faded fixed-top\"},o.a.createElement(f.a,{color:\"white\",dark:!0,style:{padding:\"0rem 0rem\"}},o.a.createElement(\"div\",{className:\"container\"},o.a.createElement(u.HashLink,{smooth:!0,to:\"#intros\"},\" Introduction\"),o.a.createElement(u.HashLink,{smooth:!0,to:\"#members\"},\" Members\"),o.a.createElement(u.HashLink,{smooth:!0,to:\"#papers\"},\" Papers\"),o.a.createElement(\"div\",{className:\"navbar\"},o.a.createElement(r,null),this.state.editMode&&o.a.createElement(d.a,{className:\"navbarBtn\",onClick:function(){return e.postModalToggle()}},\"New Post\"),t,n)))),o.a.createElement(xe.a,{visible:this.state.showModal,onCloseModal:this.closeModal,loading:this.state.loading,error:this.state.error,tabs:{afterChange:this.afterTabsChange},loginError:{label:\"Couldn't sign in, please try again.\"},registerError:{label:\"Couldn't sign up, please try again.\"},startLoading:this.startLoading,finishLoading:this.finishLoading,form:{onLogin:this.onLogin,onRegister:this.onRegister,onRecoverPassword:this.onRecoverPassword,recoverPasswordSuccessLabel:this.state.recoverPasswordSuccess?{label:\"New password has been sent to your mailbox!\"}:null,recoverPasswordAnchor:{label:\"Forgot your password?\"},loginBtn:{label:\"Sign in\"},registerBtn:{label:\"Sign up\"},recoverPasswordBtn:{label:\"Send new password\"},loginInputs:[{containerClass:\"RML-form-group\",label:\"Email\",type:\"email\",inputClass:\"RML-form-control\",id:\"email\",name:\"email\",placeholder:\"Email\"},{containerClass:\"RML-form-group\",label:\"Password\",type:\"password\",inputClass:\"RML-form-control\",id:\"password\",name:\"password\",placeholder:\"Password\"}],registerInputs:[{containerClass:\"RML-form-group\",label:\"Nickname\",type:\"text\",inputClass:\"RML-form-control\",id:\"login\",name:\"login\",placeholder:\"Nickname\"},{containerClass:\"RML-form-group\",label:\"Email\",type:\"email\",inputClass:\"RML-form-control\",id:\"email\",name:\"email\",placeholder:\"Email\"},{containerClass:\"RML-form-group\",label:\"Password\",type:\"password\",inputClass:\"RML-form-control\",id:\"password\",name:\"password\",placeholder:\"Password\"}],recoverPasswordInputs:[{containerClass:\"RML-form-group\",label:\"Email\",type:\"email\",inputClass:\"RML-form-control\",id:\"email\",name:\"email\",placeholder:\"Email\"}]}}),o.a.createElement(c.d,{exact:!0,path:\"/\",render:function(){return o.a.createElement(\"div\",null,o.a.createElement(ke,{editMode:e.state.editMode,modal:e.state.modalPost,searchText:e.state.searchText,onPostChange:e.postModalToggle}))}}),o.a.createElement(\"div\",{className:\"footer\"},\"Doge\")))}},{key:\"editModeToggle\",value:function(){this.setState(function(e){return{editMode:!e.editMode}})}},{key:\"handleSearchKeyPress\",value:function(e){13===(e.keyCode||e.which)&&this.setState({searchText:e.target.value})}},{key:\"postModalToggle\",value:function(){console.log(\"toggle\"),this.setState(function(e){return{modalPost:!e.modalPost}})}},{key:\"openModal\",value:function(){this.setState({showModal:!0})}},{key:\"closeModal\",value:function(){this.setState({showModal:!1,error:null})}},{key:\"onLoginSuccess\",value:function(e,t){console.log(\"logged successfully with \"+e)}},{key:\"onLoginFail\",value:function(e,t){console.log(\"logging failed with \"+e),this.setState({error:t})}},{key:\"startLoading\",value:function(){this.setState({loading:!0})}},{key:\"finishLoading\",value:function(){this.setState({loading:!1})}},{key:\"afterTabsChange\",value:function(){this.setState({error:null})}},{key:\"onLogin\",value:function(){var e=this;console.log(\"__onLogin__\"),console.log(\"email: \"+document.querySelector(\"#email\").value),console.log(\"password: \"+document.querySelector(\"#password\").value);var t=document.querySelector(\"#email\").value,n=document.querySelector(\"#password\").value;l.auth().signInWithEmailAndPassword(t,n).then(function(e){console.log(e),window.location.reload()}).catch(function(t){console.log(t),e.setState({error:!0})})}},{key:\"onRegister\",value:function(){console.log(\"__onRegister__\"),console.log(\"login: \"+document.querySelector(\"#login\").value),console.log(\"email: \"+document.querySelector(\"#email\").value),console.log(\"password: \"+document.querySelector(\"#password\").value),alert(\"恭喜你, 這個功能並不會實裝!\");var e=document.querySelector(\"#login\").value,t=document.querySelector(\"#email\").value,n=document.querySelector(\"#password\").value;e&&t&&n?this.onLoginSuccess(\"form\"):this.setState({error:!0})}},{key:\"onRecoverPassword\",value:function(){console.log(\"__onFotgottenPassword__\"),console.log(\"email: \"+document.querySelector(\"#email\").value),document.querySelector(\"#email\").value?this.setState({error:null,recoverPasswordSuccess:!0}):this.setState({error:!0,recoverPasswordSuccess:!1})}},{key:\"handleUnitChange\",value:function(e){this.setState({unit:e})}},{key:\"logOut\",value:function(){try{l.auth().signOut().then(function(){console.log(\"Log out!\"),window.location.reload()})}catch(e){console.log(e.toString())}}}]),t}();n(623);n(368),n(570);l.initializeApp({apiKey:\"AIzaSyArpjCc1g2QPusAtClfimeay6tNtkumdVk\",authDomain:\"lab-website-746cb.firebaseapp.com\",databaseURL:\"https://lab-website-746cb.firebaseio.com\",projectId:\"lab-website-746cb\",storageBucket:\"gs://lab-website-746cb.appspot.com\",messagingSenderId:\"207260029948\",appId:\"1:207260029948:web:dbc6c7f6f3df074d\"}),window.onload=function(){i.a.render(o.a.createElement(_e,null),document.getElementById(\"root\"))}}});"],"mappings":"AAAA","sourceRoot":""}